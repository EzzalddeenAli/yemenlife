if(jQuery){var originalFn=$.fn.data;$.fn.data=function(){if("$binding"!==arguments[0])return originalFn.apply(this,arguments)}}$(".dropdown-menu").click(function(e){e.stopPropagation()});var OraSchool=angular.module("OraSchool",["LocalStorageModule","ngRoute","ui.bootstrap","oc.lazyLoad","angularUtils.directives.dirPagination","ngSanitize","ui.select","sc.select"]).run(["$window","$compile","$controller","$http","dataFactory","$rootScope","EzzFilter","$loader","$q","$timeout","$location","$ocLazyLoad","$injector","$uibModal","localStorageService",function(e,t,n,l,o,i,s,a,c,r,d,m,u,p,g){i.title=" | HQ ",i.defaultAcademicYear=function(){angular.forEach(i.dashboardData.academicYear,function(e){if("1"==e.isDefault)return e.id})},i.online=navigator.onLine,i.onlineStatus="متصل",e.addEventListener("offline",function(){i.$apply(function(){i.online=!1,i.onlineStatus="لايوجد انترنت"})},!1),e.addEventListener("online",function(){i.$apply(function(){i.online=!0,i.onlineStatus="متصل"})},!1),i.icons=!1,i.$EzzFilter=s,i.$loader=a,i.selects={},i.reports=[],i.rat_cancel=function(){i.rate_model=!i.rate_model},i.toggleCSidebar=function(e,t){var n=t;is_undefined(t)&&(n="ezz-rside"),$(e).slideDown(50),$(e).toggleClass(n)},i.showToast=function(e){showToast(e)},i.printTable=function(e){r(function(){$.print(e)})},i.openWindowFull=function(e,t){openWindowFull(buildUrl(e,t)||e)},i.openInvoicesReport=function(e){p.open({animation:!1,backdrop:"static",keyboard:!1,component:"invoicesReport",resolve:{customer:function(){return e}}}).result.then(function(e){},function(){})},i.openAccountReport=function(e,t,n){p.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:"accountReport",resolve:{forId:function(){return e},type:function(){return t},title:function(){return n}}}).result.then(function(e){},function(){})},i.logOut=function(e){$.confirm({title:"تسجيل الخروج",content:"هل تريد تسجيل الخروج من النظام",type:"red",buttons:{yes:{text:"نعم",btnClass:"btn-green",keys:["enter"],action:function(){redirectTo(e)}},cancel:{text:"لا"}}})},i.openActionModel=function(e){try{const t=p.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:"actionModel",resolve:{action:function(){return e}}});try{t.result.then(function(){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.openModelForItem=function(e,t,n,l){try{const o=p.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forItem:function(){return t},mainName:function(){return n},lineName:function(){return l}}});try{o.result.then(function(){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.messagesCli={},i.messagesCliCount=0,i.messagesCliView=!1,i.addCliMessage=function(e){try{if(is_undefined(e.mId)&&(e.mId="sys"+uuid.v1()),is_undefined(e.at)&&(e.at=Date.now()),is_undefined(e.itemId)&&(e.itemId="sys"+uuid.v1()),is_undefined(i.messagesCli[e.mId])){var t=CopyObject(e);i.messagesCli[e.mId]=t}is_undefined(i.messagesCli[e.mId].mCliItems)&&(i.messagesCli[e.mId].mCliItems={}),is_undefined(e.message)||(i.messagesCli[e.mId].message=e.message),i.messagesCli[e.mId].mCliItems[e.itemId]=e;try{i.messagesCliView||i.messagesCliCount++}catch(e){}}catch(e){}},i.clearCliMessage=function(e){i.messagesCli={}},i.toggleNotify=function(){$(".notifySidebar").slideDown(50),$(".notifySidebar").toggleClass("ezz-rside-50"),i.messagesCliView=!i.messagesCliView,i.messagesCliCount=0},i.getSelect=function(e){void 0===i.selects[e]&&o.httpRequest("index.php/admin/getfilters/"+e).then(function(t){i.selects[e]=t})},i.auth=!0,i.setAuth=function(e){i.auth=e},i.noAuth=function(){return!i.auth},i.openAddModel=function(e,t){try{var n=p.open({animation:!1,size:"lg modal-lgx res-fullscreen",backdrop:"static",keyboard:!1,component:e,resolve:{forId:function(){return t}}});try{n.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.openModel=function(e,t){try{var n=p.open({animation:!1,size:"lg res-fullscreen",backdrop:"static",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:e,resolve:{forId:function(){return t}}});try{n.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.closeAllPanels=function(){try{jsPanel.getPanels(function(){return this.classList.contains("jsPanel")}).some(function(e){if(logCatch(e.options.minimizeTo),"default"===e.options.minimizeTo)return e.minimize(),!0})}catch(e){logCatch(e)}},i.openBkReport=function(){p.open({animation:!1,size:"fullscreen",backdrop:"static",keyboard:!1,component:"bkReport"}).result.then(function(e){},function(){})},i.openModelType=function(e,t,n,l,o){try{let s="lgx res-fullscreen";try{o.size&&(s=o.size+"  res-fullscreen")}catch(e){}var i=p.open({animation:!1,size:s,windowTemplateUrl:"assets/templates/wind.html",keyboard:!0,component:e,resolve:{forId:function(){return t},type:function(){return n},parms:function(){return o},title:function(){return l}}});try{i.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.openModelTypeSmall=function(e,t,n,l){i.openModelType2(e,t,n,l,{size:" "})},i.openModelType2=function(e,t,n,l,o){try{let s="lgx res-fullscreen";try{o.size&&(s=o.size+"  res-fullscreen")}catch(e){}var i=p.open({animation:!1,size:s,keyboard:!0,component:e,resolve:{forId:function(){return t},type:function(){return n},parms:function(){return o},title:function(){return l}}});try{i.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.openPanelType=function(e,t,n,l,o,i){try{$(".navbar-collapse").collapse("hide")}catch(e){}try{var s=injector().get("$ezzPanel");let r="lgx res-fullscreen";try{o.size&&(r=o.size+"  res-fullscreen")}catch(e){}var a={animation:!1,size:r,maximizedMargin:[0,0,0,0],status:"normalized",theme:"teal800 filleddark",title:l,keyboard:!0,component:e,resolve:{forId:function(){return t},type:function(){return n},parms:function(){return o},title:function(){return l}}};try{i&&(a.container=i.content,a.panelSize="97% 90%",a.minimizeTo="parentpanel")}catch(e){logCatch(e)}var c=s.open(a);try{c.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.openReportsPage=function(){jsPanel.ziBase=1030,jsPanel.ziBase=1059,jsPanel.errorReporting=0;jsPanel.create({id:"pageReports",headerTitle:"الحسابات والتقارير",panelSize0:{width:()=>.5*window.innerWidth,height:"50vh"},panelSize:"70% 70%",maximizedMargin:[42,0,0,0],headerControls:"all",boxShadow:5,theme:"dark filleddark",setStatus:"maximized",snapped:!0,content:"<div ng-include=\"'assets/templates/reports.html?gdgh'\"></div>",onbeforeclose:function(e,t,n,l){return!0},callback:function(){var e=this,l=angular.element(this.content),o=t(l),s={hide:function(e){panel.close(),deferred.resolve(e)},cancel:function(e){panel.close(),deferred.reject(e)},msg:function(e){alert(e)},getPanel:function(){return panel}},a=i.$new(!1,i);a.$panel=e,a.closeTest=function(){alert("closeTest"),e.close()},n("reportsPanelController",{$scope:a,$element:l,$wbFloat:s}),o(a)}})},i.openWindowUrl=function(e,t){openWindowFull(e,t)},i.openFullModel=function(e,t){try{var n=p.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forId:function(){return t}}});try{n.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.openModelViewer=function(e,t){try{var n=p.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:e,resolve:{forId:function(){return t},isModel:function(){return!0}}});try{n.result.then(function(e){},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.can=function(e){try{return void 0!==i.dashboardData&&void 0!==i.dashboardData.perms&&-1!==i.dashboardData.perms.indexOf(e)}catch(e){return logCatch(e),!1}},i.config=function(e){try{return void 0!==i.dashboardData&&void 0!==i.dashboardData.settings&&(void 0!==i.dashboardData.settings[e]&&i.dashboardData.settings[e])}catch(e){return logCatch(e),!1}},i.canUse=function(e){try{return void 0!==i.dashboardData&&void 0!==i.dashboardData.usePerms&&-1!==i.dashboardData.usePerms.indexOf(e)}catch(e){return logCatch(e),!1}},i.canActive=function(e){return i.can(e+".Active")||i.can(e+".ActiveReq")},i.canPriority=function(e){return i.can(e+".showPriority")||i.can(e+".addPriority")},i.cachedActive=function(e){return isCachActive(e)||!1},i.getCached=function(e){try{var t="h";try{t=i.dashboardData.h}catch(e){}var n=g.get(t+e);return n||(def||{})}catch(e){}return{}},i.setCached=function(e,t){try{var n="h";try{n=i.dashboardData.h}catch(e){}g.set(n+e,t)}catch(e){}},i.showIcons=function(){0==i.icons?o.httpRequest("index.php/admin/icons").then(function(e){i.icons=e,i.modalClass="modal-lg",i.showIconsView=!i.showIconsView}):(i.modalClass="modal-lg",i.showIconsView=!i.showIconsView)},$(".preloader").hide();try{m.load(getAutoLoadFiles()).catch(function(e){logCatch(e)})}catch(e){logCatch(e)}}]),appBaseUrl=$("base").attr("href");angular.module("OraSchool").controller("testController",["dataFactory","$scope","$filter",function(e,t,n){}]).controller("mainController",["$location","EzzFilter","dataFactory","$timeout","$rootScope","$route","$scope","$injector",function(e,t,n,l,o,i,s,a){o.messages=[],o.messages=[],s.EzzFilter=t,s.ago=function(e){return ago(e)},s.agoDate=function(e,t){return agoDate(e,t)},s.setActivatedTab=function(e){s.activatedTab=e},s.isActive=function(t){return t===e.path()},s.chgAcYearModal=function(){s.modalTitle=s.phrase.chgYear,s.chgAcYearModalShow=!s.chgAcYearModalShow},s.page_title="mainController",s.adminHasPerm=function(e){return o.dashboardData.perms.some(function(t){return t.indexOf(e)>-1})},l(function(){s.setIntervalnew(),s.onunload()},5),s.printPdf=function(e){$(".no-print").hide();const t=document.getElementById(e),n=new jsPDF("p","pt","a4");n.addHTML(t,{},function(){n.save("ورقة.pdf")}),$(".no-print").show()},s.printImage=function(e,t){var n=document.getElementById(e).toDataURL("image/jpg");document.getElementById(t).href=n},s.renderedInput=function(e){return"<input type='"+e+"' class='form-control input-sm' ng-model='ezzzzoz' />"},s.showReport=function(e,t){s.selectedTapDialog="home",s.modalEzzTitle="تفاصيل الخائن لـ "+t,s.modalEzzClass="modal-lg modal-lgx",s.infoItem=e,s.showReportView=!s.showReportView,o.toggleCSidebar(".ezzSidebarTabs","ezz-rside-90")},s.openSearchResultAllTabs=function(e){angular.forEach(e,function(e,t){s.infoItem.searchResult[t].openTab=!0})},s.showSearchResult=function(e,t){t.openTab=!0,t.loadTab=!0,s.selectedTapDialog="searchResult_"+t.code},s.closeSearchTab=function(e){delete e.openTab,s.seatTabMainDialog("home")},s.seatTabMainDialog=function(e){s.selectedTapDialog=e},s.openMediaTap=function(e){delete s.infoItem.curMediaPage,s.selectedTapDialog="",l(function(){s.selectedTapDialog=e})},s.openUploadMediaTap=function(e){s.infoItem.curMediaPage="addMedia",s.selectedTapDialog="",l(function(){s.selectedTapDialog=e})},s.loadItemInfo=function(e){showHideLoad(),n.httpRequest("index.php/admin/require_list/"+e+"?tabInfo=true").then(function(e){showHideLoad(!0),s.infoItem=e,s.showReport(e,e.name)})},s.searchAsyncCache={},o.searchAsydnc=function(e,t){return void 0===s.searchAsyncCache["index.php/admin/"+no]?n.httpRequest("index.php/admin/"+no).then(function(e){return s.searchAsyncCache["index.php/admin/"+no]=e,s.searchAsyncCache["index.php/admin/"+no]}):getDataPromise(s.searchAsyncCache["index.php/admin/"+no])},o.selects={},o.searchAsync=function(e,t){return void 0===o.selects[e]?n.httpRequest("index.php/admin/filtersFor/"+e).then(function(t){return o.selects[e]=t,o.selects[e]}):getDataPromise(o.selects[e])},o.searchAsyncItemArr={},o.searchAsyncItem=function(e,t){return void 0===o.searchAsyncItemArr[e]&&(o.searchAsyncItemArr[e]=[]),t?t.length<3?o.searchAsyncItemArr[e]:n.httpRequest("index.php/admin/filtersFor/"+e,"GET",{text:t,for:e}).then(function(t){return o.searchAsyncItemArr[e]=t,t}):o.searchAsyncItemArr[e]},s.printPdfOne=function(e){var t=$("#"+e).innerHeight(),n=$("#"+e).innerWidth();const l=document.getElementById(e),o=new jsPDF("l","pt",[n,t]);o.addHTML(l,function(){o.save("ورقة.pdf")})},s.setIntervalnew=function(){setInterval(function(){},7e3)},s.ondialoCallBack=function(e){s.dialoCallBack(e),s.modalTitle="",s.modalClass="modal-lg",s.tripsModel=!s.tripsModel},s.onunload=function(){n.httpRequest("index.php/admin/baseMessages").then(function(e){e?(s.messages=e.messages,o.totalItemsMessages=e.totalItems,o.messages=e.messages,o.totalNotification_Push=e.totalNotification_Push,o.totalItemsorders=e.totalItemsorders,o.orders=e.orders,!o.totalNotification_Push<=0&&o.showNotification("لديك طلبات جديدة !","يوجد لديك "+o.totalNotification_Push+" طلب جديد"),!o.totalItemsMessages>0?s.shooow=!1:s.shooow=!0):e||$.toast({heading:"لايوجد اتصال",text:"تأكد من وجود الانترنت",position:"top-right",loaderBg:"#ff6849",icon:"info",hideAfter:3e3,stack:6})})},s.changeStatus=function(e,t,l){2==e.active?msg="سيتم الموافقة على الطلب  هل انت متأكد ؟":1==e.active?msg="سيتم التعطيل  هل انت متأكد ؟":0==e.active?msg="سيتم التفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",$.confirm({title:"تغيير حالة العنصر ؟؟",content:msg,type:"green",buttons:{yes:{text:"حسنا",btnClass:"btn-green",keys:["enter"],action:function(){showHideLoad(),n.httpRequest("index.php/admin/"+l+"/active/"+e.id,"POST",{},{}).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(s.items[t].active=e.active)}),showHideLoad(!0)}},cancel:{text:"الغاء",action:function(){return!0}}}})},s.changeTheme=function(e){$("#theme").attr({href:"assets/colors/"+e+".css"}),o.dashboardData.baseUser.defTheme=e,n.httpRequest("index.php/admin/changeTheme/"+e,"POST",{},{}).then(function(e){}),$("#themecolors").on("click","a",function(){$("#themecolors li a").removeClass("working"),$(this).addClass("working")})},s.changeFontSize=function(e){$("#fontSize").attr({href:"assets/size/"+e+".css"})},s.fontSize="-1";try{if(store.has("fontSize")){var c=store.get("fontSize");parseInt(c,10)<6&&parseInt(c,10)>-5&&(s.changeFontSize(c),s.fontSize=c)}s.$watch("fontSize",function(e){store.put("fontSize",e)})}catch(e){logCatch(e),s.fontSize="-1"}showHideLoad(!0)}]).controller("dashboardController",["dataFactory","$rootScope","$scope",function(e,t,n){n.stats={},goTop(),e.httpRequest("index.php/admin/reportsAll","POST",{},{}).then(function(e){e?(n.reports=e,t.reports=e):e||$.toast({heading:"لايوجد اتصال",text:"تأكد من وجود الانترنت",position:"top-right",loaderBg:"#ff6849",icon:"info",hideAfter:3e3,stack:6}),showHideLoad(!0)}),n.adminHasPerm=function(e){return void 0!==t.dashboardData&&void 0!==t.dashboardData.perms&&t.dashboardData.perms.some(function(t){return t.indexOf(e)>-1})}}]).controller("table0Controller",["dataFactory","EzzFilter","$uibModal","$timeout","$filter","$scope","$routeParams","$location","$sce","$rootScope","$route",function(e,t,n,l,o,i,s,a,c,r,d){i.addItem=function(e,t){void 0===i.form[e]&&(i.form[e]=[]),log(i.form[e]),i.form[e].push(i[t]),i[t]={}},i.pushAdder=function(e){void 0===i.form[e]&&(i.form[e]=[]),i.form[e].push({})},i.removeItem=function(e,t){void 0===i.form[e]&&(i.form[e]=[]),i.form[e].splice(t,1)},i.push=function(e,t){void 0===i[e][t]&&(e=[]),i[e][t].push({})},i.err=function(e){alert(e)},i.postTo=function(t,n,l){return void 0===n&&(n={}),n.checkedItems=i.checkedItems,e.httpRequest("index.php/admin/"+t,"POST",{},n).then(function(e){apiResponse(e,"add");return"success"==e.status&&l&&i.changeView("list"),showHideLoad(!0),e})},i.getTabId=function(e,t){return e.tabId?e.tabId:t+4+"reportTab"+e.id},i.getModelUrl=function(e,t){return"index.php/admin/"+i.methodName},i.getMethodNameUrl=function(e,t){return i.methodName},i.openTabModel=function(e,t){l(function(){i.modelManger.selectedTab=e.tabId})},i.closeTab=function(e){e.active=0},i.showJobModal=function(e){n.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/dtemplst/wind.html",backdrop:"static",keyboard:!1,component:"modalJob",resolve:{item:function(){return e}}}).result.then(function(e){i.selected=e},function(){log("modal-component dismissed at: "+new Date)})},i.filterUsers=function(e,t){return o("filter")(e,function(e){return e.job_type.includes(t)})},i.canShowUser=function(e,t){try{return log({selectedNextId:i.form.selectedNextId,job_type:e.job_type,includes:e.job_type.includes(i.form.selectedNextId)}),log(i.form.selectedNextId),e.job_type.includes(i.form.selectedNextId)}catch(e){return logCatch(e),!0}},i.postItemTo=function(t,n,l,o){void 0===n&&(n={}),o&&showHideLoad(),e.httpRequest("index.php/admin/"+t,"POST",{},n).then(function(e){response=apiResponse(e,"add"),e&&"success"==e.status&&angular.forEach(e.item,function(e,t){try{i.items[l][t]=e}catch(e){logCatch(e)}}),showHideLoad(!0)})},i.rowtemp={},i.items={},i.filters={},i.views={},i.form={},i.searchInput={},i.userRole=r.dashboardData.role,i.cur_page=1,i.fffiles="",i.formSettings={},i.selectedTap=1,i.viewType="list",i.showModal=!1,i.acdMain=0;var m="";try{m=is_undefined(d.current.methodName)?is_undefined(s.table)?"error":s.table:d.current.methodName}catch(e){try{m=is_undefined(s.table)?"error":s.table}catch(e){m="error"}}i.methodName=m,i.totalItems=0,i.pageMax="20";try{if(store.has(i.methodName+".pageMax")){var u=store.get(i.methodName+".pageMax");parseInt(u,10)>9&&(i.pageMax=u)}}catch(e){logCatch(e),i.pageMax="20"}try{i.showSearch=store.get(i.methodName+".showSearch"),i.$watch("showSearch",function(e){store.put(i.methodName+".showSearch",e)})}catch(e){}i.setMax=function(){i.getResultsPage(1);try{store.put(i.methodName+".pageMax",i.pageMax)}catch(e){logCatch(e)}},i.openChildrenFor=function(e,t,l,o){try{var s=n.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"viewListItems",resolve:{forId:function(){return e},title:function(){return l},forModel:function(){return o},viewType:function(){return"list"},methodName:function(){return t},templateUrl:function(){return"assets/views/"+t+".html"}}});try{s.result.then(function(e){"success"==e.status&&(i.getResultsPage(),i.EditOrderModel=!1,i.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.startEdit=function(t){showHideLoad(),e.httpRequest(i.getModelUrl()+"/"+t).then(function(e){i.form=e,showHideLoad(!0)})},i.loadFilters=function(){var t=i.getModelUrl()+"List/listAll/-1?filters=1&init=1",n=function(e,n){if(void 0!==e&&void 0!==e.filters){i.filters=e.filters;try{"nob"!==n&&r.setCached(t,e)}catch(e){}}};try{if(r.cachedActive(i.methodName))n(r.getCached(t),"nob")}catch(e){logCatch(e)}e.httpRequest(t).then(n)},i.closeLoader=function(){showHideLoad(!0)},i.showLoader=function(){showHideLoad()};try{is_undefined(d.current.viewType)?(i.views={},i.views.list=!0):(i.viewType=d.current.viewType,"list"==i.viewType?(i.views={},i.views.list=!0):"add"==i.viewType?(i.views={},i.views.add=!0,i.loadFilters(-1)):"edit"==i.viewType&&(i.views={},i.form={},i.views.edit=!0,i.loadFilters(-1),l(function(){i.startEdit(s.itemId)},20)))}catch(e){i.views={},i.views.list=!0}i.hasFile=function(e){i.fffiles=i.fffiles+e+","},i.seatTabMain=function(e){i.acdMain=parseInt(e),i.listItems(1)},i.listParams={},i.listItemsOld=function(e){showHideLoad(),i.searchPageText="";var t=i.listParams;t.tab=i.acdMain||1,-1==e?(e=1,t.init=1):delete t.init,t.pageMax=i.pageMax},i.listItems=function(n){showHideLoad(),i.searchPageText="";var l=i.listParams;l.tab=i.acdMain||1,-1==n?(n=1,l.init=1):delete l.init,l.pageMax=i.pageMax;var o=i.getModelUrl()+"List/listAll/"+n,s=t.requestKey(o,l),a=function(e,t){if(void 0!==e){i.items=e.items,void 0!==e.filters&&(i.filters=e.filters),void 0!==e.init&&(i.init=e.init),void 0!==e.totalItems&&(i.totalItems=e.totalItems),void 0!==e.showSearch&&(i.showSearch=e.showSearch);try{r.cachedActive(i.methodName)&&"nob"!==t&&r.setCached(s,e)}catch(e){}}showHideLoad(!0)};try{if(r.cachedActive(i.methodName))a(r.getCached(s),"nob")}catch(e){logCatch(e)}e.httpRequest(o,"GET",l).then(a)},i.searchDB=function(t){showHideLoad(),i.cur_page=t,i.searchPageText="";var n=i.listParams;n.tab=i.acdMain||1,n.pageMax=i.pageMax,delete n.init,e.httpRequest(i.getModelUrl()+"List/listAll/"+t,"POST",n,{searchInput:i.searchInput}).then(function(e){void 0!==e&&(i.items=e.items,void 0!==e.totalItems&&(i.totalItems=e.totalItems)),showHideLoad(!0)})},i.searchDB2=function(e){i.currentPage=e,i.getResultsPage(e)},i.saveImported=function(t){e.httpRequest(i.getModelUrl()+"/import","POST",{},i.formImport,"import,").then(function(e){void 0!==(e=apiResponse(e)).status&&"success"==e.status&&i.changeView("list")}),showHideLoad(!0)},i.$watch("listParams.withCount",function(e){e&&i.getResultsPageCheck()}),i.getResultsPageCheck=function(e){i.totalItems&&i.getResultsPage()},i.closeLoader=function(){showHideLoad(!0)},i.showLoader=function(){showHideLoad()},i.selectRow=function(e){i.selectedRow=e},i.viewDetailsDialog=function(t){i.showLoader(),e.httpRequest(i.getModelUrl()+"/view/"+t).then(function(e){n.open({animation:!1,size:"lg modal-lgx res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",component:"viewDetails",resolve:{itemView:function(){return e.rows},itemTitle:function(){return e.title},forId:function(){return t},forUrl:function(){return i.getModelUrl()+"/view/"+t},methodName:function(){return i.methodName}}}).result.then(function(e){},function(){}),i.closeLoader()})},i.hideView=function(){i.viewModel=!1},i.startAdd=function(){try{var e=n.open({animation:!1,size:"lg modal-lgx",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{viewType:function(){return"add"},modelUrl:function(){return i.getModelUrl()},methodName:function(){return i.methodName},templateUrl:function(){return d.current.templateUrl}}});try{e.result.then(function(e){"success"==e.status&&(i.getResultsPage(),i.EditOrderModel=!1,i.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.getResultsPage=function(e){void 0===e&&(e=i.cur_page),i.cur_page=-1==e?1:e,jQuery.isEmptyObject(i.searchInput)?i.listItems(e):i.searchDB(e)},"list"==i.viewType&&i.getResultsPage(-1),i.save_publish=function(){i.views.add?i.saveAdd():i.saveEdit()},i.openAddModel=function(e,t){try{var l=n.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:e,resolve:{forId:function(){return t}}});try{l.result.then(function(e){i.getResultsPage()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.cancelAdd=function(){try{l(function(){i.showAdd=0})}catch(e){}},i.onAddDone=function(){try{l(function(){i.getResultsPage()})}catch(e){}},i.openAddModelFull=function(e,t){try{var l=n.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forModel:function(){return t}}});try{l.result.then(function(e){i.getResultsPage()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.saveAdd=function(){var t=!1,n=!1;try{n=i.formSettings.dont_clear}catch(e){}try{t=i.formSettings.dont_close}catch(e){}showHideLoad(),""!=i.fffiles?e.httpRequest(i.getModelUrl()+"","POST",{},i.form,i.fffiles).then(function(e){showHideLoad(!0);apiResponse(e,"add");"success"==e.status&&(t?n||(i.form={}):(i.getResultsPage(),i.changeView("list"),i.onChangeItems()))}):e.httpRequest(i.getModelUrl()+"","POST",{},i.form).then(function(e){showHideLoad(!0);apiResponse(e,"add");"success"==e.status&&(t?n||(i.form={}):(i.getResultsPage(),i.changeView("list"),i.onChangeItems()))})},i.viewTap=function(e){i.selectedTap=e},i.showSendNotifModel=function(e){i.modelIteminvoice=e,i.form=e,i.modalTitle="ارسال اشعار",i.modalClass="modal-lg",i.sendNotifModel=!i.sendNotifModel},i.onChangeItems=function(){try{t.refreshAsync(i.methodName)}catch(e){}},i.saveEdit=function(){showHideLoad(),""!=i.fffiles?e.httpRequest(i.getModelUrl()+"/"+i.form.id,"POST",{},i.form,i.fffiles).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(i.getResultsPage(),i.changeView("list"),i.EditOrderModel=!1,i.onChangeItems()),showHideLoad(!0)}):e.httpRequest(i.getModelUrl()+"/"+i.form.id,"POST",{},i.form).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(i.getResultsPage(),i.changeView("list"),i.editModelView=!1,i.onChangeItems()),showHideLoad(!0)})},i.remove=function(t,n){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),e.httpRequest(i.getModelUrl()+"/delete/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&(i.items.splice(n,1),i.onChangeItems()),showHideLoad(!0)}))},i.removeAcc=function(t,n){1==confirm("سيتم تغيير حالة العنصر  هل انت متأكد ؟")&&(showHideLoad(),e.httpRequest(i.getModelUrl()+"/delete/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),void 0!==e.data&&(i.items[n]=e.data),showHideLoad(!0)}))},i.openEditModel=function(t){i.modelManger={},i.modelItem={},i.modelItem=t,showHideLoad(),e.httpRequest(i.getModelUrl()+"/"+t.id).then(function(e){i.form=e,showHideLoad(!0)}),i.modalEzzTitle="تعديل الطلب",i.modalEzzClass="modal-lg",i.editModelView=!0},i.checkboxModel={value1:!1,value2:"YES"},i.modelManger={},i.showModel=function(e,t,n){i.modalEzzClass="modal-lg modal-lgx",i[e]=!i[e],i.modelManger.selectedTab=0,i.modelItem={},l(function(){i.modelItem=t,i.modelIndex=n})},i.showModelWithData=function(t,n,l,o){i.modalEzzClass="modal-lg modal-lgx",i.modelManger.selectedTab=0,i.modelItem={},i.modelItem=n,i.modelIndex=l,showHideLoad(),e.httpRequest("index.php/admin/"+o,"GET").then(function(e){showHideLoad(!0),i.modelData=e,i[t]=!i[t]})},i.editOld=function(e){a.path("/edit/"+i.methodName+"/"+e)},i.edit=function(e){try{var t=n.open({animation:!1,size:"lg modal-lgx",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{forId:function(){return e},viewType:function(){return"edit"},modelUrl:function(){return i.getModelUrl()},methodName:function(){return i.methodName},templateUrl:function(){return d.current.templateUrl}}});try{t.result.then(function(e){"success"==e.status&&(i.getResultsPage(),i.EditOrderModel=!1,i.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.changeStatus=function(t,n){2==t.active?msg="سيتم الموافقة على الطلب  هل انت متأكد ؟":0==t.active?msg="سيتم التعطيل  هل انت متأكد ؟":1==t.active?msg="سيتم التفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",$.confirm({title:"تغيير حالة العنصر ؟؟",content:msg,type:"green",buttons:{yes:{text:"حسنا",btnClass:"btn-green",keys:["enter"],action:function(){showHideLoad(),e.httpRequest(i.getModelUrl()+"/active/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(i.items[n].active=e.active),showHideLoad(!0)})}},cancel:{text:"الغاء",action:function(){return!0}}}})},i.changeStatusReq=function(t,n){2==t.active?msg="سيتم الغاء  الطلب  هل انت متأكد ؟":0==t.active?msg="سيتم  ارسال طلب تفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",$.confirm({title:"تغيير حالة العنصر ؟؟",content:msg,type:"green",buttons:{yes:{text:"حسنا",btnClass:"btn-green",keys:["enter"],action:function(){showHideLoad(),e.httpRequest(i.getModelUrl()+"/activereq/"+t.id,"POST",{},{}).then(function(e){apiResponse(e,"edit");"success"==e.status&&(i.items[n].active=e.active),showHideLoad(!0)})}},cancel:{text:"الغاء",action:function(){return!0}}}})},i.changeStatusRdeq=function(t,n){2==t.active?msg="سيتم الغاء  الطلب  هل انت متأكد ؟":0==t.active?msg="سيتم  ارسال طلب تفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",1==confirm(msg)&&(showHideLoad(),e.httpRequest(i.getModelUrl()+"/activereq/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(i.items[n].active=e.active),showHideLoad(!0)}))},i.getTime=function(e){return moment(e).format("hh:mm a")},i.getDateUp=function(e){if(void 0==e)var t=new Date;else t=new Date(e);return t.setDate(t.getDate()+1),t},i.getDateDown=function(e){if(void 0==e)var t=new Date;else t=new Date(e);return t.setDate(t.getDate()-1),t},i.viewDetails=function(t){showHideLoad(),e.httpRequest(i.getModelUrl()+"/view/"+t).then(function(e){i.itemView=e.rows,i.itemTitle=e.title,i.changeView("view"),showHideLoad(!0)})},i.userProfile=function(t){e.httpRequest("index.php/admin/user/profile/"+t).then(function(e){i.modalTitle=e.title,i.modalContent=c.trustAsHtml(e.content),i.showModal=!i.showModal})},i.infoUserProfile=function(t,n){e.httpRequest("index.php/admin/info/"+t+"/"+n).then(function(e){i.modalTitle=e.title,i.modalContent=c.trustAsHtml(e.content),i.showModal=!i.showModal})},i.resetSearch=function(){i.searchInput={},i.showSearch=!1,setTimeout(function(){i.showSearch=!0},10),i.getResultsPage(1)},i.clearSearch=function(){i.searchInput={},l(function(){i.getResultsPage(1)})},i.hideSearch=function(){i.searchInput={},l(function(){i.showSearch=!1})},i.runSearch=function(){l(function(){i.searchDB2(1)})},i.pageChanged=function(e){i.getResultsPage(e)},i.import=function(){i.changeView("import")},i.addItem=function(e,t){void 0===i.form[e]&&(i.form[e]=[]),i.form[e].push(i[t]),i[t]={}},i.onSelectItem=function(e,t,n){e[n].name},i.GetValue=function(e,t){var n=$.grep(e,function(e){return e.id==t}),l="";if(void 0!=n&&void 0!=n[0]&&void 0!=n[0].name)l=n[0].name;return l},i.clearItem=function(e){i[e]=void 0},i.openTransferModel=function(e,t,l){var o=n.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:"transferItemsBalance",resolve:{customer:function(){return e},transferType:function(){return l},forId:function(){return t}}});try{o.result.then(function(e){},function(){})}catch(e){logCatch(e)}},i.openTransferJournal=function(e,t,l){var o=n.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:"transferJournal",resolve:{customer:function(){return e},transferType:function(){return l},forId:function(){return t}}});try{o.result.then(function(e){},function(){})}catch(e){logCatch(e)}},i.openSelectModel=function(e,t,l,o){n.open({animation:!1,backdrop:"static",keyboard:!1,component:"selectModel",resolve:{options:function(){return l},value:function(){return e[t]},title:function(){return o}}}).result.then(function(n){i.postTo(i.getMethodNameUrl()+"/change/"+t+"/"+e.id,{value:n,oldValue:e[t]},!1).then(function(l){"success"==l.status&&(e[t]=n)}).catch(function(e){log("selectModel err : "+t)}),log("selectModel : "+n)},function(){log("selectModel dismissed at: "+new Date)})},i.openEditCheckModel=function(e,t,l,o){n.open({animation:!1,size:"lg modal-lgx res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forId:function(){return t},title:function(){return o},forModel:function(){return l}}}).result.then(function(e){try{angular.isObject(e)&&angular.forEach(e,function(e,t){"$$hashKey"!==t&&(l[t]=e)})}catch(e){}},function(){})},i.openJournalReport=function(e){n.open({animation:!1,backdrop:"static",keyboard:!1,component:"journalReport",resolve:{customer:function(){return e}}}).result.then(function(e){},function(){})},i.openInvoicesReport=function(e){n.open({animation:!1,backdrop:"static",keyboard:!1,component:"invoicesReport",resolve:{customer:function(){return e}}}).result.then(function(e){},function(){})},i.cancelEditAdd=function(e){angular.forEach(i.form,function(e,t){i.form[t]=void 0}),l(function(){i.changeView(e)},2)},i.cancelEditAdd2=function(e){angular.forEach(i.form,function(e,t){i.form[t]=void 0})},i.changeView=function(e){i.viewType==e&&i.runChangeView(e),"list"!=e?"add"!=e?("add"!=e&&"list"!=e&&"show"!=e||(i.form={}),"import"==e&&(i.formImport={}),angular.forEach(i.views,function(e,t){i.views[t]=!1}),i.views[e]=!0,i.selectedTap=1):a.path("/add/"+i.methodName):a.path("/"+i.methodName)},i.runChangeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(i.form={}),"import"==e&&(i.formImport={}),angular.forEach(i.views,function(e,t){i.views[t]=!1}),i.views[e]=!0,i.selectedTap=1}}]).controller("dynTypesController",["dataFactory","EzzFilter","$uibModal","$timeout","$filter","$scope","$routeParams","$location","$sce","$rootScope","$route",function(e,t,n,l,o,i,s,a,c,r,d){i.getModelUrl=function(e,t){return"index.php/admin/dynTypes/"+i.methodName},i.getMethodNameUrl=function(e,t){return"dynTypes/"+i.methodName},i.rowtemp={},i.items={},i.filters={},i.views={},i.form={},i.searchInput={},i.userRole=r.dashboardData.role,i.cur_page=1,i.fffiles="",i.selectedTap=1,i.viewType="list",i.showModal=!1,i.acdMain=0;var m="";try{m=is_undefined(d.current.methodName)?is_undefined(s.table)?"error":s.table:d.current.methodName}catch(e){try{m=is_undefined(s.table)?"error":s.table}catch(e){m="error"}}i.methodName=m,i.totalItems=0,i.pageMax="20";try{if(store.has(i.methodName+".pageMax")){var u=store.get(i.methodName+".pageMax");parseInt(u,10)>9&&(i.pageMax=u)}}catch(e){logCatch(e),i.pageMax="20"}try{i.showSearch=store.get(i.methodName+".showSearch"),i.$watch("showSearch",function(e){store.put(i.methodName+".showSearch",e)})}catch(e){}i.setMax=function(){i.getResultsPage(1);try{store.put(i.methodName+".pageMax",i.pageMax)}catch(e){logCatch(e)}},i.startEdit=function(e){try{var t=n.open({animation:!1,size:"lg",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{forId:function(){return e},viewType:function(){return"edit"},modelUrl:function(){return i.getModelUrl()},methodName:function(){return i.methodName},templateUrl:function(){return"assets/views/dynTypes.html"}}});try{t.result.then(function(e){"success"==e.status&&(i.getResultsPage(),i.EditOrderModel=!1,i.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.startEditOld=function(t){showHideLoad(),e.httpRequest(i.getModelUrl()+"/"+t).then(function(e){i.form=e,i.changeView("edit"),showHideLoad(!0)})},i.loadFilters=function(){var t=i.getModelUrl()+"/listAll/-1?filters=1&init=1",n=function(e,n){if(void 0!==e&&void 0!==e.filters){i.filters=e.filters;try{"nob"!==n&&r.setCached(t,e)}catch(e){}}};try{if(r.cachedActive(i.methodName))n(r.getCached(t),"nob")}catch(e){logCatch(e)}e.httpRequest(t).then(n)},i.closeLoader=function(){showHideLoad(!0)},i.showLoader=function(){showHideLoad()};try{is_undefined(d.current.viewType)?(i.views={},i.views.list=!0):(i.viewType=d.current.viewType,"list"==i.viewType?(i.views={},i.views.list=!0):"add"==i.viewType?(i.views={},i.views.add=!0,i.loadFilters(-1)):"edit"==i.viewType&&(i.views={},i.form={},i.views.edit=!0,i.loadFilters(-1),l(function(){i.startEdit(s.itemId)},20)))}catch(e){i.views={},i.views.list=!0}i.hasFile=function(e){i.fffiles=i.fffiles+e+","},i.seatTabMain=function(e){i.acdMain=parseInt(e),i.listItems(1)},i.listParams={},i.listItemsOld=function(t){showHideLoad(),i.searchPageText="";var n=i.listParams;n.tab=i.acdMain||1,-1==t?(t=1,n.init=1):delete n.init,n.pageMax=i.pageMax,e.httpRequest(i.getModelUrl()+"/listAll/"+t,"GET",n).then(function(e){void 0!==e&&(i.items=e.items,void 0!==e.filters&&(i.filters=e.filters),void 0!==e.init&&(i.init=e.init),void 0!==e.totalItems&&(i.totalItems=e.totalItems),void 0!==e.showSearch&&(i.showSearch=e.showSearch)),showHideLoad(!0)})},i.listItems=function(n){showHideLoad(),i.searchPageText="";var o=i.listParams;o.tab=i.acdMain||1,-1==n?(n=1,o.init=1):delete o.init,o.pageMax=i.pageMax;var s=i.getModelUrl()+"/listAll/"+n,a=t.requestKey(s,o),c=function(e,t){if(void 0!==e){i.items=e.items,void 0!==e.filters&&(i.filters=e.filters),void 0!==e.init&&(i.init=e.init),void 0!==e.totalItems&&(i.totalItems=e.totalItems),void 0!==e.showSearch&&(i.showSearch=e.showSearch);try{r.cachedActive(i.methodName)&&"nob"!==t&&r.setCached(a,e)}catch(e){}}showHideLoad(!0)};try{if(r.cachedActive(i.methodName)){var d=r.getCached(a);c(d,"nob")}}catch(e){logCatch(e)}l(function(){e.httpRequest(s,"GET",o).then(c)})},i.searchDB=function(t){showHideLoad(),i.cur_page=t,i.searchPageText="";var n=i.listParams;n.tab=i.acdMain||1,n.pageMax=i.pageMax,delete n.init,e.httpRequest(i.getModelUrl()+"/listAll/"+t,"POST",n,{searchInput:i.searchInput}).then(function(e){void 0!==e&&(i.items=e.items,void 0!==e.totalItems&&(i.totalItems=e.totalItems)),showHideLoad(!0)})},i.searchDB2=function(e){i.currentPage=e,i.getResultsPage(e)},i.saveImported=function(t){e.httpRequest(i.getModelUrl()+"/import","POST",{},i.formImport,"import,").then(function(e){void 0!==(e=apiResponse(e)).status&&"success"==e.status&&i.changeView("list")}),showHideLoad(!0)},i.$watch("listParams.withCount",function(e){e&&i.getResultsPageCheck()}),i.getResultsPageCheck=function(e){i.totalItems&&i.getResultsPage()},i.closeLoader=function(){showHideLoad(!0)},i.showLoader=function(){showHideLoad()},i.selectRow=function(e){i.selectedRow=e},i.viewDetailsDialog=function(t){i.showLoader(),e.httpRequest(i.getModelUrl()+"/view/"+t).then(function(e){var l=n.open({animation:!1,size:"lg res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",component:"viewDetails",resolve:{itemView:function(){return e.rows},itemTitle:function(){return e.title},forId:function(){return t},forUrl:function(){return i.getModelUrl()+"/view/"+t}}});try{l.result.then(function(e){},function(){})}catch(e){logCatch(e)}i.closeLoader()})},i.hideView=function(){i.viewModel=!1},i.getResultsPage=function(e){void 0===e&&(e=i.cur_page),i.cur_page=-1===e?1:e,jQuery.isEmptyObject(i.searchInput)?i.listItems(e):i.searchDB(e)},"list"==i.viewType&&i.getResultsPage(-1),i.save_publish=function(){i.views.add?i.saveAdd():i.saveEdit()},i.saveAdd=function(){showHideLoad(),""!=i.fffiles?e.httpRequest(i.getModelUrl()+"","POST",{},i.form,i.fffiles).then(function(e){response=apiResponse(e,"add"),"success"==e.status&&(i.getResultsPage(),i.changeView("list"),i.onChangeItems()),showHideLoad(!0)}):e.httpRequest(i.getModelUrl()+"","POST",{},i.form).then(function(e){response=apiResponse(e,"add"),"success"==e.status&&(i.getResultsPage(),i.changeView("list"),i.onChangeItems()),showHideLoad(!0)})},i.viewTap=function(e){i.selectedTap=e},i.onChangeItems=function(){try{t.refreshAsync(i.methodName)}catch(e){}},i.saveEdit=function(){showHideLoad(),""!=i.fffiles?e.httpRequest(i.getModelUrl()+"/"+i.form.id,"POST",{},i.form,i.fffiles).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(i.getResultsPage(),i.changeView("list"),i.EditOrderModel=!1,i.onChangeItems()),showHideLoad(!0)}):e.httpRequest(i.getModelUrl()+"/"+i.form.id,"POST",{},i.form).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(i.getResultsPage(),i.changeView("list"),i.editModelView=!1,i.onChangeItems()),showHideLoad(!0)})},i.remove=function(t,n){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),e.httpRequest(i.getModelUrl()+"/delete/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&(i.items.splice(n,1),i.onChangeItems()),showHideLoad(!0)}))},i.openEditModel=function(t){i.modelManger={},i.modelItem={},i.modelItem=t,showHideLoad(),e.httpRequest(i.getModelUrl()+"/"+t.id).then(function(e){i.form=e,showHideLoad(!0)}),i.modalEzzTitle="تعديل الطلب",i.modalEzzClass="modal-lg",i.editModelView=!0},i.checkboxModel={value1:!1,value2:"YES"},i.modelManger={},i.showModel=function(e,t,n){i.modalEzzClass="modal-lg modal-lgx",i[e]=!i[e],i.modelManger.selectedTab=0,i.modelItem={},l(function(){i.modelItem=t,i.modelIndex=n})},i.showModelWithData=function(t,n,l,o){i.modalEzzClass="modal-lg modal-lgx",i.modelManger.selectedTab=0,i.modelItem={},i.modelItem=n,i.modelIndex=l,showHideLoad(),e.httpRequest("index.php/admin/"+o,"GET").then(function(e){showHideLoad(!0),i.modelData=e,i[t]=!i[t]})},i.edit=function(e){try{var t=n.open({animation:!1,size:"fullscreen",backdrop:"static",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{forId:function(){return e},viewType:function(){return"edit"},modelUrl:function(){return i.getModelUrl()},methodName:function(){return i.methodName},templateUrl:function(){return"assets/views/dynTypes.html"}}});try{t.result.then(function(e){"success"==e.status&&(i.getResultsPage(),i.EditOrderModel=!1,i.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.editOld=function(e){a.path("/edit/"+i.methodName+"/"+e)},i.viewDetails=function(t){showHideLoad(),e.httpRequest(i.getModelUrl()+"/view/"+t).then(function(e){i.itemView=e.rows,i.itemTitle=e.title,i.changeView("view"),showHideLoad(!0)})},i.pageChanged=function(e){i.getResultsPage(e)},i.cancelEditAdd=function(e){angular.forEach(i.form,function(e,t){i.form[t]=void 0}),l(function(){i.changeView(e)},2)},i.changeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(i.form={}),"import"==e&&(i.formImport={}),angular.forEach(i.views,function(e,t){i.views[t]=!1}),i.views[e]=!0,i.selectedTap=1},i.runChangeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(i.form={}),"import"==e&&(i.formImport={}),angular.forEach(i.views,function(e,t){i.views[t]=!1}),i.views[e]=!0,i.selectedTap=1}}]).controller("itemController",["dataFactory","$scope","$controller","$sce","$rootScope","$route","$cacheFactory",function(e,t,n,l,o,i,s){t.impotItems=[],t.minSpareRows=1,t.rowHeaders=!0,t.showImages=!0,t.chooose=!1,t.selectedShop=-1,angular.extend(this,n("tableController",{dataFactory:e,$scope:t,$controller:n,$sce:l,$rootScope:o,$route:i,$cacheFactory:s}))}]).controller("employeesController",["dataFactory","$rootScope","$scope",function(e,t,n){n.admins={},n.roles={},n.views={},n.views.list=!0,n.form={},n.form.comVia=["mail","sms","phone"],n.form.customPermissions=[],n.load_admins=function(){e.httpRequest("index.php/admin/employees/listAll").then(function(e){n.admins=e.admins,n.roles=e.roles,n.districtZone=e.districtZone,n.feeGroups=e.feeGroups,n.changeView("list"),showHideLoad(!0)})},n.load_admins(),n.saveAdd=function(t){showHideLoad(),e.httpRequest("index.php/admin/employees","POST",{},n.form).then(function(e){response=apiResponse(e,"add"),"success"==e.status&&(n.load_admins(),n.changeView("list")),showHideLoad(!0)})},n.saveEdit=function(t){e.httpRequest("index.php/admin/employees/"+n.form.id,"POST",{},n.form).then(function(e){showHideLoad(),response=apiResponse(e,"edit"),"success"==e.status&&(n.load_admins(),n.changeView("list")),showHideLoad(!0)})},n.remove=function(t,l){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),e.httpRequest("index.php/admin/employees/delete/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&n.admins.splice(l,1),showHideLoad(!0)}))},n.edit=function(t){showHideLoad(),e.httpRequest("index.php/admin/employees/"+t).then(function(e){n.form=e,n.changeView("edit"),showHideLoad(!0)})},n.hasPermission=function(e){return $.inArray(e,n.form.customPermissions)>-1},n.account_status=function(t,l){showHideLoad(),e.httpRequest("index.php/admin/employees/account_status/"+t,"POST",{},{}).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(n.admins[l].account_active=response.account_active),showHideLoad(!0)})},n.changeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(n.form={},n.form.comVia=["mail","sms","phone"]),n.views.list=!1,n.views.add=!1,n.views.edit=!1,n.views[e]=!0}}]).controller("usersController",["dataFactory","$rootScope","$scope",function(e,t,n){n.admins={},n.roles={},n.views={},n.views.list=!0,n.form={},n.form.comVia=["mail","sms","phone"],n.form.customPermissions=[],n.load_admins=function(){e.httpRequest("index.php/admin/users/listAll").then(function(e){n.admins=e.admins,n.roles=e.roles,n.changeView("list"),showHideLoad(!0)})},n.load_admins(),n.saveAdd=function(t){showHideLoad(),e.httpRequest("index.php/admin/users","POST",{},n.form).then(function(e){response=apiResponse(e,"add"),"success"==e.status&&(n.load_admins(),n.changeView("list")),showHideLoad(!0)})},n.saveEdit=function(t){e.httpRequest("index.php/admin/users/"+n.form.id,"POST",{},n.form).then(function(e){showHideLoad(),response=apiResponse(e,"edit"),"success"==e.status&&(n.load_admins(),n.changeView("list")),showHideLoad(!0)})},n.remove=function(t,l){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),e.httpRequest("index.php/admin/users/delete/"+t.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&n.admins.splice(l,1),showHideLoad(!0)}))},n.edit=function(t){showHideLoad(),e.httpRequest("index.php/admin/users/"+t).then(function(e){n.form=e,n.changeView("edit"),showHideLoad(!0)})},n.hasPermission=function(e){return $.inArray(e,n.form.customPermissions)>-1},n.account_status=function(t,l){showHideLoad(),e.httpRequest("index.php/admin/users/account_status/"+t,"POST",{},{}).then(function(e){showHideLoad(!0),response=apiResponse(e,"edit"),"success"==e.status&&(n.admins[l].active=response.active)})},n.changeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(n.form={},n.form.comVia=["mail","sms","phone"]),n.views.list=!1,n.views.add=!1,n.views.edit=!1,n.views[e]=!0}}]).controller("reportsController",["dataFactory","$rootScope","$scope","$http","$sce",function(e,t,n,l,o){}]).controller("reportsPanelController",["dataFactory","$rootScope","$scope","$http","$sce","$wbFloat",function(e,t,n,l,o,i){try{n.$panel=i.getPanel()}catch(e){}}]).controller("reportsControllerOld",["dataFactory","$rootScope","$scope","$http","$sce",function(e,t,n,l,o){n.views={},n.views.list=!0,n.searching=!1,n.items=[],n.reports=[],n.reportsTemp=[],n.reportsList=[],n.searchInput={},n.report={},n.table={},n.hide={},n.titles={},n.filterText="",n.sort={column:"name",descending:!1},n.unshaw=function(e){n.hide[e]=!0},n.shaw=function(e){n.hide[e]=!1},n.changeSorting=function(e){var t=n.sort;t.column==e?t.descending=!t.descending:(t.column=e,t.descending=!1)},n.loadData=function(){showHideLoad(),e.httpRequest("index.php/admin/reports").then(function(e){showHideLoad(!0),apiResponse(e,"edit"),void 0!==e.status&&"success"==e.status&&void 0!==e.data&&(n.reportsList=e.data)})},n.loadData(),n.selects={},n.searchClose=function(e){n.searchInput={},n.report=n.reportsTemp[n.report.id]},n.searchDB=function(){showloadEzz("جاري البحث"),n.searching=!0,e.httpRequest("index.php/admin/report/"+n.report.id,"POST",{},{searchInput:n.searchInput}).then(function(e){showHideLoadEzz(!0),n.searching=!1,apiResponse(e),n.loadReport(e,!1)})},n.loadReport=function(e,t){void 0!==e&&void 0!==e.status&&"success"==e.status&&void 0!==e.data&&(void 0!==(e=e.data).items&&(n.report.items=e.items),void 0!==e.titles&&(n.report.titles=e.titles),void 0!==e.filters&&(n.report.filters=e.filters),n.report.reports=[],"undefined"!==e.reports&&angular.forEach(e.reports,function(e){n.report.reports.push(getChartObject(e))})),t&&void 0!==n.report&&void 0!==n.report.id&&(delete n.reportsTemp[n.report.id],n.reportsTemp[n.report.id]=CopyObject(n.report))},n.viewReport=function(t){n.searching=!1,n.hide={},n.searchInput={},n.items=[],n.titles=[],n.report={},n.report=t,void 0===n.reportsTemp[t.id]?showloadEzz("جاري تحميل التقرير"):(showloadEzz("جاري تحديث التقرير"),n.report=n.reportsTemp[t.id]),n.changeView("report"),e.httpRequest("index.php/admin/report/"+t.id).then(function(e){showHideLoadEzz(!0),n.report=t,apiResponse(e,"edit"),n.loadReport(e,!0)})},n.changeView=function(e){goTop(),angular.forEach(n.views,function(e,t){n.views[t]=!1}),n.views[e]=!0}}]).controller("langController",["dataFactory","$rootScope","$scope",function(e,t,n){n.languages={},n.views={},n.views.list=!0,n.form={},n.translate=function(){$(".phraseList label").each(function(e,t){var n=$(t).text();if(""==$(t).children("input").val()){$(t).children("input").val(n);$(t).children("input").trigger("input")}})},n.highlight=function(){$(".phraseList label").each(function(e,t){""==$(t).children("input").val()&&$(t).children("input").css("border","10px solid")})},n.addLangItemMulti=function(){var e=n.form.newMId,t=n.form.newMulti,l=n.form.newOne;n.form.languagePhrases[e+"s"]=t,n.form.languagePhrases[e+"Title"]="عنوان ال"+l,n.form.languagePhrases[e+"Content"]="تفاصيل ال"+l,n.form.languagePhrases["add"+e]="اضافة "+l,n.form.languagePhrases["edit"+e]="تعديل "+l,n.form.languagePhrases["list"+e]="قائمة "+listproduct},n.addLangItem=function(){n.form.languagePhrases[n.form.newId]=n.form.newName},e.httpRequest("index.php/admin/languages/listAll").then(function(e){n.languages=e,showHideLoad(!0)}),n.addLang=function(){n.form={},n.form.languagePhrases={},n.changeView("edit")},n.edit=function(t){showHideLoad(),e.httpRequest("index.php/admin/languages/"+t).then(function(e){n.changeView("edit"),n.form=e,showHideLoad(!0)})},n.saveEdit=function(){void 0===n.form.id?(showHideLoad(),e.httpRequest("index.php/admin/languages","POST",{},n.form).then(function(e){response=apiResponse(e,"add"),"success"==e.status&&(n.languages.push(response),n.changeView("list")),showHideLoad(!0)})):(showHideLoad(),e.httpRequest("index.php/admin/languages/"+n.form.id,"POST",{},n.form).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(n.languages=apiModifyTable(n.languages,response.id,response),n.changeView("list")),showHideLoad(!0)}))},n.remove=function(t,l){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),e.httpRequest("index.php/admin/languages/delete/"+t.id,"POST",{},n.form).then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&n.languages.splice(l,1),showHideLoad(!0)}))},n.saveAdd=function(){},n.changeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(n.form={}),n.views.list=!1,n.views.add=!1,n.views.edit=!1,n.views[e]=!0}}]).controller("newsboardController",["dataFactory","$routeParams","$sce","$rootScope","$scope",function(e,t,n,l,o){}]).controller("accountSettingsController",["dataFactory","$rootScope","$scope","$route",function(e,t,n,l){n.account={},n.views={},n.views.list=!0,n.form={},n.languages={},n.languageAllow;var o=l.current.methodName;n.changeView=function(e){"list"!=e&&"show"!=e||(n.form={}),n.views.profile=!1,n.views.email=!1,n.views.password=!1,n.views.invoices=!1,n.views.invoiceDetails=!1,n.views[e]=!0},"profile"==o?(e.httpRequest("index.php/admin/accountSettings/langs").then(function(e){n.languages=e.languages,n.languageAllow=e.languageAllow,n.layoutColorUserChange=e.layoutColorUserChange,showHideLoad(!0)}),e.httpRequest("index.php/admin/accountSettings/data").then(function(e){n.form=e,n.oldThemeVal=e.defTheme,n.defLang=e.defLang,n.changeView("profile"),showHideLoad(!0)})):"email"==o?(n.form={},n.changeView("email"),showHideLoad(!0)):"password"==o?(n.form={},n.changeView("password"),showHideLoad(!0)):"invoices"==o&&e.httpRequest("index.php/admin/accountSettings/invoices").then(function(e){n.invoices=e.invoices,n.changeView("invoices"),showHideLoad(!0)}),n.seeInvoice=function(t){showHideLoad(),e.httpRequest("index.php/admin/accountSettings/invoices/"+t).then(function(e){n.invoice=e,n.changeView("invoiceDetails"),showHideLoad(!0)})},n.payOnline=function(t){showHideLoad(),e.httpRequest("index.php/admin/invoices/invoice/"+t).then(function(e){n.invoice=e,n.modalTitle="Pay Invoice Online",n.payOnlineModal=!n.payOnlineModal,showHideLoad(!0)})},n.payOnlineNow=function(e){n.form.invoice=e},n.saveEmail=function(){n.form.email!=n.form.reemail?alert(t.phrase.mailReMailDontMatch):(showHideLoad(),e.httpRequest("index.php/admin/accountSettings/email","POST",{},n.form).then(function(e){response=apiResponse(e,"edit"),showHideLoad(!0)}))},n.savePassword=function(){n.form.newPassword!=n.form.repassword?alert("كلمات السر غير متطابقة"):(showHideLoad(),e.httpRequest("index.php/admin/accountSettings/password","POST",{},n.form).then(function(e){response=apiResponse(e,"edit"),showHideLoad(!0)}))},n.saveProfile=function(e){response=apiResponse(e,"edit"),response&&(n.form.defTheme!=n.oldThemeVal&&location.reload(),n.form.defLang!=n.defLang&&location.reload(),n.form=response),showHideLoad(!0)}}]).controller("settingsController",["dataFactory","$rootScope","$scope","$route",function(e,t,n,l){n.views={},n.form={},n.languages={},n.newDayOff;var o=l.current.methodName;n.oldThemeVal,n.changeView=function(e){n.views.settings=!1,n.views.terms=!1,n.views[e]=!0},$("#check1").on("change",function(){n.form.rainstatus=this.checked?1:0,this.checked?($("#check2").prop("disabled",!0),$("#check3").prop("disabled",!0)):($("#check2").prop("disabled",!1),$("#check3").prop("disabled",!1))}).change(),$("#check3").on("change",function(){n.form.stopreceivingrequests=this.checked?1:0,this.checked?($("#check2").prop("disabled",!0),$("#check1").prop("disabled",!0)):($("#check2").prop("disabled",!1),$("#check1").prop("disabled",!1))}).change(),$("#check2").on("change",function(){n.form.exceptionalcase=this.checked?1:0,this.checked?($("#check1").prop("disabled",!0),$("#check3").prop("disabled",!0)):($("#check1").prop("disabled",!1),$("#check3").prop("disabled",!1))}).change(),n.checkValueStatus1=function(){},n.checkValueStatus2=function(){},n.checkValueStatus3=function(){},"settings"==o?(e.httpRequest("index.php/admin/siteSettings/siteSettings").then(function(e){n.form=e.settings,1==e.settings.rainstatus?($("#check1").prop("checked",!0),$("#check2").prop("disabled",!0),$("#check3").prop("disabled",!0)):$("#check1").prop("checked",!1),1==e.settings.exceptionalcase?($("#check2").prop("checked",!0),$("#check1").prop("disabled",!0),$("#check3").prop("disabled",!0)):$("#check2").prop("checked",!1),1==e.settings.stopreceivingrequests?($("#check3").prop("checked",!0),$("#check2").prop("disabled",!0),$("#check1").prop("disabled",!0)):$("#check3").prop("checked",!1),showHideLoad(!0)}),n.changeView("settings")):"terms"==o&&(e.httpRequest("index.php/admin/siteSettings/terms").then(function(e){n.form=e,showHideLoad(!0)}),n.changeView("terms")),n.isDaySelected=function(e,t){return e.indexOf(t)>-1},n.officialVacationDayAdd=function(){""!=n.newDayOff&&void 0!==n.newDayOff&&n.form.officialVacationDay.push(n.newDayOff)},n.removeVacationDay=function(e,t){1==confirm("سيتم الحذف هل توافق ؟")&&n.form.officialVacationDay.splice(t,1)},n.moduleActivated=function(e){return $.inArray(e,n.form.activatedModules)>-1},n.saveEdit=function(){showHideLoad(),e.httpRequest("index.php/admin/siteSettings/siteSettings","POST",{},n.form).then(function(e){response=apiResponse(e,"edit"),location.reload(),showHideLoad(!0)})},n.saveTerms=function(){showHideLoad(),e.httpRequest("index.php/admin/siteSettings/terms","POST",{},n.form).then(function(e){response=apiResponse(e,"edit"),showHideLoad(!0)})},n.test_mail_function=function(){n.modalTitle="Test Mail Function",n.test_mail_function_modal=!n.test_mail_function_modal,n.testmailform={}},n.test_mail_function_action=function(){showHideLoad(),e.httpRequest("index.php/admin/siteSettings/test_mail_function","POST",{},n.testmailform).then(function(e){alert("Server Response : "+e.message),n.test_mail_function_modal=!n.test_mail_function_modal,showHideLoad(!0)})},n.test_sms_function=function(){n.modalTitle="Test SMS Function",n.test_sms_function_modal=!n.test_sms_function_modal,n.testsmsform={}},n.test_sms_function_action=function(){showHideLoad(),e.httpRequest("index.php/admin/siteSettings/test_sms_function","POST",{},n.testsmsform).then(function(e){alert("Server Response : "+e.message),n.test_sms_function_modal=!n.test_sms_function_modal,showHideLoad(!0)})}}]).controller("messagesController",["dataFactory","$rootScope","$route","$scope","$location","$routeParams",function(e,t,n,l,o,i){l.messages={},l.message={},l.messageDet={},l.totalItems=0,l.totalcheck=0,l.totalcoun=0,l.views={},l.views.list=!0,l.selectedAll=!1,l.selectedone=!1,l.searchUsers=!1,l.repeatCheck=!0,l.form={},l.messageBefore,l.messageAfter,l.searchResults={};var s,a;n.current;function c(t){e.httpRequest("index.php/admin/messages/listAll/"+t).then(function(e){l.messages=e.messages,l.totalItems=e.totalItems,showHideLoad(!0)})}l.totalItems=0,l.pageChanged=function(e){c(e)},l.showMessage=function(t){l.repeatCheck=!0,showHideLoad(),e.httpRequest("index.php/admin/messages/"+t).then(function(e){(e=successOrError(e))?(a=t,l.changeView("read"),l.message=e.messages.reverse(),l.messageDet=e.messageDet,l.message[0]&&(l.messageBefore=l.message[0].dateSent),l.message[l.message.length-1]&&(l.messageAfter=l.message[l.message.length-1].dateSent),s=setInterval(r,2e3),$("#chat-box").slimScroll({scrollTo:$("#chat-box").prop("scrollHeight")+"px"})):o.path("/messages"),showHideLoad(!0)})},c(1),i.messageId&&l.showMessage(i.messageId),l.linkUser=function(){l.modalTitle="تحديد مستلمي الرسالة",l.searchUsers=!l.searchUsers},l.searchUserButton=function(){var t=$("#searchKeyword").val();t.length<3?alert("يرجى كتابة ثلاثة احرف على الاقل"):e.httpRequest("index.php/admin/messages/searchUser/"+t).then(function(e){l.searchResults=e})},l.searchUserButtonFor=function(t){e.httpRequest("index.php/admin/messages/searchUser/"+t).then(function(e){l.searchResults=e})},l.linkStudentFinish=function(e){void 0===l.form.toId&&(l.form.toId=[]),l.form.toId.push(e),l.searchUsers=!l.searchUsers},l.checkone=function(e){l.totalcheck=e?l.totalcheck+1:l.totalcheck-1,0==l.totalcheck&&(l.selectedAll=!1)},l.checkAll=function(){l.selectedAll=!l.selectedAll,angular.forEach(l.messages,function(e){e.selected=l.selectedAll,1==e.selected?l.totalcheck=l.totalcheck+1:l.totalcheck=0})},l.loadOld=function(){e.httpRequest("index.php/admin/messages/before/"+l.messageDet.fromId+"/"+l.messageDet.toId+"/"+l.messageBefore).then(function(e){angular.forEach(e,function(e){l.message.splice(0,0,e)}),0==e.length&&$("#loadOld").hide(),l.messageBefore=l.message[0].dateSent})},l.markRead=function(){l.form.items=[],angular.forEach(l.messages,function(e,t){l.messages[t].selected&&(l.form.items.push(e.id),l.messages[t].messageStatus=0)}),l.form.items.length>0&&e.httpRequest("index.php/admin/messages/read","POST",{},l.form).then(function(e){response=apiResponse(e,"edit")})},l.markUnRead=function(){l.form.items=[],angular.forEach(l.messages,function(e,t){l.messages[t].selected&&(l.form.items.push(e.id),l.messages[t].messageStatus=1)}),l.form.items.length>0&&e.httpRequest("index.php/admin/messages/unread","POST",{},l.form).then(function(e){response=apiResponse(e,"edit")})},l.markDelete=function(){l.form.items=[];for(var t=l.messages.length;t--;)l.messages[t].selected&&(l.form.items.push(l.messages[t].id),l.messages.splice(t,1));l.form.items.length>0&&(1==confirm("سيتم الحذف هل توافق ؟")&&e.httpRequest("index.php/admin/messages/delete","POST",{},l.form).then(function(e){response=apiResponse(e,"remove"),l.totalcheck=0}))};var r=function(){"#/messages/"+a==location.hash?e.httpRequest("index.php/admin/messages/ajax/"+l.messageDet.fromId+"/"+l.messageDet.toId+"/"+l.messageAfter).then(function(e){angular.forEach(e,function(e){l.message.push(e);var t=parseInt($("#chat-box").prop("scrollHeight"))+100;$("#chat-box").slimScroll({scrollTo:t+"px"})}),l.message[l.message.length-1]&&(l.messageAfter=l.message[l.message.length-1].dateSent)}):clearInterval(s)};l.replyMessage=function(){void 0!==l.form.url?(showHideLoad(),l.form.disable=!0,l.form.toId=l.messageDet.toId,e.httpRequest("index.php/admin/messages/"+l.messageDet.id,"POST",{},l.form,"url,").then(function(e){$("#chat-box").slimScroll({scrollTo:$("#chat-box").prop("scrollHeight")+"px"}),l.form={}}),showHideLoad(!0)):""!=l.form.reply&&void 0!==l.form.reply&&(l.form.disable=!0,l.form.toId=l.messageDet.toId,e.httpRequest("index.php/admin/messages/"+l.messageDet.id,"POST",{},l.form).then(function(e){$("#chat-box").slimScroll({scrollTo:$("#chat-box").prop("scrollHeight")+"px"}),l.form={}}))},l.sendMessageNow=function(){void 0!==l.form.toId?void 0!==l.form.messageText&&""!=l.form.messageText?e.httpRequest("index.php/admin/messages","POST",{},l.form).then(function(e){"home"==e.messageId?(c(1),l.changeView("list")):o.path("/messages/"+e.messageId)}):alert("يرجى كتابة الرسالة"):alert("يرجى تحديد مستلم واحد على الاقل")},l.changeView=function(e){"read"!=e&&"list"!=e&&"create"!=e||(l.form={}),"list"!=e&&"create"!=e||clearInterval(s),"create"==e&&l.linkUser(),l.views.list=!1,l.views.read=!1,l.views.create=!1,l.views[e]=!0}}]).controller("supportController",["dataFactory","$rootScope","$route","$scope","$location","$routeParams",function(e,t,n,l,o,i){l.messages={},l.message={},l.messageDet={},l.totalItems=0,l.totalcheck=0,l.totalcoun=0,l.views={},l.views.list=!0,l.selectedAll=!1,l.selectedone=!1,l.searchUsers=!1,l.repeatCheck=!0,l.form={},l.messageBefore,l.messageAfter,l.searchResults={};var s,a;n.current;function c(t){e.httpRequest("index.php/admin/support/listAll/"+t).then(function(e){l.supportmessages=e.messages,l.totalItems=e.totalItems,showHideLoad(!0)})}l.totalItems=0,l.pageChanged=function(e){c(e)},l.showMessage=function(t){l.repeatCheck=!0,showHideLoad(),e.httpRequest("index.php/admin/support/"+t).then(function(e){(e=successOrError(e))?(a=t,l.changeView("read"),l.message=e.messages.reverse(),l.messageDet=e.messageDet,l.message[0]&&(l.messageBefore=l.message[0].dateSent),l.message[l.message.length-1]&&(l.messageAfter=l.message[l.message.length-1].dateSent),s=setInterval(r,2e3),$("#chat-box").slimScroll({scrollTo:$("#chat-box").prop("scrollHeight")+"px"})):o.path("/support"),showHideLoad(!0)})},c(1),i.messageId&&l.showMessage(i.messageId),l.linkUser=function(){l.modalTitle="تحديد مستلمي الرسالة",l.searchUsers=!l.searchUsers},l.searchUserButton=function(){var t=$("#searchKeyword").val();t.length<3?alert("يرجى كتابة ثلاثة احرف على الاقل"):e.httpRequest("index.php/admin/support/searchUser/"+t).then(function(e){l.searchResults=e})},l.searchUserButtonFor=function(t){e.httpRequest("index.php/admin/support/searchUser/"+t).then(function(e){l.searchResults=e})},l.linkStudentFinish=function(e){void 0===l.form.toId&&(l.form.toId=[]),l.form.toId.push(e),l.searchUsers=!l.searchUsers},l.checkone=function(e){l.totalcheck=e?l.totalcheck+1:l.totalcheck-1,0==l.totalcheck&&(l.selectedAll=!1)},l.checkAll=function(){l.selectedAll=!l.selectedAll,angular.forEach(l.messages,function(e){e.selected=l.selectedAll,1==e.selected?l.totalcheck=l.totalcheck+1:l.totalcheck=0})},l.loadOld=function(){e.httpRequest("index.php/admin/support/before/"+l.messageDet.fromId+"/"+l.messageDet.toId+"/"+l.messageBefore).then(function(e){angular.forEach(e,function(e){l.message.splice(0,0,e)}),0==e.length&&$("#loadOld").hide(),l.messageBefore=l.message[0].dateSent})},l.markRead=function(){l.form.items=[],angular.forEach(l.messages,function(e,t){l.messages[t].selected&&(l.form.items.push(e.id),l.messages[t].messageStatus=0)}),l.form.items.length>0&&e.httpRequest("index.php/admin/support/read","POST",{},l.form).then(function(e){response=apiResponse(e,"edit")})},l.markUnRead=function(){l.form.items=[],angular.forEach(l.messages,function(e,t){l.messages[t].selected&&(l.form.items.push(e.id),l.messages[t].messageStatus=1)}),l.form.items.length>0&&e.httpRequest("index.php/admin/support/unread","POST",{},l.form).then(function(e){response=apiResponse(e,"edit")})},l.markDelete=function(){l.form.items=[];for(var t=l.messages.length;t--;)l.messages[t].selected&&(l.form.items.push(l.messages[t].id),l.messages.splice(t,1));l.form.items.length>0&&(1==confirm("سيتم الحذف هل توافق ؟")&&e.httpRequest("index.php/admin/support/delete","POST",{},l.form).then(function(e){response=apiResponse(e,"remove"),l.totalcheck=0}))};var r=function(){"#/support/"+a==location.hash?e.httpRequest("index.php/admin/support/ajax/"+l.messageDet.fromId+"/"+l.messageDet.toId+"/"+l.messageAfter).then(function(e){angular.forEach(e,function(e){l.message.push(e);var t=parseInt($("#chat-box").prop("scrollHeight"))+100;$("#chat-box").slimScroll({scrollTo:t+"px"})}),l.message[l.message.length-1]&&(l.messageAfter=l.message[l.message.length-1].dateSent)}):clearInterval(s)};l.replyMessage=function(){void 0!==l.form.url?(showHideLoad(),l.form.disable=!0,l.form.toId=l.messageDet.toId,e.httpRequest("index.php/admin/support/"+l.messageDet.id,"POST",{},l.form,"url,").then(function(e){$("#chat-box").slimScroll({scrollTo:$("#chat-box").prop("scrollHeight")+"px"}),l.form={}}),showHideLoad(!0)):""!=l.form.reply&&void 0!==l.form.reply&&(l.form.disable=!0,l.form.toId=l.messageDet.toId,e.httpRequest("index.php/admin/support/"+l.messageDet.id,"POST",{},l.form).then(function(e){$("#chat-box").slimScroll({scrollTo:$("#chat-box").prop("scrollHeight")+"px"}),l.form={}}))},l.sendMessageNow=function(){void 0!==l.form.toId?void 0!==l.form.messageText&&""!=l.form.messageText?e.httpRequest("index.php/admin/support","POST",{},l.form).then(function(e){"home"==e.messageId?(c(1),l.changeView("list")):o.path("/support/"+e.messageId)}):alert("يرجى كتابة الرسالة"):alert("يرجى تحديد مستلم واحد على الاقل")},l.changeView=function(e){"read"!=e&&"list"!=e&&"create"!=e||(l.form={}),"list"!=e&&"create"!=e||clearInterval(s),"create"==e&&l.linkUser(),l.views.list=!1,l.views.read=!1,l.views.create=!1,l.views[e]=!0}}]).controller("dbexportsController",["dataFactory","$rootScope","$scope",function(e,t,n){n.classes={},n.views={},n.messages={},n.views.list=!0,n.form={},n.form.selectedUsers=[],n.formS={},n.sendNewScope="form",showHideLoad(!0),n.loadNotifications=function(t){e.httpRequest("index.php/admin/mobileNotif/listAll/"+t).then(function(e){n.subject_list=e.subject_list,n.messages=e.items,n.totalItems=e.totalItems,showHideLoad(!0)})},n.changeView=function(e){"send"==e&&(n.form={}),n.views.send=!1,n.views.list=!1,n.views.settings=!1,n.views[e]=!0}}]).controller("rolesController",["dataFactory","$sce","$sce","$scope",function(e,t,n,l){l.roles={},l.roles_perms={},l.views={},l.views.list=!0,l.pageNumber=1,l.form={},l.load_data=function(){e.httpRequest("index.php/admin/roles/listAll").then(function(e){showHideLoad(!0),l.roles=e.roles,l.districtZone=e.districtZone,l.cities=e.cities,l.perms_types=e.perms_types,l.roles_perms=e.roles_perms,l.roles_titles=e.roles_titles||{}})},l.load_data();l.checkRoot=function(e,t){try{if(e&&e.root&&!function(e,t){try{return void 0!==e&&-1!==e.indexOf(t)}catch(e){return logCatch(e),!1}}(l.form.role_permissions,t+".root"))return angular.forEach(e,function(e){"root"!==e&&l.form&&l.form.role_permissions&&delete l.form.role_permissions[l.form.role_permissions.indexOf(t+"."+e)]}),!1}catch(e){logCatch(e)}return!0},l.saveAdd=function(t){showHideLoad(),e.httpRequest("index.php/admin/roles","POST",{},l.form).then(function(e){apiResponse(e,"add");"success"==e.status&&(l.load_data(),l.changeView("list")),showHideLoad(!0)})},l.remove=function(t,n){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),e.httpRequest("index.php/admin/roles/delete/"+t.id,"POST").then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&l.roles.splice(n,1),showHideLoad(!0)}))},l.edit=function(t){showHideLoad(),e.httpRequest("index.php/admin/roles/"+t).then(function(e){l.changeView("edit"),l.form=e,showHideLoad(!0)})},l.saveEdit=function(t){e.httpRequest("index.php/admin/roles/"+l.form.id,"POST",{},l.form).then(function(e){showHideLoad(),response=apiResponse(e,"edit"),"success"==e.status&&(l.load_data(),l.changeView("list")),showHideLoad(!0)})},l.status=function(t,n){showHideLoad(),e.httpRequest("index.php/admin/roles/active/"+t,"POST").then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&l.load_data(),showHideLoad(!0)})},l.changeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(l.form={}),l.views.list=!1,l.views.add=!1,l.views.edit=!1,l.views[e]=!0}}]),angular.module("OraSchool").config(["localStorageServiceProvider",function(e){e.setPrefix("demoPrefix")}]).config(["$ocLazyLoadProvider",function(e){e.config({debug:!1,events:!0})}]).config(["$routeProvider","$locationProvider","$ocLazyLoadProvider",function(e,t,n){const l=["srvLibrary",function(e){return e.getEssentials()}];t.hashPrefix(""),e.when("/",{templateUrl:"assets/templates/home2.html",controller:"dashboardController",resolve:{essentialData:l}}).when("/home",{templateUrl:"assets/templates/home2.html",controller:"dashboardController",resolve:{essentialData:l}}).when("/item",{templateUrl:"assets/views/item.html",controller:"itemController",methodName:"item",resolve:{essentialData:l}}).when("/logs",{templateUrl:"assets/views/logs.html",controller:"tableController",methodName:"logs",resolve:{essentialData:l}}).when("/filters",{templateUrl:"assets/views/filters.html",controller:"tableController",methodName:"filters",resolve:{essentialData:l}}).when("/sales_filling_day",{templateUrl:"assets/views/sales_filling_day.html",controller:"tableController",methodName:"sales_filling_day",resolve:{essentialData:l}}).when("/ifrs_accounts",{templateUrl:"assets/views/ifrs_accounts.html",controller:"tableController",methodName:"ifrs_accounts",resolve:{essentialData:l}}).when("/ifrs_categories",{templateUrl:"assets/views/ifrs_categories.html",controller:"tableController",methodName:"ifrs_categories",resolve:{essentialData:l}}).when("/ifrs_currencies",{templateUrl:"assets/views/ifrs_currencies.html",controller:"tableController",methodName:"ifrs_currencies",resolve:{essentialData:l}}).when("/ifrs_account_handlers",{templateUrl:"assets/views/ifrs_account_handlers.html",controller:"tableController",methodName:"ifrs_account_handlers",resolve:{essentialData:l}}).when("/ifrs_account_types",{templateUrl:"assets/views/ifrs_account_types.html",controller:"tableController",methodName:"ifrs_account_types",resolve:{essentialData:l}}).when("/ifrs_groups",{templateUrl:"assets/views/ifrs_groups.html",controller:"tableController",methodName:"ifrs_groups",resolve:{essentialData:l}}).when("/sales_customer_types",{templateUrl:"assets/views/dynTypes.html",controller:"dynTypesController",methodName:"sales_customer_types",resolve:{essentialData:l}}).when("/sales_employee_types",{templateUrl:"assets/views/dynTypes.html",controller:"dynTypesController",methodName:"sales_employee_types",resolve:{essentialData:l}}).when("/sales_item_types",{templateUrl:"assets/views/dynTypes.html",controller:"dynTypesController",methodName:"sales_item_types",resolve:{essentialData:l}}).when("/sales_transporter_types",{templateUrl:"assets/views/dynTypes.html",controller:"dynTypesController",methodName:"sales_transporter_types",resolve:{essentialData:l}}).when("/sales_priority_types",{templateUrl:"assets/views/dynTypes.html",controller:"dynTypesController",methodName:"sales_priority_types",resolve:{essentialData:l}}).when("/logins",{templateUrl:"assets/views/logins.html",controller:"tableController",methodName:"logins",resolve:{essentialData:l}}).when("/rolesgroups",{templateUrl:"assets/views/rolesgroups.html",controller:"tableController",methodName:"rolesgroups",resolve:{essentialData:l}}).when("/tablesgroups",{templateUrl:"assets/views/tablesgroups.html",controller:"tableController",methodName:"tablesgroups",resolve:{essentialData:l}}).when("/sales_drivers",{templateUrl:"assets/views/sales_drivers.html",controller:"tableController",methodName:"sales_drivers",resolve:{essentialData:l}}).when("/sales_exports",{templateUrl:"assets/views/sales_exports.html",controller:"tableController",methodName:"sales_exports",resolve:{essentialData:l}}).when("/sales_filling_items",{templateUrl:"assets/views/sales_filling_items.html",controller:"tableController",methodName:"sales_filling_items",resolve:{essentialData:l}}).when("/sales_receives",{templateUrl:"assets/views/sales_receives.html",controller:"tableController",methodName:"sales_receives",resolve:{essentialData:l}}).when("/sales_customers",{templateUrl:"assets/views/sales_customers.html",controller:"tableController",methodName:"sales_customers",resolve:{essentialData:l}}).when("/sales_invoices",{templateUrl:"assets/views/sales_invoices.html",controller:"tableController",methodName:"sales_invoices",resolve:{essentialData:l}}).when("/sales_readers",{templateUrl:"assets/views/sales_readers.html",controller:"tableController",methodName:"sales_readers",resolve:{essentialData:l}}).when("/sales_reader_items",{templateUrl:"assets/views/sales_reader_items.html",controller:"tableController",methodName:"sales_reader_items",resolve:{essentialData:l}}).when("/sales_filling_networks",{templateUrl:"assets/views/sales_filling_networks.html",controller:"tableController",methodName:"sales_filling_networks",resolve:{essentialData:l}}).when("/app_settings",{templateUrl:"assets/views/app_settings.html",controller:"tableController",methodName:"app_settings",resolve:{essentialData:l}}).when("/ifrs_entities",{templateUrl:"assets/views/ifrs_entities.html",controller:"tableController",methodName:"ifrs_entities",resolve:{essentialData:l}}).when("/ifrs_actions",{templateUrl:"assets/views/ifrs_actions.html",controller:"tableController",methodName:"ifrs_actions",resolve:{essentialData:l}}).when("/sales",{templateUrl:"assets/views/sales.html",controller:"tableController",methodName:"sales",resolve:{essentialData:l}}).when("/purchases",{templateUrl:"assets/views/purchases.html",controller:"tableController",methodName:"purchases",resolve:{essentialData:l}}).when("/suppliers",{templateUrl:"assets/views/suppliers.html",controller:"tableController",methodName:"suppliers",resolve:{essentialData:l}}).when("/working_time",{templateUrl:"assets/views/working_time.html",controller:"tableController",methodName:"working_time",resolve:{essentialData:l}}).when("/employees",{templateUrl:"assets/templates/employees.html",controller:"employeesController",resolve:{essentialData:l}}).when("/users",{templateUrl:"assets/templates/users.html",controller:"usersController",resolve:{essentialData:l}}).when("/support",{templateUrl:"assets/templates/support.html",controller:"supportController",resolve:{essentialData:l}}).when("/support/:messageId",{templateUrl:"assets/templates/support.html",controller:"supportController",resolve:{essentialData:l}}).when("/account",{templateUrl:"assets/templates/accountSettings.html",controller:"accountSettingsController",methodName:"profile",resolve:{essentialData:l}}).when("/account/email",{templateUrl:"assets/templates/accountSettings.html",controller:"accountSettingsController",methodName:"email",resolve:{essentialData:l}}).when("/account/password",{templateUrl:"assets/templates/accountSettings.html",controller:"accountSettingsController",methodName:"password",resolve:{essentialData:l}}).when("/settings",{templateUrl:"assets/templates/settings.html",controller:"settingsController",methodName:"settings",resolve:{essentialData:l}}).when("/messages",{templateUrl:"assets/templates/messages.html",controller:"messagesController",resolve:{essentialData:l}}).when("/messages/:messageId",{templateUrl:"assets/templates/messages.html",controller:"messagesController",resolve:{essentialData:l}}).when("/reports",{templateUrl:"assets/templates/reports.html",controller:"reportsController",resolve:{essentialData:l}}).when("/reports2",{templateUrl:"assets/templates/reports.html",controller:"reportsController",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({serie:!0,name:"chart.js",files:["assets/js/chartjs-plugin-datalabels.js","assets/js/chart.min.js","assets/js/Angular/angular-chart.js"]})}],essentialData:l}}).when("/dbexports",{templateUrl:"assets/templates/dbexports.html",controller:"dbexportsController",resolve:{essentialData:l}}).when("/roles",{templateUrl:"assets/templates/roles.html",controller:"rolesController",resolve:{essentialData:l}}).when("/invc",{templateUrl:"assets/views/sales_exports.html",controller:"tableController",pageType:"cash",methodName:"sales_exports",resolve:{essentialData:l}}).when("/invl",{templateUrl:"assets/views/sales_exports.html",controller:"tableController",pageType:"later",methodName:"sales_exports",resolve:{essentialData:l}}).when("/expe",{templateUrl:"assets/views/sales_exports.html",controller:"tableController",pageType:"empty",methodName:"sales_exports",resolve:{essentialData:l}}).when("/list/:table",{templateUrl:function(e){return"assets/views/"+e.table+".html"},controller:"tableController",viewType:"list",resolve:{essentialData:l}}).when("/add/:table",{templateUrl:function(e){return"assets/views/"+e.table+".html"},controller:"tableController",viewType:"add",resolve:{essentialData:l}}).when("/edit/:table/:itemId",{templateUrl:function(e){return"assets/views/"+e.table+".html"},controller:"tableController",viewType:"edit",resolve:{essentialData:l}}).otherwise({redirectTo:"/"})}]);var getTableCtrl=function(e){return["dataFactory","EzzFilter","$uibModal","$timeout","$filter","$scope","$rootScope",function(t,n,l,o,i,s,a){var c=this,r="error";const d=injector().get("$route"),m=injector().get("$routeParams");c.$onInit=function(){c.initPage()},c.initPage=function(){s.rowtemp={},s.items={},s.filters={},s.views={},s.form={},s.searchInput={},s.userRole=a.dashboardData.role,s.cur_page=1,s.fffiles="",s.formSettings={},s.selectedTap=1,s.viewType="list",s.showModal=!1,s.acdMain=0,s.totalItems=0,s.pageMax="20",s.checkboxModel={value1:!1,value2:"YES"},s.modelManger={},s.listParams={},r=p(),s.methodName=r,s.pageType=u(),c.templateUrl=b();try{if(store.has(s.methodName+".pageMax")){var e=store.get(s.methodName+".pageMax");parseInt(e,10)>9&&(s.pageMax=e)}}catch(e){logCatch(e),s.pageMax="20"}try{s.showSearch=store.get(s.methodName+".showSearch"),s.$watch("showSearch",function(e){store.put(s.methodName+".showSearch",e)})}catch(e){}try{var t=g();isNull(t)?(s.views={},s.views.list=!0):(s.viewType=t,"list"==s.viewType?(s.views={},s.views.list=!0):"add"==s.viewType?(s.views={},s.views.add=!0,s.loadFilters(-1)):"edit"==s.viewType&&(s.views={},s.form={},s.views.edit=!0,s.loadFilters(-1),o(function(){s.startEdit(f("itemId"))},20)))}catch(e){s.views={},s.views.list=!0}s.$watch("listParams.withCount",function(e){e&&s.getResultsPageCheck()}),"list"==s.viewType&&s.getResultsPage(-1)},c.getTemplate=function(){return c.templateUrl},c.closePanel=function(){$.confirm({title:"تنبية",content:"هل تريد اغلاق النافذة",type:"red",buttons:{yes:{text:"نعم",btnClass:"btn-red",keys:["enter"],action:function(){s.$apply(function(){c.panel.close()})}},cancel:{text:"لا"}}})};const u=function(){var e=!1;try{if(c.resolve&&(e=c.resolve.pageType||null))return e}catch(e){}try{if(d.current&&(e=d.current.pageType||null))return e}catch(e){}return e},p=function(){try{if(c.methodName&&(e=c.methodName||null))return e}catch(t){e="error"}try{if(c.resolve&&(e=c.resolve.methodName||null))return e}catch(t){e="error"}var e="error";try{e=is_undefined(d.current.methodName)?is_undefined(m.table)?"error":m.table:d.current.methodName}catch(t){try{e=is_undefined(m.table)?"error":m.table}catch(t){e="error"}}return e},g=function(){var t="error";try{if(c.viewType&&(t=c.viewType||null))return t}catch(e){t="error"}try{if(c.resolve&&(t=c.resolve.viewType||null))return t}catch(e){t="error"}try{if("route"===e&&d.current&&(t=d.current.viewType||null))return t}catch(e){t="error"}return"list"},f=function(t){return"route"===e&&m[t]||null},h=function(e){return"assets/views/"+e+".html"},b=function(){var e="error";try{if(c.templateUrl&&(e=c.templateUrl||null))return e}catch(t){e="error"}try{if(c.resolve&&(e=c.resolve.templateUrl||null))return e}catch(t){e="error"}try{if(c.methodName&&(e=c.methodName||null))return h(e)}catch(t){e="error"}try{if(c.resolve&&(e=c.resolve.methodName||null))return h(e)}catch(t){e="error"}return d.current.templateUrl};s.addItem=function(e,t){void 0===s.form[e]&&(s.form[e]=[]),log(s.form[e]),s.form[e].push(s[t]),s[t]={}},s.pushAdder=function(e){void 0===s.form[e]&&(s.form[e]=[]),s.form[e].push({})},s.removeItem=function(e,t){void 0===s.form[e]&&(s.form[e]=[]),s.form[e].splice(t,1)},s.push=function(e,t){void 0===s[e][t]&&(e=[]),s[e][t].push({})},s.err=function(e){alert(e)},s.postTo=function(e,n,l){return void 0===n&&(n={}),n.checkedItems=s.checkedItems,t.httpRequest("index.php/admin/"+e,"POST",{},n).then(function(e){apiResponse(e,"add");return"success"==e.status&&l&&s.changeView("list"),showHideLoad(!0),e})},s.getTabId=function(e,t){return e.tabId?e.tabId:t+4+"reportTab"+e.id},s.getModelUrl=function(e,t){return"index.php/admin/"+s.methodName},s.getMethodNameUrl=function(e,t){return s.methodName},s.openTabModel=function(e,t){o(function(){s.modelManger.selectedTab=e.tabId})},s.closeTab=function(e){e.active=0},s.showJobModal=function(e){l.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/dtemplst/wind.html",backdrop:"static",keyboard:!1,component:"modalJob",resolve:{item:function(){return e}}}).result.then(function(e){s.selected=e},function(){log("modal-component dismissed at: "+new Date)})},s.filterUsers=function(e,t){return i("filter")(e,function(e){return e.job_type.includes(t)})},s.canShowUser=function(e,t){try{return log({selectedNextId:s.form.selectedNextId,job_type:e.job_type,includes:e.job_type.includes(s.form.selectedNextId)}),log(s.form.selectedNextId),e.job_type.includes(s.form.selectedNextId)}catch(e){return logCatch(e),!0}},s.postItemTo=function(e,n,l,o){void 0===n&&(n={}),o&&showHideLoad(),t.httpRequest("index.php/admin/"+e,"POST",{},n).then(function(e){response=apiResponse(e,"add"),e&&"success"==e.status&&angular.forEach(e.item,function(e,t){try{s.items[l][t]=e}catch(e){logCatch(e)}}),showHideLoad(!0)})},s.setMax=function(){s.getResultsPage(1);try{store.put(s.methodName+".pageMax",s.pageMax)}catch(e){logCatch(e)}},s.openChildrenFor=function(e,t,n,o){try{var i=l.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"viewListItems",resolve:{forId:function(){return e},title:function(){return n},forModel:function(){return o},viewType:function(){return"list"},methodName:function(){return t},templateUrl:function(){return"assets/views/"+t+".html"}}});try{i.result.then(function(e){"success"==e.status&&(s.getResultsPage(),s.EditOrderModel=!1,s.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},s.startEdit=function(e){showHideLoad(),t.httpRequest(s.getModelUrl()+"/"+e).then(function(e){s.form=e,showHideLoad(!0)})},s.loadFilters=function(){var e=s.getModelUrl()+"List/listAll/-1?filters=1&init=1",n=function(t,n){if(void 0!==t&&void 0!==t.filters){s.filters=t.filters;try{"nob"!==n&&a.setCached(e,t)}catch(e){}}};try{if(a.cachedActive(s.methodName))n(a.getCached(e),"nob")}catch(e){logCatch(e)}t.httpRequest(e).then(n)},s.closeLoader=function(){showHideLoad(!0)},s.showLoader=function(){showHideLoad()},s.hasFile=function(e){s.fffiles=s.fffiles+e+","},s.seatTabMain=function(e){s.acdMain=parseInt(e),s.listItems(1)},s.listItemsOld=function(e){showHideLoad(),s.searchPageText="";var t=s.listParams;t.tab=s.acdMain||1,-1==e?(e=1,t.init=1):delete t.init,t.pageMax=s.pageMax},s.listItems=function(e){showHideLoad(),s.searchPageText="";var l=s.listParams;l.tab=s.acdMain||1,-1==e?(e=1,l.init=1):delete l.init;try{l.pageType=s.pageType}catch(e){}l.pageMax=s.pageMax;var o=s.getModelUrl()+"List/listAll/"+e,i=n.requestKey(o,l),c=function(e,t){if(void 0!==e){s.items=e.items,void 0!==e.filters&&(s.filters=e.filters),void 0!==e.init&&(s.init=e.init),void 0!==e.totalItems&&(s.totalItems=e.totalItems),void 0!==e.showSearch&&(s.showSearch=e.showSearch);try{a.cachedActive(s.methodName)&&"nob"!==t&&a.setCached(i,e)}catch(e){}}showHideLoad(!0)};try{if(a.cachedActive(s.methodName))c(a.getCached(i),"nob")}catch(e){logCatch(e)}t.httpRequest(o,"GET",l).then(c)},s.searchDB=function(e){showHideLoad(),s.cur_page=e,s.searchPageText="";var n=s.listParams;n.tab=s.acdMain||1,n.pageMax=s.pageMax,delete n.init;try{n.pageType=s.pageType}catch(e){}t.httpRequest(s.getModelUrl()+"List/listAll/"+e,"POST",n,{searchInput:s.searchInput}).then(function(e){void 0!==e&&(s.items=e.items,void 0!==e.totalItems&&(s.totalItems=e.totalItems)),showHideLoad(!0)})},s.searchDB2=function(e){s.currentPage=e,s.getResultsPage(e)},s.saveImported=function(e){t.httpRequest(s.getModelUrl()+"/import","POST",{},s.formImport,"import,").then(function(e){void 0!==(e=apiResponse(e)).status&&"success"==e.status&&s.changeView("list")}),showHideLoad(!0)},s.getResultsPageCheck=function(e){s.totalItems&&s.getResultsPage()},s.closeLoader=function(){showHideLoad(!0)},s.showLoader=function(){showHideLoad()},s.selectRow=function(e){s.selectedRow=e},s.viewDetailsDialog=function(e){s.showLoader(),t.httpRequest(s.getModelUrl()+"/view/"+e).then(function(t){l.open({animation:!1,size:"lg modal-lgx res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",component:"viewDetails",resolve:{itemView:function(){return t.rows},itemTitle:function(){return t.title},forId:function(){return e},forUrl:function(){return s.getModelUrl()+"/view/"+e},methodName:function(){return s.methodName}}}).result.then(function(e){},function(){}),s.closeLoader()})},s.hideView=function(){s.viewModel=!1},s.startAdd=function(){try{var e=l.open({animation:!1,size:"lg modal-lgx",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{viewType:function(){return"add"},modelUrl:function(){return s.getModelUrl()},methodName:function(){return s.methodName},templateUrl:function(){return b()}}});try{e.result.then(function(e){"success"==e.status&&(s.getResultsPage(),s.EditOrderModel=!1,s.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},s.getResultsPage=function(e){void 0===e&&(e=s.cur_page),s.cur_page=-1==e?1:e,jQuery.isEmptyObject(s.searchInput)?s.listItems(e):s.searchDB(e)},s.save_publish=function(){s.views.add?s.saveAdd():s.saveEdit()},s.openAddModel=function(e,t){try{var n=l.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:e,resolve:{forId:function(){return t}}});try{n.result.then(function(e){s.getResultsPage()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},s.cancelAdd=function(){try{o(function(){s.showAdd=0})}catch(e){}},s.onAddDone=function(){try{o(function(){s.getResultsPage()})}catch(e){}},s.openAddModelFull=function(e,t){try{var n=l.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forModel:function(){return t}}});try{n.result.then(function(e){s.getResultsPage()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},s.saveAdd=function(){var e=!1,n=!1;try{n=s.formSettings.dont_clear}catch(e){}try{e=s.formSettings.dont_close}catch(e){}showHideLoad(),""!=s.fffiles?t.httpRequest(s.getModelUrl()+"","POST",{},s.form,s.fffiles).then(function(t){showHideLoad(!0);apiResponse(t,"add");"success"==t.status&&(e?n||(s.form={}):(s.getResultsPage(),s.changeView("list"),s.onChangeItems()))}):t.httpRequest(s.getModelUrl()+"","POST",{},s.form).then(function(t){showHideLoad(!0);apiResponse(t,"add");"success"==t.status&&(e?n||(s.form={}):(s.getResultsPage(),s.changeView("list"),s.onChangeItems()))})},s.viewTap=function(e){s.selectedTap=e},s.showSendNotifModel=function(e){s.modelIteminvoice=e,s.form=e,s.modalTitle="ارسال اشعار",s.modalClass="modal-lg",s.sendNotifModel=!s.sendNotifModel},s.onChangeItems=function(){try{n.refreshAsync(s.methodName)}catch(e){}},s.saveEdit=function(){showHideLoad(),""!=s.fffiles?t.httpRequest(s.getModelUrl()+"/"+s.form.id,"POST",{},s.form,s.fffiles).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(s.getResultsPage(),s.changeView("list"),s.EditOrderModel=!1,s.onChangeItems()),showHideLoad(!0)}):t.httpRequest(s.getModelUrl()+"/"+s.form.id,"POST",{},s.form).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(s.getResultsPage(),s.changeView("list"),s.editModelView=!1,s.onChangeItems()),showHideLoad(!0)})},s.remove=function(e,n){1==confirm("سيتم الحذف هل توافق ؟")&&(showHideLoad(),t.httpRequest(s.getModelUrl()+"/delete/"+e.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),"success"==e.status&&(s.items.splice(n,1),s.onChangeItems()),showHideLoad(!0)}))},s.removeAcc=function(e,n){1==confirm("سيتم تغيير حالة العنصر  هل انت متأكد ؟")&&(showHideLoad(),t.httpRequest(s.getModelUrl()+"/delete/"+e.id,"POST",{},{}).then(function(e){response=apiResponse(e,"remove"),void 0!==e.data&&(s.items[n]=e.data),showHideLoad(!0)}))},s.openEditModel=function(e){s.modelManger={},s.modelItem={},s.modelItem=e,showHideLoad(),t.httpRequest(s.getModelUrl()+"/"+e.id).then(function(e){s.form=e,showHideLoad(!0)}),s.modalEzzTitle="تعديل الطلب",s.modalEzzClass="modal-lg",s.editModelView=!0},s.showModel=function(e,t,n){s.modalEzzClass="modal-lg modal-lgx",s[e]=!s[e],s.modelManger.selectedTab=0,s.modelItem={},o(function(){s.modelItem=t,s.modelIndex=n})},s.showModelWithData=function(e,n,l,o){s.modalEzzClass="modal-lg modal-lgx",s.modelManger.selectedTab=0,s.modelItem={},s.modelItem=n,s.modelIndex=l,showHideLoad(),t.httpRequest("index.php/admin/"+o,"GET").then(function(t){showHideLoad(!0),s.modelData=t,s[e]=!s[e]})},s.edit=function(e){try{var t=l.open({animation:!1,size:"lg modal-lgx",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{forId:function(){return e},viewType:function(){return"edit"},modelUrl:function(){return s.getModelUrl()},methodName:function(){return s.methodName},templateUrl:function(){return b()}}});try{t.result.then(function(e){"success"===e.status&&(s.getResultsPage(),s.EditOrderModel=!1,s.onChangeItems())},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},s.changeStatus=function(e,n){2==e.active?msg="سيتم الموافقة على الطلب  هل انت متأكد ؟":0==e.active?msg="سيتم التعطيل  هل انت متأكد ؟":1==e.active?msg="سيتم التفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",$.confirm({title:"تغيير حالة العنصر ؟؟",content:msg,type:"green",buttons:{yes:{text:"حسنا",btnClass:"btn-green",keys:["enter"],action:function(){showHideLoad(),t.httpRequest(s.getModelUrl()+"/active/"+e.id,"POST",{},{}).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(s.items[n].active=e.active),showHideLoad(!0)})}},cancel:{text:"الغاء",action:function(){return!0}}}})},s.changeStatusReq=function(e,n){2==e.active?msg="سيتم الغاء  الطلب  هل انت متأكد ؟":0==e.active?msg="سيتم  ارسال طلب تفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",$.confirm({title:"تغيير حالة العنصر ؟؟",content:msg,type:"green",buttons:{yes:{text:"حسنا",btnClass:"btn-green",keys:["enter"],action:function(){showHideLoad(),t.httpRequest(s.getModelUrl()+"/activereq/"+e.id,"POST",{},{}).then(function(e){apiResponse(e,"edit");"success"==e.status&&(s.items[n].active=e.active),showHideLoad(!0)})}},cancel:{text:"الغاء",action:function(){return!0}}}})},s.changeStatusRdeq=function(e,n){2==e.active?msg="سيتم الغاء  الطلب  هل انت متأكد ؟":0==e.active?msg="سيتم  ارسال طلب تفعيل  هل انت متأكد ؟":msg="سيتم تغيير حالة العنصر  هل انت متأكد ؟",1==confirm(msg)&&(showHideLoad(),t.httpRequest(s.getModelUrl()+"/activereq/"+e.id,"POST",{},{}).then(function(e){response=apiResponse(e,"edit"),"success"==e.status&&(s.items[n].active=e.active),showHideLoad(!0)}))},s.getTime=function(e){return moment(e).format("hh:mm a")},s.getDateUp=function(e){if(void 0==e)var t=new Date;else t=new Date(e);return t.setDate(t.getDate()+1),t},s.getDateDown=function(e){if(void 0==e)var t=new Date;else t=new Date(e);return t.setDate(t.getDate()-1),t},s.viewDetails=function(e){showHideLoad(),t.httpRequest(s.getModelUrl()+"/view/"+e).then(function(e){s.itemView=e.rows,s.itemTitle=e.title,s.changeView("view"),showHideLoad(!0)})},s.resetSearch=function(){s.searchInput={},s.showSearch=!1,setTimeout(function(){s.showSearch=!0},10),s.getResultsPage(1)},s.clearSearch=function(){s.searchInput={},o(function(){s.getResultsPage(1)})},s.hideSearch=function(){s.searchInput={},o(function(){s.showSearch=!1})},s.runSearch=function(){o(function(){s.searchDB2(1)})},s.pageChanged=function(e){s.getResultsPage(e)},s.import=function(){s.changeView("import")},s.addItem=function(e,t){void 0===s.form[e]&&(s.form[e]=[]),s.form[e].push(s[t]),s[t]={}},s.onSelectItem=function(e,t,n){e[n].name},s.GetValue=function(e,t){var n=$.grep(e,function(e){return e.id==t}),l="";if(void 0!=n&&void 0!=n[0]&&void 0!=n[0].name)l=n[0].name;return l},s.clearItem=function(e){s[e]=void 0},s.openTransferModel=function(e,t,n){var o=l.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:"transferItemsBalance",resolve:{customer:function(){return e},transferType:function(){return n},forId:function(){return t}}});try{o.result.then(function(e){},function(){})}catch(e){logCatch(e)}},s.openTransferJournal=function(e,t,n){var o=l.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:"transferJournal",resolve:{customer:function(){return e},transferType:function(){return n},forId:function(){return t}}});try{o.result.then(function(e){},function(){})}catch(e){logCatch(e)}},s.openSelectModel=function(e,t,n,o){l.open({animation:!1,backdrop:"static",keyboard:!1,component:"selectModel",resolve:{options:function(){return n},value:function(){return e[t]},title:function(){return o}}}).result.then(function(n){s.postTo(s.getMethodNameUrl()+"/change/"+t+"/"+e.id,{value:n,oldValue:e[t]},!1).then(function(l){"success"==l.status&&(e[t]=n)}).catch(function(e){log("selectModel err : "+t)}),log("selectModel : "+n)},function(){log("selectModel dismissed at: "+new Date)})},s.openEditCheckModel=function(e,t,n,o){l.open({animation:!1,size:"lg modal-lgx res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forId:function(){return t},title:function(){return o},forModel:function(){return n}}}).result.then(function(e){try{angular.isObject(e)&&angular.forEach(e,function(e,t){"$$hashKey"!==t&&(n[t]=e)})}catch(e){}},function(){})},s.openJournalReport=function(e){l.open({animation:!1,backdrop:"static",keyboard:!1,component:"journalReport",resolve:{customer:function(){return e}}}).result.then(function(e){},function(){})},s.openInvoicesReport=function(e){l.open({animation:!1,backdrop:"static",keyboard:!1,component:"invoicesReport",resolve:{customer:function(){return e}}}).result.then(function(e){},function(){})},s.cancelEditAdd=function(e){angular.forEach(s.form,function(e,t){s.form[t]=void 0}),o(function(){s.changeView(e)},2)},s.cancelEditAdd2=function(e){angular.forEach(s.form,function(e,t){s.form[t]=void 0})},s.changeView=function(e){s.viewType==e&&s.runChangeView(e),"add"!=e&&"list"!=e&&"show"!=e||(s.form={}),"import"==e&&(s.formImport={}),angular.forEach(s.views,function(e,t){s.views[t]=!1}),s.views[e]=!0,s.selectedTap=1},s.runChangeView=function(e){"add"!=e&&"list"!=e&&"show"!=e||(s.form={}),"import"==e&&(s.formImport={}),angular.forEach(s.views,function(e,t){s.views[t]=!1}),s.views[e]=!0,s.selectedTap=1},"route"===e&&c.initPage()}]};angular.module("OraSchool").controller("tableController",getTableCtrl("route")),angular.module("OraSchool").component("tablePage",{controller:getTableCtrl("component"),bindings:{title:"<?",methodName:"<?",templateUrl:"<?",resolve:"<",panel:"<",close:"&",dismiss:"&"},template:'\n    <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n     <div ng-include="$ctrl.getTemplate()" ng-if="$ctrl.templateUrl"></div>\n                       '}).directive("arrowSelector",["$document",function(e){return{restrict:"A",link:function(t,n,l,o){e.bind("keydown",function(e){if(!is_undefined(t.selectedRow)){if(38==e.keyCode){if(console.log(t.selectedRow),0==t.selectedRow)return;t.selectedRow--,t.$apply()}if(40==e.keyCode){if(t.selectedRow==t.items.length-1)return;t.selectedRow++,t.$apply()}}})}}}]);var getInt=function(e){try{return parseInt(e)}catch(e){return console.log(e),0}},dateUp=function(e){try{var t=void 0===e?new Date:new Date(e);return t.setDate(t.getDate()+1),t}catch(e){return t}},redirectTo=function(e){window.location.href=new URL(e)},isResSuccess=function(e){return void 0!==e&&void 0!==e.status&&"success"==e.status};function openWindowFull(e,t){var n=(screen.width-1200)/2,l=(screen.height-600)/2;return window.open(e,t,"toolbar=no,menubar=no,width=1200,height=600,left="+n+",top="+l+",screenX="+n+",screenY="+l+",status=no,scrollbars=no",!0)}function openWindowFull2(e,t){window.open(e,"","toolbar=no,scrollbar=no,resizable=yes,menubar=no,width=900,height=500")}const buildUrl=function(e,t){function n(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function l(e){return angular.isObject(e)?angular.isDate(e)?e.toISOString():angular.toJson(e):e}return function(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}(e,function(e){if(!e)return"";var t=[];return function(e,t,n){for(var l=Object.keys(e).sort(),o=0;o<l.length;o++)t.call(n,e[l[o]],l[o])}(e,function(e,o){null===e||angular.isUndefined(e)||angular.isFunction(e)||(angular.isArray(e)?angular.forEach(e,function(e){t.push(n(o)+"="+n(l(e)))}):t.push(n(o)+"="+n(l(e))))}),t.join("&")}(t))};var ago=function(e){try{if((t=getInt(e))>0){if(t<9999999999)var t=1e3*t;return"undefined"==typeof momentar?moment().to(moment(t)):momentar().locale("ar").to(momentar(t))}}catch(e){return console.log(e),""}return""},agoInt=function(e){try{if((t=getInt(e))>0){if(t<9999999999)var t=1e3*t;return"undefined"==typeof momentar?moment().to(moment(t)):momentar().locale("ar").to(momentar(t))}}catch(e){return console.log(e),""}return""},agoIntDays=function(e,t){try{if((n=getInt(e))>0){if(n<9999999999)var n=1e3*n;return"undefined"==typeof momentar?moment().diff(moment(n),"day",t):momentar().locale("ar").diff(momentar(n),"day",t)}}catch(e){return console.log(e),0}return 0},agoDate=function(e,t){try{return"undefined"==typeof momentar?moment().to(moment(e),t):momentar().to(momentar(e),t)}catch(e){return console.log(e),""}return""},agoDateDays=function(e,t){try{return"undefined"==typeof momentar?moment().diff(moment(e),"day",t):momentar().diff(momentar(e),"day",t)}catch(e){return console.log(e),0}return 0},array_only_field=function(e,t){try{if(is_array(e))return e.filter(function(e){try{return!is_undefined(e[t])}catch(e){return!1}}).map(function(e){try{return e[t]+""||""}catch(e){return""}})}catch(e){return logCatch(e),[]}return[]},showHideLoad=function(e){void 0===e||null===e?$("#overlay").show():$("#overlay").hide()},showHideLoadEzz=function(e,t){var n="جاري التحميل ...";void 0===t&&null===t||(n=t),void 0===e||null===e?($("#bCText").html(n),$("#bottomCircular").show()):$("#bottomCircular").hide()},showloadEzz=function(e){showHideLoadEzz(null,e)};function goTop(){$("html,body").animate({scrollTop:0},500)}function checkNetConnection(){var e;e=setInterval(function(){jQuery.ajaxSetup({async:!1}),re="",r=Math.round(1e4*Math.random()),$.get("https://ersalye.github.io/assets/dot.png",{subins:r},function(t){return loadTop(),clearInterval(e),function(){clearInterval(e),loadTop();var t=angular.element(document.getElementById("startIntervalID")).scope();t.$apply(function(){return t.setIntervalnew()})}()}).error(function(){loadTop("انت غير متصل بالانترنت ...")})},3e3)}function successOrError(e){return(!e.jsStatus||"0"!=e.jsStatus)&&e}function showToast(e,t){$.toast({heading:e,text:t,position:"top-right",loaderBg:"#ff6849",icon:"success",hideAfter:3e3,stack:6})}function showToastError(e,t){$.toast({heading:e,text:t,position:"mid-center",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6})}function apiResponse(e,t){return void 0===e?e:void 0===e.status?e:e.status?(void 0!==e.title&&("success"==e.status&&$.toast({heading:e.title,text:e.message,position:"top-right",loaderBg:"#ff6849",icon:"success",hideAfter:3e3,stack:6}),"failed"==e.status&&$.toast({heading:e.title,text:e.message,position:"top-right",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6})),e.data?e.data:void 0):e}function apiModifyTable(e,t,n){return angular.forEach(e,function(l,o){l.id==t&&(e[o]=n)}),e}function CopyObject(e){if(!angular.isArray(e)&&!angular.isObject(e))return e;var t={};angular.isArray(e)?t=[]:angular.isObject(e)&&(t={}),angular.copy(e,t);try{delete t.$$hashKey}catch(e){}return t}function successOrError(e){return(!e.jsStatus||"0"!=e.jsStatus)&&e}function is_undefined(e){return void 0===e||"undefined"===e}function is_null(e){return null===e}function is_empty(e){return""==e}function isNull(e){return is_undefined(e)||is_null(e)||is_empty(e)}if(void 0===injector||"function"!=typeof injector);const toastr={info:function(e,t,n){return toastr.factory().info(e,t,n)},error:function(e,t,n){return toastr.factory().error(e,t,n)},success:function(e,t,n){return this.factory().success(e,t,n)},factory:function(){return injector().has("toastr")?injector().get("toastr"):(log("toastr not init"),{error:function(){},success:function(){},info:function(){}})}};function valueIsNaN(e){return e!=e}var showConfirm=function(e,t,n){$.confirm({title:e,content:t,type:"green",buttons:{yes:{text:"نعم",btnClass:"btn-green",keys:["enter"],action:n},cancel:{text:"لا"}}})},showError=function(e,t){$.confirm({title:t||"تنبية !!",content:e,type:"red",buttons:{cancel:{text:"اغلاق"}}})};function objToArray(e){var t=[];for(i in e)t.push(e[i]);return t}var getDataPromise=function(e){return new Promise(function(t,n){t(e)})},angularApp=function(){return angular.element(document.getElementById("rootApp"))},injector=function(){return angularApp().injector()},log=function(e){console.log(e)},logCatch=function(e){console.log(e)};function getBlockNodes(e){for(var t,n=e[0],l=e[e.length-1],o=1;n!==l&&(n=n.nextSibling);o++)(t||e[o]!==n)&&(t||(t=jQuery(slice.call(e,0,o))),t.push(n));return t||e}const store={storage:function(){return injector().has("localStorageService")?injector().get("localStorageService"):(log("store not init"),{get:function(){},set:function(){},put:function(){},delete:function(){}})},get:function(e,t){return store.has(e)?store.storage().get(e):t||null},getObject:function(e,t){var n=store.storage().get(e);return n||(t||{})},has:function(e){var t=store.storage().get(e);return!!t||""==t},set:function(e,t){return store.storage().set(e,t)},put:function(e,t){return store.storage().set(e,t)},delete:function(e){return store.storage().remove(e)},remove:function(e){return store.storage().remove(e)}};function is_number(e){return(e instanceof Number||"number"==typeof e)&&!isNaN(e)}function is_array(e){return e instanceof Array}function is_function(e){return e instanceof Function||"function"==typeof e}function is_object(e){return e instanceof Object||"object"==typeof e}function isExistElement(e){return $("#"+e).length>0}function getLength(e){try{if(is_array(e))return e.length;if(is_object(e))return Object.keys(e).length}catch(e){return 0}return 0}function daysDiff(e){try{if(!is_number(e))try{if(e.includes("/")||e.includes("-"))return agoDateDays(e)}catch(e){}return agoIntDays(e)}catch(t){return e}}angular.module("OraSchool").controller("workingController",["$ezzPanel","$uibModalStack","$compile","$location","dataFactory","$rootScope","$uibModal","$route","panels","$scope","$timeout","$controller","$ocLazyLoad",function(e,t,n,l,o,i,s,a,c,r,d,m,u){showHideLoad(!0),r.player={gold:100},r.showHiddenOption=!1,r.items=[{name:"Small Health Potion",cost:4},{name:"Small Mana Potion",cost:5},{name:"Iron Short Sword",cost:12}],r.menuOptions=[["Buy",function(e){r.player.gold-=e.item.cost}],null,["Sell",function(e){r.player.gold+=e.item.cost},function(e){return null==e.item.name.match(/Iron/)}],null,["More...",[["Alert Cost",function(e){alert(e.item.cost)}],["Alert Player Gold",function(e){alert(r.player.gold)}]]],null,{text:"A Few New Objects",click:function(){alert("A new implementation based on objects")}},{text:"Clicking this does not close the context menu",click:function(){return!1}},{text:"Object-based with Submenu",click:function(){alert("I clicked the parent item")},children:[{text:"Object-based child 1",click:function(){alert("object child 1")}},{text:"Object-based child 2",click:function(){alert("object child 2")}}]},{text:"Object-based with Submenu 3 levels",click:function(){alert("I clicked the parent item")},children:[{text:"Object-based child 1",click:function(){alert("object child 1")},children:[{text:"3rd Level",click:function(){alert("level3!")}}]},{text:"Object-based child 2",click:function(){alert("object child 2")}}]},{text:"Disabled object-based option",enabled:function(){return!1}},{text:function(){return"Text Using Function"},hasBottomDivider:function(){return r.showHiddenOption},children:[]},{html:function(){return"<a><b>HTML Using Function</b></a>"},hasTopDivider:function(){return!r.showHiddenOption}},{text:"Hidden option",displayed:function(){return r.showHiddenOption}}],r.otherMenuOptions=[["Favorite Color",function(e,t,n,l,o){alert(n),console.info(e),console.info(t),console.info(n),console.info(l),console.info(o)}]];var p={html:'<div style="cursor: pointer; background-color: pink"><i class="glyphicon glyphicon-ok-sign"></i> Testing Custom </div>',click:function(e,t,n,l,o){alert("custom html"),console.info(e),console.info(t),console.info(n),console.info(l),console.info(o)}},g={html:"I'm Disabled",click:function(e,t,n){console.log("expect to never get here!")},enabled:function(e,t,n){return console.log("can't click"),!1}};r.customHTMLOptions=[p,g,["Example 1",function(e,t,n){alert("Example 1")}]];function f(){var e=this;log(e);var t=angular.element(this.content),l=n(t),o={hide:function(e){panel.close(),deferred.resolve(e)},cancel:function(e){panel.close(),deferred.reject(e)}},s=i.$new(!1,i);s.forId=4,s.closeTest=function(){alert("closeTest"),r.ttff="gggggggfgg",e.close()},m("menuCtrl",{$scope:s,$element:t,$wbFloat:o}),l(s)}r.data="fff",r.saveSelectedFilesToGallery=function(){alert("You've saveSelectedFilesToGallery the alert tab!")},r.replacement=function(){},r.showImagesBoard=function(){var e=t.getTop();e&&(topModalIndex=parseInt(e.value.modalDomEl.attr("index"),10),alert(topModalIndex)),log(e),jsPanel.ziBase=1030,jsPanel.ziBase=1059,jsPanel.errorReporting=0;jsPanel._previous_panel=jsPanel.create({theme:"dark",headerTitle:"my panel #1",panelSize0:{width:()=>.5*window.innerWidth,height:"50vh"},panelSize:"70% 70%",headerControls:"all",boxShadow:2,theme:"dark filleddark",setStatus:"normalized",content:'<add-sales-exports close="closeTest()" dismiss="closeTest()"></add-sales-exports>{{forId}}',callback:f})},r.openTablePage=function(e,t){jsPanel.ziBase=1030,jsPanel.ziBase=1059,jsPanel.errorReporting=0;jsPanel.create({id:"pageTable"+e,theme:"dark",maximizedMgargin:{top:100,right:0,bottom:0,left:0},maximizedMargin:[42,0,0,0],headerTitle:t,panelSize0:{width:()=>.5*window.innerWidth,height:"50vh"},panelSize:"70% 70%",headerControls:"all",boxShadow:5,theme:"dark filleddark",setStatus:"maximized",snapped:!0,content:"<table-page method-name=\"'"+e+'\'" panel="$panel"></table-page>',onbeforeclose:function(e,t,n,l){return!0},callback:function(){var e=this,t=angular.element(this.content),l=n(t),o={hide:function(e){panel.close(),deferred.resolve(e)},cancel:function(e){panel.close(),deferred.reject(e)},msg:function(e){alert(e)}},s=i.$new(!1,i);s.$panel=e,s.closeTest=function(){alert("closeTest"),r.ttff="gggggggfgg",e.close()},m("menuCtrl",{$scope:s,$element:t,$wbFloat:o}),l(s)}})},r.openReports=function(e,t){jsPanel.ziBase=1030,jsPanel.ziBase=1059,jsPanel.errorReporting=0;jsPanel.create({id:"pageTable"+e,headerTitle:t,panelSize0:{width:()=>.5*window.innerWidth,height:"50vh"},panelSize:"70% 70%",headerControls:"all",boxShadow:5,theme:"dark filleddark",setStatus:"maximized",snapped:!0,content:"<div ng-include=\"'assets/templates/reports.html?ggh'\"></div>",onbeforeclose:function(e,t,n,l){return!0},callback:function(){var e=this,t=angular.element(this.content),l=n(t),o={hide:function(e){panel.close(),deferred.resolve(e)},cancel:function(e){panel.close(),deferred.reject(e)}},s=i.$new(!1,i);s.$panel=e,s.closeTest=function(){alert("closeTest"),r.ttff="gggggggfgg",e.close()},m("menuCtrl",{$scope:s,$element:t,$wbFloat:o}),l(s)}})},r.showImagesBoard3=function(){jsPanel.autopositionSpacing=-200,isExistElement("imagesBoard")||$.jsPanel({id:"imagesBoard",selector:"body",contentOverflow:"scroll",content:n("<div ng-include=\"'public/menu.html'\"></div>")(r),theme:"info",title:" انتخاب فایل ",headerTitle:" انتخاب فایل 22"}).reposition("center")},r.menuOpen=function(){c.open("menuOpen"),r.$broadcast("menuOpen",{ddd:555})},r.testPanel=function(){c.open("testPanel"),r.$broadcast("testPanel",{ddd:555})},r.tabs=[{title:"Dynamic Title 1",content:"Dynamic content 1"},{title:"Dynamic Title 2",content:"Dynamic content 2",disabled:!0}],r.custemers=[{name:"Dynamic Title 1",content:"Dynamic content 1"},{name:"Dynamic Title 2",content:"Dynamic content 2",disabled:!0}],r.alertMe=function(){setTimeout(function(){alert("You've selected the alert tab!")})},r.goTo=function(){l.url("/login").replace()},r.prompt=function(){prompt("fffff")},r.openTestModel=function(){s.open({animation:!1,size:"lg res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",component:"addFilling",resolve:{}})},r.openTestModel=function(){s.open({animation:!1,size:"lg res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",component:"addFilling",resolve:{}})},r.openTestModel2=function(t){e.open({id:"fdggdfd",title:t||"",animation:!1,size:"lg res-fullscreen",component:"reportsPage",status:"maximized",resolve:{}})},r.openTestModel3=function(t){e.open({id:"fddggdfd",title:t||"",animation:!1,size:"lg res-fullscreen",component:"reportsPage",status:"normalized",resolve:{}})},r.projects=[{name:"AngularJS",version:"1.5",language:"JavaScript",maintainer:"Google",stars:35e3},{name:"Bootstrap",version:"3.3",language:"CSS",maintainer:"Twitter",stars:23e3},{name:"UI-Router",version:"0.13",language:"JavaScript",maintainer:"AngularUI",stars:15e3}],r.model={name:"Tabs"}}]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/working",{templateUrl:function(){return"working/view.php?v=ff"+veraizon},controller:"workingController",methodName:"import_files",controllerAs:"$ctrl",resolve:{essentialData:["srvLibrary",function(e){return e.getEssentials()}]}})}]).directive("ezzModalTransclude",["$animate",function(e){return{link:function(t,n,l,o,i){i(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).component("colorsPanel",{transclude:!0,bindings:{title:"@",color:"=?",selected:"=?",colorText:"=?",size:"=?",panel:"<"},controller:function(){var e=this;e.colorNames=jsPanel.colorNames,e.$onInit=function(){},e.getStyle=function(e){return{"background-color":"#"+e}},e.selectColor=function(t,n){e.selected=jsPanel.color(t).hex,e.colorText=t,e.color=t,e.size=n;var l=jsPanel.color(t),o=jsPanel.calcColors(t);log(l),log(o);try{e.panel.setTheme(t+" filleddark")}catch(e){log(e)}},e.selected=null,e.panel=null},template:'\n<style>\n.color-selected {\n    border: 2px solid #ff5722!important;\n}\n.color-row {\n    border: 2px solid transparent;\n}\n   \n</style>\n\n <div class=" col-8 row p-0" >\n <view-field class="col-lg-12" title="colorText" ng-model="$ctrl.colorText"></view-field>\n<view-field  class="col-lg-6"  title="color" ng-model="$ctrl.color"></view-field>\n<view-field  class="col-lg-6" title="size" ng-model="$ctrl.size"></view-field>\n </div>\n <div class="row col-12 pt-2" >\n    <div class="row col-12 p-1" ng-repeat="(cKey,color) in $ctrl.colorNames" style="    margin-top: 2px;  margin-bottom: 3px;">\n        <span class="col-auto text-info">{{cKey}} </span>\n        <span ng-click="$ctrl.selectColor(cKey,color)" class="pointer col color-row " ng-style="$ctrl.getStyle(color)" >&nbsp;</span>\n        \n        </div>\n </div>\n          '});const settingColors={levels:{no0:{no:0,color:"green"},no2:{no:1,color:"orange"}},max:{color:"red"}};function noColorDynamic(e,t){try{is_undefined(t)&&(t=600);var n="",l=!1;return angular.forEach(settingColors.levels,function(t,n){try{t.no===e&&(l=t.color)}catch(e){}}),l?n=l:e<0?n="blue":0===e?n="green":e>0&&(n=settingColors.max.color||"red"),""!==n?"bg-"+t+" bg-"+(n=n.trim())+"-"+t+" no-"+e:"bg-"+t+" bg-"+n+"-"+t+" no-"+e}catch(e){return""}return""}function noColor(e,t){try{is_undefined(t)&&(t=600);var n="";if(0===e?n="green":1===e?n="teal":2===e?n="orange":e>=3&&(n="red"),""!==n)return"bg-"+t+" bg-"+n+"-"+t}catch(e){return""}return""}function moneyColor(e,t){try{is_undefined(t)&&(t=100);var n="";if(e?e>=1&&e<1e5?n="green":e>=1e5&&e<5e5?n="teal":e>=5e5&&e<1e6?n="orange":e>=1e6&&(n="red"):n="",""!==n)return"bg-"+t+" bg-"+n+"-"+t}catch(e){return""}return""}function balanceColor(e,t){try{is_undefined(t)&&(t=600);var n="";if(e>0?n="green":e<0&&(n="red"),""!==n)return"bg-"+t+" bg-"+n+"-"+t}catch(e){return""}return""}function priorityColor(e,t){try{is_undefined(t)&&(t=600);var n="";if(1===e?n="green":2===e?n="teal":3===e?n="orange":e>=4&&(n="red"),""!==n)return"bg-"+t+" bg-"+n+"-"+t}catch(e){return""}return""}function typeColor(e,t){try{is_undefined(t)&&(t=600);var n="";if("driver"===e?n="cyan":"customer"===e?n="teal":"user"===e?n="orange":"non"===e?n="teal":0===e?n="red":1===e?n="cyan":2===e?n="teal":3===e?n="orange":e>=4&&(n="teal"),""!==n)return"bg-"+t+" bg-"+n+"-"+t}catch(e){return""}return""}function totalColor(e,t){try{is_undefined(t)&&(t=600);var n="";if(0===e?n="cyan":e>0?n="green":e<0&&(n="red"),""!==n)return"bg-"+t+" bg-"+n+"-"+t}catch(e){return""}return""}function itemTotal(e,t,n){try{if(angular.isObject(e)){if(is_undefined(e.count)){if(t)return 0;if(n)return"لايوجد عدد"}if(is_undefined(e.price)){if(t)return 0;if(n)return"لايوجد سعر"}try{return parseInt(e.count)*parseInt(e.price)}catch(e){if(logCatch(e),t)return 0;if(n)return"القيم خطاء"}}return t?0:""}catch(e){return logCatch(e),t?0:""}}function itemCount(e,t,n){try{if(angular.isObject(e)){if(is_undefined(e.count)){if(t)return 0;if(n)return"لايوجد عدد"}try{return parseInt(e.count)}catch(e){if(logCatch(e),t)return 0;if(n)return"القيم خطاء"}}return t?0:""}catch(e){return logCatch(e),t?0:""}}function itemListTotal(e){try{var t=0;return angular.forEach(e,function(e){t+=itemTotal(e,!0)}),t}catch(e){return logCatch(e),0}}function itemListCount(e){try{var t=0;return angular.forEach(e,function(e){t+=itemCount(e,!0)}),t}catch(e){return logCatch(e),0}}angular.module("OraSchool").filter("strLimit",["$filter",function(e){return function(t,n,l){return t.length<=n?t:e("limitTo")(t,n)+(l||"...")}}]).filter("getLength",function(){return getLength}).filter("getLengthItems",function(){return function(e){try{var t=0;angular.forEach(e,function(e){try{e.items&&(t+=getLength(e.items))}catch(e){logCatch(e)}})}catch(e){return logCatch(e),t}return t}}).filter("timeAgo",function(){"use strict";return function(e,t,n){return{execute:function(e,t,n){return ago(e)},calculateDifference:function(e,t){return Math.abs(Math.round((e-t)/1e3))},groupDifference:function(e){var t,n,l,o,i=[],s={year:31536e3,month:2678400,week:604800,day:86400,hour:3600,minute:60,second:1};for(t in s)n=s[t],l=Math.floor(e/n),(null!==(o=this.formatGroup(l,t))||i.length>0)&&i.push(o),e-=l*n;return i},formatGroup:function(e,t){if(e<1)return null;var n=t+"";return e>2&&e<=10?("hour"===n&&(n="ساعات"),"month"===n&&(n="اشهر"),"week"===n&&(n="اسابيع"),"day"===n&&(n="ايام"),"minute"===n&&(n="دقائق"),"second"===n&&(n="ثواني")):("hour"===n&&(n="ساعة"),"month"===n&&(n="شهر"),"week"===n&&(n="اسبوع"),"day"===n&&(n="يوم"),"minute"===n&&(n="دقيقة"),"second"===n&&(n="ثانية")),1===e?n:("2 يوم"===(n=e+" "+n)&&(n="يومين"),"2 ساعة"===n&&(n="ساعتان"),"2 اسبوع"===n&&(n="اسبوعين"),"2 شهر"===n&&(n="شهرين"),"2 ثانية"===n&&(n="ثانيتين"),"2 دقيقة"===n&&(n="دقيقتين"),n)},applyAccuracy:function(e,t){return e.length=Math.min(e.length,t),e},toString:function(e,t){var n;return e=this.removeNullValues(e),n=this.joinArray(e),t?"بعد "+n:"منذ "+n},removeNullValues:function(e){var t,n=[];for(t=0;t!==e.length;t++)null!==e[t]&&n.push(e[t]);return n},joinArray:function(e){return 1===e.length?e[0]:e.join(" و")}}.execute(e,t,n)}}).filter("ago",function(){"use strict";return function(e){try{if(!is_number(e))try{if(e.includes("/")||e.includes("-"))return agoDate(e)}catch(e){}return agoInt(e)}catch(t){return e}}}).filter("itemTotal",function(){"use strict";return itemTotal}).filter("totalColor",function(){"use strict";return totalColor}).filter("itemListTotal",function(){"use strict";return itemListTotal}).filter("itemListCount",function(){"use strict";return itemListCount}).filter("itemCount",function(){"use strict";return itemCount}).filter("getItems",function(){return function(e,t,n){try{return angular.isArray(e)?e.filter(function(e){try{return n&&t?angular.isDefined(e.itemId)&&angular.isDefined(e.countReceipt)&&angular.isDefined(e.count)&&angular.isDefined(e.price):n?angular.isDefined(e.itemId)&&angular.isDefined(e.countReceipt)&&angular.isDefined(e.count):t?angular.isDefined(e.itemId)&&angular.isDefined(e.count)&&angular.isDefined(e.price):angular.isDefined(e.itemId)&&angular.isDefined(e.count)}catch(e){return!1}}):[]}catch(e){return[]}}}).filter("days",function(){"use strict";return daysDiff}).filter("noColor",function(){"use strict";return noColor}).filter("balanceColor",function(){"use strict";return balanceColor}).filter("priorityColor",function(){"use strict";return priorityColor}).filter("moneyColor",function(){"use strict";return moneyColor}).filter("typeColor",function(){"use strict";return typeColor}).filter("daysColor",function(){"use strict";return function(e,t,n){try{return isNull(e)?"":is_undefined(n)||n?noColorDynamic(daysDiff(e),t):""}catch(e){return""}}}).filter("object2Array",function(){return function(e){var t=[];for(i in e)t.push(e[i]);return t}}).filter("dateFormat",function(){return function(e,t){try{var n=moment(e).format(t||"YYYY/MM/DD h:mm a");return"Invalid date"!=n?n:e}catch(t){return e}}}).filter("dateFormat2",function(){return function(e,t){try{var n=moment(1e3*parseInt(e)).format(t||"YYYY/MM/DD h:mm a");return"Invalid date"!=n?n:e}catch(t){return e}}}).filter("dateSmallFormat",function(){return function(e,t){try{var n=moment(e).format(t||"YYYY/MM/DD");return"Invalid date"!=n?n:e}catch(t){return e}}}).filter("dateTimeFormat",function(){return function(e,t){try{var n=moment(e).format(t||"YY-MM-DD hh:mm a");return"Invalid date"!=n?n:e}catch(t){return e}}}).filter("dateSmall",function(){return function(e,t){try{var n=moment(e).format(t||"YY-MM-DD");return"Invalid date"!=n?n:e}catch(t){return e}}}).filter("isStartBook",function(){return function(e){try{const t=parseInt(e);return t%50==1&&t}catch(e){return!1}}}).filter("momentAgo",function(){return function(e,t){try{var n=new moment,l=new moment(e);return moment.duration(n.diff(l)).locale("ar").humanize(t)}catch(t){return e}}}).filter("arNumber",function(){return function(e){try{var t=e;return t>0?writtenNumber(t):t<0&&(t*=-1)>0?"سالب "+writtenNumber(t):e}catch(t){return e}}}).filter("countNumber",function(){return function(e){try{var t=e;return t>0?"له "+t:t<0&&(t*=-1)>0?" عليه "+t:e}catch(t){return e}}}).filter("balanceNumber",["$filter",function(e){return function(t){try{var n=t;return n>0?"له "+e("number")(n):n<0&&(n*=-1)>0?" عليه "+e("number")(n):t}catch(e){return t}}}]).filter("dateAgo",function(){return function(e,t){try{var n=moment(),l=moment(e);return humanizeDuration(n.diff(l),{round:!0,language:"ar",halfUnit:!1,delimiter:" و",units:["years","months","days","hours"]})}catch(t){return e}}}).filter("sumSub",function(){return function(e,t,n){try{var l=0,o=0;try{o=parseInt(n)}catch(e){}return angular.forEach(e,function(e){try{if(angular.isObject(e)){var n=parseInt(e[t]);n&&(l+=n)}}catch(e){}}),o+l}catch(e){}return""}}).filter("sumFill",function(){return function(e){try{var t=0,n=0,l=0;try{angular.isObject(e)&&(t=parseInt(e.back))}catch(e){}try{angular.isObject(e)&&(n=parseInt(e.full))}catch(e){}try{angular.isObject(e)&&(l=parseInt(e.oldFull))}catch(e){}return t+n+l}catch(e){}return""}}).filter("sum",function(){return function(e,t){try{var n=0;return angular.forEach(e,function(e){try{if(angular.isObject(e)){var l=parseInt(e[t]);l&&(n+=l)}}catch(e){logCatch(e)}}),n}catch(e){logCatch(e)}return""}}).filter("objectSum",function(){return function(e,t,n){try{var l=0;return angular.forEach(e,function(e){try{if(angular.isObject(e)&&angular.isObject(e[t])&&angular.isNumber(e[t][n])){var o=parseInt(e[t][n]);o&&(l+=o)}}catch(e){}}),l}catch(e){}return""}}).filter("diffTime",function(){return function(e,t){try{try{if(!angular.isObject(t))return"";if(!angular.isObject(e))return"";if(!angular.isDefined(e.hours)||!angular.isNumber(e.hours))return"";if(!angular.isDefined(e.minutes)||!angular.isNumber(e.minutes))return"";if(!angular.isDefined(t.hours)||!angular.isNumber(t.hours))return"";if(!angular.isDefined(t.minutes)||!angular.isNumber(t.minutes))return""}catch(e){}try{var n=e.hours,l=e.minutes,o=t.hours,i=t.minutes;n>o&&(o+=12);var s=moment({y:2020,M:1,d:1,h:n,m:l}),a=moment({y:2020,M:1,d:1,h:o,m:i});moment.duration(s.diff(a));return humanizeDuration(s.diff(a),{round:!0,language:"ar",halfUnit:!1,delimiter:" و",units:["hours","minutes"]})}catch(e){}}catch(e){return""}return""}}).filter("objToTime",function(){return function(e){try{try{if(!angular.isObject(e))return"";if(!angular.isDefined(e.hours)||!angular.isNumber(e.hours))return"";if(!angular.isDefined(e.minutes)||!angular.isNumber(e.minutes))return""}catch(e){}try{return e.hours+":"+e.minutes}catch(e){}}catch(e){return""}return""}}).filter("dateDif",function(){return function(e,t){try{var n=moment(e),l=(t=moment(t),["years","months","days","hours"]);if(n.isValid()&&t.isValid()){var o=n.diff(t);return(o>0&&o<6e8||o<0&&o>-6e8)&&(l=["years","months","days","hours","minutes"]),humanizeDuration(o,{round:!0,language:"ar",halfUnit:!1,delimiter:" و",units:l})}}catch(e){return""}return""}}).filter("ezzNo",["$filter","$locale",function(e,t){var n=e("currency"),l=t.NUMBER_FORMATS;return function(e,t){var o=n(e,t||""),i=o.indexOf(l.DECIMAL_SEP);return e>=0?o.substring(0,i):o.substring(0,i)+")"}}]).filter("ezzrange3",function(){return function(e,t,n){n=parseInt(n),t=parseInt(t);var l=n;e.push(l);for(var o=1;o<t;o++)l+=4,e.push(l);return e}}),angular.module("OraSchool").factory("srvLibrary",["$http","$rootScope","EzzFilter",function(e,t,n){return{getEssentials:function(){if(void 0===t.dashboardData){var l=e({method:"GET",url:"index.php/admin/dashboard"});return l.then(function(e){t.dashboardData=e.data,t.phrase=t.dashboardData.language,t.angDateFormat=t.dashboardData.dateformat,""==t.angDateFormat?t.angDateFormat="MM/dd/yyyy":(t.angDateFormat=t.angDateFormat.replace("d","dd"),t.angDateFormat=t.angDateFormat.replace("m","MM"),t.angDateFormat=t.angDateFormat.replace("Y","yyyy")),"ethiopic"==t.dashboardData.gcalendar&&(t.dashboardData.gcalendar="ethiopian");try{n.searchAsync2("User").then(function(e){}),n.searchAsync2("sales_customers").then(function(e){})}catch(e){}return!0}),l}return!0}}}]).service("fileUpload",["$http",function(e){this.uploadFileToUrl=function(t,n){var l=new FormData;angular.forEach(t,function(e,t){l.append(t,e)}),e.post(n,l,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(){}).error(function(){})}}]).factory("dataFactory",["$http","$loader",function(e,t){function n(e){return void 0===e?($.toast({heading:"خطاء",text:e.data,position:"top-right",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6}),t.closeAll(),!1):"string"==typeof e.data&&1!==e.data?"Unauthorized. [loginMark]"==e.data?void location.reload():!!e.data.includes("loginMark")&&void location.reload():(e.data.jsMessage&&$.toast({heading:e.data.jsTitle,text:e.data.jsMessage,position:"top-right",loaderBg:"#ff6849",icon:"info",hideAfter:3e3,stack:6}),e.data)}return{httpRequest:function(l,o,i,s,a){var c={};if(c.url=l,c.method=void 0===o?"GET":o,void 0!==i&&(c.params=i),void 0!==s&&(c.data=s),void 0!==a){var r=new FormData;angular.forEach(s,function(e,t){"object"==typeof e&&-1===a.indexOf(t)&&(e=JSON.stringify(e)),r.append(t,e)}),c.data=r,c.transformRequest=angular.identity,c.headers={"Content-Type":void 0}}return c.headers={"X-Requested-With":"XMLHttpRequest"},e(c).then(function(t){try{if(t){if(logCatch("check confirm"),logCatch(t),void 0===t)return n(t);if(logCatch("check 1"),void 0===t.data)return n(t);if(logCatch("check 2"),void 0===t.data.status)return n(t);if(logCatch("check 3"),!t.data.status)return n(t);if(void 0!==t.data.message&&1===t.data.withConfirm&&t.data.cf&&!0===confirm(t.data.message+" \n!!  هل تريد المتابعة وتنفيذ العملية ؟ ")){var l=t.config;return logCatch("sub confirm"),is_object(l.params)||(l.params={}),l.params.__cf=t.data.cf,logCatch("sub dddd"),logCatch(t),e(t.config).then(function(e){return logCatch("sub"),logCatch(e),n(e)},function(){return n(t)})}}}catch(e){logCatch(e)}return n(t)},function(e){if(void 0===e)return $.toast({heading:"خطاء",text:e.data,position:"top-right",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6}),t.closeAll(),!1;if(!is_undefined(e.data)&&"string"==typeof e.data&&1!==e.data){if("Unauthorized. [loginMark]"===e.data)return void location.reload();if(401===e.status)return void location.reload();if(404===e.status)return $.toast({heading:"خطاء",text:"لم يتم ايجاد العملية او تم ايقافها",position:"top-right",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6}),t.closeAll(),{};if(500===e.status)return $.toast({heading:"خطاء",text:"حدث خطاء لم يتم تنفيذ العملية",position:"top-right",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6}),t.closeAll(),{};if("Unauthorized. [loginMark]"==e.data)return void location.reload();if(e.data.substr("loginMark"))return void location.reload()}$.toast({heading:"حدث خطاء ",text:"حدث خطاء لم يتم تنفيذ العملية",position:"top-right",loaderBg:"#ff6849",icon:"error",hideAfter:3e3,stack:6}),t.closeAll()})}}}]).factory("$loader",["$rootScope",function(e){var t={isOpen:!1,showClose:!0,text:"false",open:function(e){t.text=e||"جاري التحميل ...",t.isOpen=!0},close:function(){t.text="جاري التحميل ...",t.isOpen=!1},closeAll:function(){showHideLoad(!0),showHideLoadEzz(!0),t.close()},createNew:function(e){var t={isOpen:!1,showClose:!0};return is_undefined(e)||(t.showClose=e),t.text="false",t.open=function(e){t.text=e||"جاري التحميل ...",t.isOpen=!0},t.showClose=function(e){t.showClose=e},t.close=function(){t.text="جاري التحميل ...",t.isOpen=!1},t}};return t}]).factory("EzzFilter",["$rootScope","dataFactory",function(e,t){var n={selects:{},geta:function(e){log("searchAsync"+e)},searchAsync2:function(e,l){if(is_array(e))return e;if(is_object(e))return e;var o="index.php/admin/filtersFor/"+e;return e.startsWith("index.php/")&&(o=e),void 0===n.selects[o]?t.httpRequest(o).then(function(e){return n.selects[o]=e,n.selects[o]}):getDataPromise(n.selects[o])},searchAsyncRefresh:function(e,l){if(is_array(e))return e;if(is_object(e))return e;var o="index.php/admin/filtersFor/"+e;return e.startsWith("index.php/")&&(o=e),t.httpRequest(o).then(function(e){try{n.selects[o]=e}catch(e){}return n.selects[o]||[]})},searchAsync:function(e,l){if(is_array(e))return e;if(is_object(e))return e;var o="index.php/admin/filtersFor/"+e;return void 0===n.selects[o]?t.httpRequest("index.php/admin/filtersFor/"+e).then(function(e){return n.selects[o]=e,n.selects[o]}):n.selects[o]},refreshAsync:function(e){if(is_array(e))return e;if(is_object(e))return e;var l="index.php/admin/filtersFor/"+e;return is_undefined(n.selects[l])?getDataPromise([]):t.httpRequest("index.php/admin/filtersFor/"+e).then(function(e){return n.selects[l]=e,n.selects[l]})},searchAsyncItemArr:{},requestKey:function(e,t){var n="";try{n=JSON.stringify(t)}catch(e){n=""}return e+"#"+n},getCacheRequest:function(e,t){var l=n.requestKey(e,t);return void 0!==n.searchAsyncItemArr[l]&&n.searchAsyncItemArr[l]},cacheRequest:function(e,t,l){var o=n.requestKey(t,l);n.searchAsyncItemArr[o]=e},searchAsyncItem:function(e,l){const o="index.php/admin/filtersFor/"+e,i={q:l,limit:20};var s="";try{s=JSON.stringify(i)}catch(e){s=l}const a=o+"#"+s;return void 0===n.searchAsyncItemArr[a]&&(n.searchAsyncItemArr[a]=[]),l?l.length<3?n.searchAsyncItemArr[a]:t.httpRequest("index.php/admin/filtersFor/"+e,"GET",i).then(function(e){return n.searchAsyncItemArr[a]=e,e}):n.searchAsyncItemArr[a]},setCurrentRouteIdx:function(e){n.currentRouteIdx=e},getCurrentRouteIdx:function(){return n.currentRouteIdx}};return n}]).factory("ArabicNumbers",["dataFactory",function(e){return{number:function(t){return e.httpRequest("assets/helper/numberText/"+t)},money:function(t){return e.httpRequest("assets/helper/money/"+t)}}}]).factory("EzzSelectApi",["dataFactory",function(e){var t=function(e){this.ctrl=e};return t.prototype.openSelect=function(){this.ctrl.openSelectModel()},t.prototype.open=function(){this.ctrl.openSelectModel()},t}]).provider("$ezzPanel",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$compile","$q","$document","$templateRequest","$controller","$uibResolve",function(t,n,l,o,i,s,a){var c={},r=null;c.getPromiseChain=function(){return r};var d=/[A-Z]/g;return c.open=function(o){var i,s,c=l.defer(),m=l.defer(),u=l.defer(),p=l.defer(),g={result:c.promise,opened:m.promise,closed:u.promise,rendered:p.promise,close:function(e){g.$panel.close();try{return g.deferred.resolve(e)}catch(e){}},dismiss:function(e){g.$panel.close();try{return g.deferred.reject(e)}catch(e){}}};if((o=angular.extend({},e.options,o)).resolve=o.resolve||{},!o.component)throw new Error("One of component or template or templateUrl options is required.");function f(){return i}return i=l.when(a.resolve(o.resolve,{},null,null)),s=r=l.all([r]).then(f,f).then(function(e){var l=t.$new(!1,t);l.$close=g.close,l.$dismiss=g.dismiss,l.$on("$destroy",function(){l.$$uibDestructionScheduled||l.$dismiss("$uibUnscheduledDestruction")}),g.deferred=c;var i,s={scope:l,deferred:c,renderDeferred:p,closedDeferred:u,animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowTopClass:o.windowTopClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,ariaLabelledBy:o.ariaLabelledBy,ariaDescribedBy:o.ariaDescribedBy,size:o.size,openedClass:o.openedClass,appendTo:o.appendTo},a={};!function(t,n,o,i){t.$scope=l,t.$scope.$resolve={},o?t.$scope.$uibModalInstance=g:t.$uibModalInstance=g;var s=n?e[1]:e;angular.forEach(s,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}(a,!1,!0,!1),a.name=o.component,s.component=a,(i=document.createElement(s.component.name.replace(d,function(e,t){return(t?"-":"")+e.toLowerCase()}))).setAttribute("resolve","$resolve"),i.setAttribute("modal-instance","$uibModalInstance"),i.setAttribute("dismiss","$dismiss($value)"),i.setAttribute("close","$close($value)"),i.setAttribute("panel","$panel"),jsPanel.ziBase=1030,jsPanel.ziBase=1059,jsPanel.errorReporting=0;var r={maximizedMgargin:{top:100,right:0,bottom:0,left:0},maximizedMargin:[42,0,0,0],headerTitle:"",panelSize0:{width:()=>.5*window.innerWidth,height:"50vh"},panelSize:"70% 70%",headerControls:"all",boxShadow:5,theme:"dark filleddark",snapped:!0,content:i,onbeforeclose:function(e,t,n,l){return!0},callback:function(){var e=this,t=angular.element(this.content),o=n(t),i=l;i.$panel=e,g.$panel=e,i.closeTest=function(){alert("closeTest"),e.close()},o(i)}};o.id&&(r.id=o.id),o.status&&(r.setStatus=o.status),o.title&&(r.headerTitle=o.title),o.container&&(r.container=o.container),o.minimizeTo&&(r.minimizeTo=o.minimizeTo),o.maximizedMargin&&(r.maximizedMargin=o.maximizedMargin),o.panelSize&&(r.panelSize=o.panelSize),o.theme&&(r.theme=o.theme),jsPanel.create(r),m.resolve(!0)},function(e){m.reject(e),c.reject(e)}).finally(function(){r===s&&(r=null)}),g},c}]};return e}),function(){"use strict";function e(){return{restrict:"A",controller:t}}function t(e,t,n,l){e.$watch(n.ezzBindHtml,function(n){var o=l(n)(e);t.append(o)})}angular.module("OraSchool").directive("ezzBindHtml",e),e.$inject=[],t.$inject=["$scope","$element","$attrs","$compile"]}(),angular.module("OraSchool").directive("includeReplace",[function(){return{require:"ngInclude",restrict:"A",link:function(e,t,n){t.replaceWith(t.children())}}}]).directive("checklistModel",["$parse","$compile",function(e,t){function n(e,t,n){if(angular.isArray(e))for(var l=e.length;l--;)if(n(e[l],t))return!0;return!1}function l(e,t,l){return n(e=angular.isArray(e)?e:[],t,l)||e.push(t),e}function o(e,t,n){if(angular.isArray(e))for(var l=e.length;l--;)if(n(e[l],t)){e.splice(l,1);break}return e}function i(i,s,a){var c=a.checklistModel;a.$set("checklistModel",null),t(s)(i),a.$set("checklistModel",c);var r=e(c),d=e(a.checklistChange),m=e(a.checklistBeforeChange),u=e(a.ngModel),p=angular.equals;if(a.hasOwnProperty("checklistComparator"))if("."==a.checklistComparator[0]){var g=a.checklistComparator.substring(1);p=function(e,t){return e[g]===t[g]}}else p=e(a.checklistComparator)(i.$parent);var f=i.$watch(a.ngModel,function(e,t){e!==t&&(m&&!1===m(i)?u.assign(i,n(r(i.$parent),v(),p)):(w(v(),e),d&&d(i)))}),h=i.$watch(v,function(e,t){if(e!=t&&angular.isDefined(t)&&!0===i[a.ngModel]){var n=r(i.$parent);r.assign(i.$parent,o(n,t,p)),r.assign(i.$parent,l(n,e,p))}},!0),b=i.$on("$destroy",function(){f(),h(),b()});function v(){return a.checklistValue?e(a.checklistValue)(i.$parent):a.value}function w(e,t){var n=r(i.$parent);angular.isFunction(r.assign)&&(!0===t?r.assign(i.$parent,l(n,e,p)):r.assign(i.$parent,o(n,e,p)))}function y(e,t){m&&!1===m(i)?w(v(),u(i)):u.assign(i,n(e,v(),p))}angular.isFunction(i.$parent.$watchCollection)?i.$parent.$watchCollection(c,y):i.$parent.$watch(c,y,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,t){if(!t.checklistValue&&!t.value)throw"You should provide `value` or `checklist-value`.";return t.ngModel||t.$set("ngModel","checked"),i}}}]).directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ngEnter)}),t.preventDefault())})}}).directive("chatBox",["$parse","$timeout",function(e,t){return{restrict:"A",replace:!0,transclude:!1,compile:function(e,t){return function(e,t,n,l){$("#chat-box").slimScroll({height:"500px",alwaysVisible:!0,start:"bottom"})}}}}]).directive("scrollBox",["$parse","$timeout",function(e,t){return{restrict:"A",replace:!0,transclude:!1,compile:function(e,t){return function(e,t,n,l){$("#"+n.id).slimScroll({height:n.height,alwaysVisible:!0,start:"bottom"})}}}}]).directive("colorbox",function(){return{restrict:"AC",link:function(e,t,n){try{var l={transition:"elastic",title:n.title,rel:"gallery",scalePhotos:!0};is_undefined(n.type)||0!==n.type.indexOf("image")&&(l.iframe=!0),l.innerWidth="90%",l.innerHeight="95%",l.height="90%",l.photo=!0,$(t).colorbox(l)}catch(e){}}}}).directive("modal",function(){return{template:'<div class="modal fade"><div class="modal-dialog {{modalClass}}"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">{{ modalTitle }}</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,t,n){e.$watch(n.visible,function(e){1==e?$(t).modal("show"):$(t).modal("hide")}),$(t).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[n.visible]=!0})}),$(t).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[n.visible]=!1})})}}}).directive("tooltip",function(){return{restrict:"A",link:function(e,t,n){}}}).directive("showtab",function(){return{link:function(e,t,n){t.click(function(e){e.preventDefault(),$(t).tab("show")})}}}).directive("tabheads",function(){return{link:function(e,t,n){$(t).children().first().addClass("active")}}}).directive("tabcontent",function(){return{link:function(e,t,n){$(t).children().first().addClass("active")}}}).directive("ckEditor",["$parse","$timeout","$rootScope",function(e,t,n){return{restrict:"A",require:"ngModel",link:function(e,t,n,l){}}}]).directive("ezzEditor",["$parse","$timeout","$rootScope",function(e,t,n){return{restrict:"A",require:"ngModel",link:function(e,t,n,l){try{var o={};o.enterMode=CKEDITOR.ENTER_BR,o.shiftEnterMode=CKEDITOR.ENTER_P,o.extraPlugins="font,justify,colorbutton,lineheight";var i=CKEDITOR.replace(t[0],o);i.on("pasteState",function(){e.$apply(function(){l.$setViewValue(i.getData())})}),l.$render=function(e){i.setData(l.$modelValue)}}catch(e){logCatch(e)}}}}]).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,l){var o=e(l.fileModel).assign;n.bind("change",function(){t.$apply(function(){o(t,n[0].files[0])})})}}}]).directive("strToTime",function(){return{require:"ngModel",link:function(e,t,n,l){"time"===n.type&&(l.$parsers.push(function(e){return e?("0"+e.getHours().toString()).slice(-2)+":"+("0"+e.getMinutes().toString()).slice(-2):""}),l.$formatters.push(function(e){if(!e)return null;var t=new Date(1970,1,1),n=e.split(":");return t.setHours(n[0]),t.setMinutes(n[1]),t}))}}}).directive("strToDate",function(){return{require:"ngModel",link:function(e,t,n,l){"date"!==n.type&&"datetime"!==n.type&&"datetime-local"!==n.type||l.$formatters.push(function(e){return e?new Date(e):null})}}}).directive("ngImageCompress",["$q",function(e){var t=window.URL||window.webkitURL,n=function(t){var n=e.defer(),l=new FileReader;return l.onload=function(e){n.resolve(e.target.result)},l.readAsDataURL(t),n.promise};return{restrict:"A",scope:{image:"=",resizeCallback:"&",resizeMaxHeight:"@?",resizeMaxWidth:"@?",resizeQuality:"@?",resizeType:"@?"},link:function(e,l,o){var i=function(t,n){!function(e,t){var n=new Image;n.onload=function(){t(n)},n.src=e}(t.url,function(l){var o=function(e,t){var n=t.resizeType,l=100*t.resizeQuality||60,o="image/jpeg";void 0!==n&&"png"===n&&(o="image/png");var i=t.resizeMaxHeight||230,s=t.resizeMaxWidth||150,a=e.height,c=e.width;c>a?c>s&&(a=Math.round(a*=s/c),c=s):a>i&&(c=Math.round(c*=i/a),a=i);var r=document.createElement("canvas");r.width=c,r.height=a;r.getContext("2d").drawImage(e,0,0,c,a);var d=r.toDataURL(o,l/100),m=new Image;return m.src=d,m.src}(l,e);t.optimized={dataURL:o,type:o.match(/:(.+\/.+);/)[1]},n(t)})},s=function(t){e.$apply(function(){o.multiple?(e.image.push(t),e.resizeCallback&&e.resizeCallback(t,!0)):(e.image=t,e.resizeCallback&&e.resizeCallback(t,!1))})};l.bind("change",function(l){o.multiple&&(e.image=[]);for(var a=l.target.files,c=0;c<a.length;c++){var r={file:a[c],url:t.createObjectURL(a[c])};n(a[c]).then(function(e){r.dataURL=e}),e.resizeMaxHeight||e.resizeMaxWidth?i(r,function(e){s(e)}):s(r)}})}}}]).directive("autosize",["$timeout",function(e){return{restrict:"A",link:function(t,n,l,o){n.css({height:"auto","overflow-y":"hidden"}),e(function(){n.css("height",n[0].scrollHeight+"px")},100),n.on("input",function(){n.css({height:"auto","overflow-y":"hidden"}),n.css("height",n[0].scrollHeight+"px")})}}}]).directive("storeValue",["$route","$timeout","$rootScope",function(e,t,n){return{restrict:"A",require:"ngModel",scope:{ngModel:"=?",group:"=?"},link:function(e,t,n,l){try{var o,i="";try{is_undefined(e.group)||(i=e.group+"#")}catch(e){}function s(){return i+n.storeValue}store.has(s())?o=store.get(s()):is_undefined(n.default)||(o=n.default),o&&(e.ngModel=o);var a=e.$watch("ngModel",function(e,t){o!==e&&store.put(s(),e),o=e});e.$on("$destroy",function(){try{a()}catch(e){}})}catch(e){logCatch(e)}}}}]).directive("modalEzzSb",function(){return{template:'<div  class="modal fade"><div class="modal-dialog modal-lg modal-null" ><div  ng-transclude></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,t,n){e.$watch(n.visible,function(e){1==e?$(t).modal("show"):$(t).modal("hide")}),e.hideModel=function(){$(t).modal("hide")},$(t).on("shown.bs.modal",function(){log("shown.bs.modal"),e.$apply(function(){e.$parent[n.visible]=!0,$(t).children().children().children().slideDown(50),$(t).children().children().children().addClass("ezz-rside-100")})}),$(t).on("hidden.bs.modal",function(){log("hidden.bs.modal"),e.$apply(function(){e.$parent[n.visible]=!1,$(t).children().children().children().slideDown(50),$(t).children().children().children().addClass("ezz-rside-100")})})}}}).directive("npInteger",["$interval",function(e){return{restric:"A",require:"ngModel",link:function(t,n,l,o){"integer"===l.type&&(n.keydown(function(e){var t=e.keyCode;if(e.ctrlKey&&-1!==[67,88,90,86,17].indexOf(t));else if(!e.metaKey&&-1===[8,9,46,112,113,114,115,116,117,118,119,120,121,122,123,35,36,37,38,39,40,96,97,98,99,100,101,102,103,104,105].indexOf(t)){var n=String.fromCharCode(t);if(/[^\d]+/.test(n))return!1}}),n.on("paste",function(t){t.originalEvent.clipboardData.getData("Text");e(function(){var e=n.val().replace(/[^0-9]+/g,"");n.val(e),o.$setViewValue(e)},2)}))}}}]).directive("ngInteger",["$interval",function(e){return{restric:"A",require:"ngModel",link:function(t,n,l,o){n.keydown(function(e){var t=e.keyCode;if(e.ctrlKey&&-1!==[67,88,90,86,17,37,38,39,40].indexOf(t));else if(!e.metaKey&&-1===[8,9,46,112,113,114,115,116,117,118,119,120,121,122,123,35,36,37,38,39,40,96,97,98,99,100,101,102,103,104,105].indexOf(t)){var n=String.fromCharCode(t);if(/[^\d]+/.test(n))return!1}}),n.on("paste",function(t){t.originalEvent.clipboardData.getData("Text");e(function(){var e=n.val().replace(/[^0-9]+/g,"");n.val(e),o.$setViewValue(e)},2)})}}}]).directive("modalEzz",function(){return{template:'<div class="modal fade"><div class="modal-dialog {{modalEzzClass}}"><div class="modal-content"><div class="modal-header" ><h4 class="modal-title"># {{ modalEzzTitle }}</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,t,n){e.$watch(n.visible,function(e){1==e?(log("$watch.show"),$(t).modal("show")):(log("$watch.hide"),$(t).modal("hide"))}),$(t).on("shown.bs.modal",function(){log("shown.bs.modal"),e.$apply(function(){e.$parent[n.visible]=!0})}),$(t).on("hidden.bs.modal",function(){log("hidden.bs.modal"),e.$apply(function(){e.$parent[n.visible]=!1})})}}}).directive("modalEzzSmall",function(){return{template:'<div class="modal fade"><div class="modal-dialog modal-fullscreen"><div class="modal-content"><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,t,n){e.$watch(n.visible,function(e){1==e?(log("$watch.show"),$(t).modal("show")):(log("$watch.hide"),$(t).modal("hide"))}),$(t).on("shown.bs.modal",function(){log("shown.bs.modal"),e.$apply(function(){e.$parent[n.visible]=!0})}),$(t).on("hidden.bs.modal",function(){log("hidden.bs.modal"),e.$apply(function(){e.$parent[n.visible]=!1})})}}}).directive("myView",function(){return{restrict:"E",scope:{itemView:"=",changeView:"="},transclude:!0,template:function(e,t){return t.them&&t.them,'  <div class="row p-0 m-0" >\n            <div class="col-12">\n                <div class="card">\n                    <div class="card-block">\n                        <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')">\n                            رجوع\n                        </button>\n                        <h4 class="card-title">التفاصيل </h4><br>\n\n\n                        <div class="form-horizontal row ">\n                            <div class="row m-b-0 m-t-5 p-0 m-0 row col-lg-6 mb-1  p-r-0" ng-class="{\'col-lg-12 \': raw.isLarg,\'col-lg-6   \': !raw.isLarg}"\n                                 ng-if="raw.text && raw.text!=\'\' && raw.title!=\'image_thumb\'" ng-repeat="raw in itemView">\n                                <label class=" ezz-form-label col-auto"\n                                >{{raw.title}}</label>\n\n                                <div class="col" >\n\n                                    <div class="form-control ezz-form-view"\n                                         style="display:inline-block"\n                                         ng-if="raw.type!=\'html\' && raw.type!=\'html\'" >\n                                        {{raw.text}}\n                                    </div>\n                                    <div class="bg-light-info text-center " ng-if="raw.type==\'image\' "\n                                         style="    display: inline-block;"><a class="btn default btn-outline cboxElement"\n                                                                               colorbox="{transition:\'elastic\'}"\n                                                                               href="{{raw.text}}">\n                                            \x3c!-- ngIf: invoice.image_thumb --\x3e\n                                            <img alt="Paris" class="imgthump ng-scope" ng-src="raw.text"\n                                            >\n\n                                        </a>\n                                    </div>\n                                    \n                                    <div class="   text-center " ng-bind-html="raw.text" ng-if="raw.type==\'html\'"></div>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n\n                    </div>\n                </div>\n            </div>\n        </div> '}}}).directive("myViewDialog",function(){return{restrict:"E",scope:{itemView:"=",changeView:"="},transclude:!0,template:function(e,t){return t.them&&t.them,'  <div class="row p-0 m-0" >\n            <div class="col-12 p-0">\n                                        <div class="form-horizontal row  m-1 p-0">\n                            <div class="row m-b-0 m-t-5 p-0 m-0 row col-lg-6 mb-1  p-r-0" ng-class="{\'col-lg-12 \': raw.isLarg,\'col-lg-6   \': !raw.isLarg}"\n                                 ng-if="raw.text && raw.text!=\'\' && raw.title!=\'image_thumb\'" ng-repeat="raw in itemView">\n                                <label class=" ezz-form-label col-auto"\n                                >{{raw.title}}</label>\n\n                                <div class="col pr-0" >\n\n                                    <div class="form-control ezz-form-view"\n                                         style="display:inline-block"\n                                         ng-if="raw.type!=\'html\' && raw.type!=\'html\'" >\n                                        {{raw.text}}\n                                    </div>\n                                    <div class="bg-light-info text-center " ng-if="raw.type==\'image\' "\n                                         style="    display: inline-block;"><a class="btn default btn-outline cboxElement"\n                                                                               colorbox="{transition:\'elastic\'}"\n                                                                               href="{{raw.text}}">\n                                            \x3c!-- ngIf: invoice.image_thumb --\x3e\n                                            <img alt="Paris" class="imgthump ng-scope" ng-src="raw.text"\n                                            >\n\n                                        </a>\n                                    </div>\n                                    \n                                    <div class="   text-center "\n                                     ng-bind-html="raw.text" ng-if="raw.type==\'html\'"></div>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n            </div>\n        </div> '}}}).directive("checkField",function(){return{restrict:"E",scope:{ngModel:"=",tValue:"@",fValue:"@",name:"@",them:"@"},transclude:!0,template:function(e,t){return t.them&&t.them,t.tValue||(t.tValue="1"),t.fValue||(t.fValue="0"),'\n             <div class="radio-list"  ng-show="ngModel ===tValue" style="display: inline-block;">\n             <label style="padding-right: 0px;" class="btn text-center btn-{{them||\'danger\'}}">\n             <input type="radio" style="opacity: 0;" name="{{name}}" value="{{fValue}}" \n             ng-model="ngModel"> <i style="font-size: 16px;padding-right: 0.75rem!important;" \n             class="fa  fa-check-square-o " ></i>  <span ng-transclude style="font-size: 16px;"></span>\n              </label> </div> \n              <div class="radio-list" ng-show="ngModel ==fValue || (ngModel !=tValue) || (!ngModel)" \n              style="display: inline-block;"><label style="padding-right: 0px;" \n               class="btn text-center btn-outline-{{them||\'danger\'}}"><input type="radio"\n                style="opacity: 0;" name="{{name}}" value="{{tValue}}"\n                 ng-model="ngModel"><i style="font-size: 16px;padding-right: 0.75rem!important;"\n                  class="fa  fa-square-o " ></i>\n                   <span ng-transclude style="font-size: 16px;"></span> </label></div>\n'}}}).directive("activeMenu",["$location",function(e){return{restrict:"A",link:function(t,n,l){var o=l.activeMenu||"active",i=n.find("li");try{$(".navbar-nav>li>a").on("click",function(){$(".navbar-collapse").collapse("hide")}),$(".navbar-nav .dropdown-item.ezz-dropdown").on("click",function(){$("#navbarsExampleDefault").collapse("hide")})}catch(e){}t.$on("$routeChangeStart",function(){var t=e.path();i.removeClass(o);for(var n=0,l=i.length;n<l;n++){var s=angular.element(i[n]);s.attr("active-url")==t&&s.addClass(o)}})}}}]).directive("activeDropdown",["$location",function(e){return{restrict:"A",link:function(t,n,l){var o=l.activeDropdown||"active",i=n.find("a");t.$on("$routeChangeStart",function(){var t=e.path();i.removeClass(o),n.removeClass("active-dd");for(var l=0,s=i.length;l<s;l++){var a=angular.element(i[l]);a.attr("active-url")==t&&(a.addClass(o),n.addClass("active-dd"))}})}}}]).directive("activeDropdown2",["$location",function(e){return{restrict:"A",link:function(t,n,l){var o=l.activeDropdown||"active",i=n.find("li");t.$on("$routeChangeStart",function(){var t=e.path();i.removeClass(o),n.removeClass("active-dd");for(var l=0,s=i.length;l<s;l++){var a=angular.element(i[l]);a.attr("active-url")==t&&(a.addClass(o),n.addClass("active-dd"))}})}}}]),angular.module("OraSchool").component("itemsFor",{bindings:{ngModel:"<",type:"<",items:"=?",color:"<?",viewPrice:"<?",noTotal:"<?"},controller:["$scope","$element","dataFactory","$timeout",function(e,t,n,l){var o=this;o.loadItems=function(){n.httpRequest("index.php/admin/itemsFor/"+o.type+"/"+o.ngModel).then(function(e){try{"success"==e.status&&(o.items=e.data,log(o.items))}catch(e){logCatch(e),o.items=null}})},o.$onInit=function(){o.ngModel&&o.loadItems()},e.$watch("$ctrl.ngModel",function(e){try{o.loadItems()}catch(e){logCatch(e)}})}],template:' \n      <items-view ng-show="$ctrl.items.length"   color="$ctrl.color" ng-model="$ctrl.items" no-total="$ctrl.noTotal"\n                                      view-price="$ctrl.viewPrice"></items-view>\n'}).component("backsFor",{bindings:{ngModel:"=",type:"<",viewMode:"<?",items:"=?",color:"<?"},controller:["$scope","$element","dataFactory","$timeout",function(e,t,n,l){var o=this;o.loadItems=function(){n.httpRequest("index.php/admin/itemsFor/"+o.type+"/"+o.ngModel).then(function(e){try{"success"==e.status&&(o.items=e.data,log(o.items))}catch(e){logCatch(e),o.items=null}})},o.$onInit=function(){o.ngModel&&o.loadItems()},e.$watch("$ctrl.ngModel",function(e){try{o.loadItems()}catch(e){logCatch(e)}})}],template:' \n\n       <back-list color="red"\n                                  ng-if="$ctrl.items.length"     multi="true"\n                                      ng-model="$ctrl.items" view-mode="$ctrl.viewMode"\n                                      view-price="0"></back-list>    \n'}).component("itemsView",{bindings:{ngModel:"<",color:"<?",viewPrice:"<?",hideBack:"<?",noTotal:"<?"},template:' \n    <div class=" px-1 res-px-0 table-responsive" >\n\n<table class="ezztable ezz-border-all table table-hover table-bordered bg-white my-1">\n    <thead>\n    <tr>\n        <th class="bg-light-info ">المنتج</th>\n\n        <th class="bg-light-info ">العدد</th>\n\n        <th ng-if="$ctrl.viewPrice" class="bg-light-info ">السعر</th>\n        <th  ng-if="$ctrl.viewPrice"  class="bg-light-info ">الاجمالي</th>\n        <th ng-hide="$ctrl.hideBack" ng-if="$ctrl.viewPrice" class="bg-light-info ">خروج فارغ/تالف</th>\n        <th  class="bg-light-info ">الاسطوانات الخصة بـ</th>\n\n\x3c!--        <th class="bg-light-info ">استلام عدد</th>--\x3e\n\n        <th class="bg-light-info "  ng-if="$ctrl.viewPrice"  style="width: 20%">ملاحظات</th>\n        <th class="bg-light-info "   ng-if="!$ctrl.viewPrice"  style="width: 35%">ملاحظات</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n\n    </tr>\n    <tr ng-repeat="obj in $ctrl.ngModel|getItems:$ctrl.viewPrice"  >\n        <td>{{$root.dashboardData.items[obj.itemId].name}}</td>\n        <td>{{obj.count|number}}</td>\n        <td  ng-if="$ctrl.viewPrice">{{obj.price|number}}</td>\n        <td  ng-if="$ctrl.viewPrice">{{obj|itemTotal|number}}</td>\n        <td  ng-hide="$ctrl.hideBack"  ng-if="$ctrl.viewPrice">{{obj.countBroken|number}}</td>\n        <td >\n                        <view-name ng-model="obj.itemsFor" options="\'itemsStores\'">\n                            </view-name></td>\n        <td>{{obj.note}}</td>\n    </tr>\n    <tr  ng-hide="$ctrl.noTotal">\n        <td   ng-if="$ctrl.viewPrice"  colspan="7">&nbsp;</td>\n        <td  ng-if="!$ctrl.viewPrice"   colspan="4">&nbsp;</td>\n    </tr>\n    <tr ng-hide="$ctrl.noTotal">\n        <td   colspan="1">الاجمالي</td>\n        <td class="bg-light-warning" colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListCount|number}}</td>\n        <td class="bg-light-info"  ng-hide="$ctrl.hideBack"   ng-if="$ctrl.viewPrice"  colspan="2">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|number}}</td>\n        <td class="bg-light-info"  ng-show="$ctrl.hideBack"  ng-if="$ctrl.viewPrice"  colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|number}}</td>\n        <td class="bg-light-danger"  ng-if="$ctrl.viewPrice"  colspan="3">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|arNumber}} ريال</td>\n         <td class="bg-light-danger"  ng-if="!$ctrl.viewPrice"  colspan="4">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListCount|arNumber}} اسطوانات</td>\n   </tr>\n    </tbody>\n</table>\n</div>\n'}).component("exportsItemsView",{bindings:{ngModel:"<",color:"<?",viewPrice:"<?",hideBack:"<?",viewBroken:"<?",noTotal:"<?"},template:' \n    <div class=" px-1 res-px-0 table-responsive" >\n\n<table class="ezztable ezz-border-all table table-hover table-bordered bg-white my-1">\n    <thead>\n    <tr>\n        <th class="bg-light-info ">المنتج</th>\n\n        <th  ng-if="$ctrl.viewPrice"  class="bg-light-info ">بيع عدد</th>\n\n        <th ng-if="$ctrl.viewPrice" class="bg-light-info ">السعر</th>\n        <th  ng-if="$ctrl.viewPrice"  class="bg-light-info ">الاجمالي</th>\n        <th ng-hide="$ctrl.hideBack" ng-if="$ctrl.viewBroken" class="bg-light-info ">خروج فارغ/تالف</th>\n        <th  class="bg-light-info ">الاسطوانات الخصة بـ</th>\n\n\x3c!--        <th class="bg-light-info ">استلام عدد</th>--\x3e\n\n        <th class="bg-light-info "  ng-if="$ctrl.viewPrice"  style="width: 20%">ملاحظات</th>\n        <th class="bg-light-info "   ng-if="!$ctrl.viewPrice"  style="width: 35%">ملاحظات</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n\n    </tr>\n    <tr ng-repeat="obj in $ctrl.ngModel|getItems:$ctrl.viewPrice"  >\n        <td>{{$root.dashboardData.items[obj.itemId].name}}</td>\n        <td  ng-if="$ctrl.viewPrice" >{{obj.count|number}}</td>\n        <td   ng-if="$ctrl.viewPrice">{{obj.price|number}}</td>\n        <td  ng-if="$ctrl.viewPrice">{{obj|itemTotal|number}}</td>\n        <td  ng-hide="$ctrl.hideBack"  ng-if="$ctrl.viewBroken">{{obj.countBroken|number}}</td>\n        <td >\n                        <view-name ng-model="obj.itemsFor" options="\'itemsStores\'">\n                            </view-name></td>\n        <td>{{obj.note}}</td>\n    </tr>\n    <tr  ng-hide="$ctrl.noTotal">\n        <td   ng-if="$ctrl.viewPrice"  colspan="7">&nbsp;</td>\n        <td  ng-if="!$ctrl.viewPrice"   colspan="4">&nbsp;</td>\n    </tr>\n    <tr ng-hide="$ctrl.noTotal">\n        <td   colspan="1">الاجمالي</td>\n        <td class="bg-light-warning" colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListCount|number}}</td>\n        <td class="bg-light-info"  ng-hide="$ctrl.hideBack"   ng-if="$ctrl.viewPrice"  colspan="2">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|number}}</td>\n        <td class="bg-light-info"  ng-show="$ctrl.hideBack"  ng-if="$ctrl.viewPrice"  colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|number}}</td>\n        <td class="bg-light-danger"  ng-if="$ctrl.viewPrice"  colspan="3">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|arNumber}} ريال</td>\n         <td class="bg-light-danger"  ng-if="!$ctrl.viewPrice"  colspan="4">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListCount|arNumber}} اسطوانات</td>\n   </tr>\n    </tbody>\n</table>\n</div>\n'}).component("itemsViewPay",{bindings:{ngModel:"<",color:"<?",viewPrice:"<?",hideBack:"<?",noTotal:"<?"},template:' \n    <div class=" px-1 res-px-0 table-responsive" >\n\n<table class="ezztable ezz-border-all table table-hover table-bordered bg-white my-1">\n    <thead>\n    <tr>\n        <th class="bg-light-info ">المنتج</th>\n\n        <th class="bg-light-info ">شراء عدد</th>\n\n        <th ng-if="$ctrl.viewPrice" class="bg-light-info ">السعر</th>\n        <th  ng-if="$ctrl.viewPrice"  class="bg-light-info ">الاجمالي</th>\n\x3c!--        <th ng-hide="$ctrl.hideBack" ng-if="$ctrl.viewPrice" class="bg-light-info ">خروج فارغ/تالف</th>--\x3e\n\x3c!--        <th  class="bg-light-info ">الاسطوانات الخصة بـ</th>--\x3e\n\n\x3c!--        <th class="bg-light-info ">استلام عدد</th>--\x3e\n\n        <th class="bg-light-info "  ng-if="$ctrl.viewPrice"  style="width: 20%">ملاحظات</th>\n        <th class="bg-light-info "   ng-if="!$ctrl.viewPrice"  style="width: 35%">ملاحظات</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n\n    </tr>\n    <tr ng-repeat="obj in $ctrl.ngModel|getItems:$ctrl.viewPrice"  >\n        <td>{{$root.dashboardData.items[obj.itemId].name}}</td>\n        <td>{{obj.count|number}}</td>\n        <td  ng-if="$ctrl.viewPrice">{{obj.price|number}}</td>\n        <td  ng-if="$ctrl.viewPrice">{{obj|itemTotal|number}}</td>\n\x3c!--        <td  ng-hide="$ctrl.hideBack"  ng-if="$ctrl.viewPrice">{{obj.countBroken|number}}</td>--\x3e\n\x3c!--        <td >--\x3e\n\x3c!--                        <view-name ng-model="obj.itemsFor" options="\'itemsStores\'">--\x3e\n\x3c!--                            </view-name></td>--\x3e\n        <td>{{obj.note}}</td>\n    </tr>\n    <tr  ng-hide="$ctrl.noTotal">\n        <td   ng-if="$ctrl.viewPrice"  colspan="7">&nbsp;</td>\n        <td  ng-if="!$ctrl.viewPrice"   colspan="4">&nbsp;</td>\n    </tr>\n    <tr ng-hide="$ctrl.noTotal">\n        <td   colspan="1">الاجمالي</td>\n        <td class="bg-light-warning" colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListCount|number}}</td>\n        <td class="bg-light-info"  ng-hide="$ctrl.hideBack"   ng-if="$ctrl.viewPrice"  colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|number}}</td>\n        <td class="bg-light-info"  ng-show="$ctrl.hideBack"  ng-if="$ctrl.viewPrice"  colspan="1">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|number}}</td>\n        <td class="bg-light-danger"  ng-if="$ctrl.viewPrice"  colspan="3">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListTotal|arNumber}} ريال</td>\n         <td class="bg-light-danger"  ng-if="!$ctrl.viewPrice"  colspan="4">{{$ctrl.ngModel|getItems:$ctrl.viewPrice|itemListCount|arNumber}} اسطوانة</td>\n   </tr>\n    </tbody>\n</table>\n</div>\n'}).component("rowList",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){o.ngModel||(o.ngModel=[{}]),is_undefined(o.auto)&&(o.auto=!0),o.autoAdd=o.auto,is_undefined(o.canAdd)&&(o.canAdd=!0);try{t.attr("nexts","3")}catch(e){}},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){o.ngModel.push({})},o.copyRaw=function(e,t){o.autoAdd=!1;try{if(!is_undefined(t)){const n=CopyObject(t);try{delete n.$$hashKey}catch(e){}try{delete n.id}catch(e){}o.ngModel.splice(e+1,0,n)}}catch(e){o.auto&&(o.autoAdd=!0)}l(function(){o.auto&&(o.autoAdd=!0)})},o.isDisabled=function(e,t){try{return!e.itemId}catch(e){return!1}},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.removeRaw=function(e){try{if(o.isRowEdited(o.ngModel[e])){if(1==confirm(" هل تريد حذف المنتج من الجدول ؟"))return void o.ngModel.splice(e,1)}else o.ngModel.splice(e,1)}catch(t){logCatch(t),o.ngModel.splice(e,1)}},o.isValid=function(e){return!isNull(e)||"0"==e},o.change=function(e,t){var n=!1;if(1==o.autoAdd)try{(1==o.ngModel.length||o.ngModel.length>1&&t==o.ngModel.length-1)&&is_object(e)&&(angular.forEach(e,function(e,t){try{null!=e&&"$$hashKey"!==t&&(n||(n=e.length>0||e>0))}catch(e){}}),n&&o.addRaw(t))}catch(e){}}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",backPrice:"<?",canAdd:"<?",viewMode:"<?",color:"<?",auto:"<?",multi:"<?"},template:'\n\n <items-view ng-model="$ctrl.ngModel" ng-if="$ctrl.viewMode" view-price="$ctrl.viewPrice || $ctrl.backPrice" hide-back="$ctrl.backPrice"></items-view>\n<div class="px-1" ng-hide="$ctrl.viewMode">\n<table  class=" responsive noTitle rowSpace bg-white">\n\n    <thead>\n    <tr>\n\n\n        <td data-title="المنتج" ng-if="!$ctrl.viewPrice" style="width:30%">\n         \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td data-title="المنتج" ng-if="$ctrl.viewPrice" style="width:25%">\n   \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td>\n      \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">العدد</div>\n\n        </td>\n        <td data-title="سعر الوحدة" ng-if="$ctrl.viewPrice  || $ctrl.backPrice">\n\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n        </td>\n        <td data-title="عدد مرتجع" ng-if="$ctrl.viewPrice" style="width:10%">\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">خروج فارغ/تالف</div>\n\n        </td>\n        <td data-title="اسطوانات"  style="width:20%">\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">الاسطوانات الخاصة بـ</div>\n\n        </td>\n\n        <td  data-title="ملاحظات"  ng-if="$ctrl.viewPrice" style="width:20%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n        <td data-title="ملاحظات" ng-if="!$ctrl.viewPrice" style="width:25%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n\n        <td ng-if="$ctrl.canCopy" class="resp-hide">\n            <a class="  btn  btn-light " style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n\n            <a class="  btn btn-danger "\n               style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n\n\n        </td>\n\n\n    </tr>\n\n    </thead>\n    <tbody>\n    <tr class="row-add" ng-repeat="item in $ctrl.ngModel"\n    >\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}"\n            ng-if="$ctrl.viewPrice">\n          <select-item-edit\n                    class="col px-0"\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                    is-required="false"\n                    rows="$ctrl.ngModel"\n                    multi="$ctrl.multi"\n                    title="المنتج"></select-item-edit>\n        </td>\n\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}" ng-if="!$ctrl.viewPrice"\n        >\n             <select-item-edit\n                    class="col px-0  "\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                     multi="$ctrl.multi"\n                    rows="$ctrl.ngModel"\n                    title="المنتج"></select-item-edit>\n        </td>\n        <td data-title="العدد" ng-class="{\'has-danger\': !$ctrl.isValid(item.count) && item.itemId,\'row-disabled\':   !item.itemId}">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">العدد</label>\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner" dir="ltr" name="count"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                   ng-required="item.itemId"\n                   ng-model="item.count" placeholder="اكتب العدد" type="text"/>\n\n              </div>\n     </td>\n        <td data-title="سعر الوحدة" ng-class="{\'has-danger\': !$ctrl.isValid(item.price) && item.itemId,\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice || $ctrl.backPrice">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">سعر الوحدة</label>\n            <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="price" ng-change="$ctrl.change(item,$index)"\n                   ng-disabled="!item.itemId" ng-integer\n                                 ng-required="item.itemId"\n     ng-model="item.price" placeholder="اكتب سعر الوحدة"  type="text"/>\n\n                 </div>\n  </td>\n\n        <td data-title="عدد مرتجع" ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n         <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">خروج فارغ</label>    \n           <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner"\n                   name="countBroken" ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                   ng-model="item.countBroken" dir="ltr"\n                   placeholder="خروج فارغ" type="text"/>\n\n                  </div>\n             \n </td>\n        <td data-title="الاسطوانات الخاصة بـ" ng-class="{\'row-disabled\':   !item.itemId}" >\n         <select-item-edit\n                    class="col px-0  "\n                    name="itemsFor"\n                    ng-model="item.itemsFor"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'itemsStores\'"\n                    ng-disabled="!item.itemId"\n                    is-required="(item.itemId)"\n                     multi="true"\n                    rows="$ctrl.ngModel"\n                    title="الاسطوانات الخاصة بـ"></select-item-edit>\n </td>\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="!$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  text-center " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n                  </div>\n </td>\n\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n\n                  </div>\n </td>\n\n\n        <td data-title=" " ng-if="$ctrl.canCopy"  class="resp-hide">\n            <a class="  btn  btn-light " ng-click="$ctrl.copyRaw($index,item)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n <a ng-if="!$ctrl.canAdd"   ng-show="($index==$ctrl.ngModel.length-1)" \n                class="  btn btn-light disabled"\n                    style="padding: 4px 6px;font-size: 18px;"\n                    type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n            <a  class="  btn btn-light disabled"\n                ng-show="($index<$ctrl.ngModel.length-1)&& item.id" style="padding: 4px 6px;font-size: 18px;"\n                type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a class="  btn btn-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a ng-if="$ctrl.canAdd"  class="  btn btn-info "\n                   ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n                   style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n\n        </td>\n        <td data-title=" " ng-show="($index==$ctrl.ngModel.length-1)" class="hidden-md-up resp-show">\n\n         <div class="row px-0 mx-0"> \n      \n  <div class="col btn btn-outline-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i> حذف المنتج\n            </div>\n            <div ng-if="$ctrl.canAdd" class="col btn btn-outline-info "\n               ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i> اضافة منتج\n            </div>\n\n\n          </div>\n         \n        </td>\n    </tr>\n    </tbody>\n</table>\n\n</div>\n\n\n '}).component("exportList",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){o.ngModel||(o.ngModel=[{}]),is_undefined(o.auto)&&(o.auto=!0),o.autoAdd=o.auto,is_undefined(o.canAdd)&&(o.canAdd=!0);try{t.attr("nexts","3")}catch(e){}},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){o.ngModel.push({})},o.copyRaw=function(e,t){o.autoAdd=!1;try{if(!is_undefined(t)){const n=CopyObject(t);try{delete n.$$hashKey}catch(e){}try{delete n.id}catch(e){}o.ngModel.splice(e+1,0,n)}}catch(e){o.auto&&(o.autoAdd=!0)}l(function(){o.auto&&(o.autoAdd=!0)})},o.isDisabled=function(e,t){try{return!e.itemId}catch(e){return!1}},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.removeRaw=function(e){try{if(o.isRowEdited(o.ngModel[e])){if(1==confirm(" هل تريد حذف المنتج من الجدول ؟"))return void o.ngModel.splice(e,1)}else o.ngModel.splice(e,1)}catch(t){logCatch(t),o.ngModel.splice(e,1)}},o.isValid=function(e){return!isNull(e)||"0"==e},o.change=function(e,t){var n=!1;if(1==o.autoAdd)try{(1==o.ngModel.length||o.ngModel.length>1&&t==o.ngModel.length-1)&&is_object(e)&&(angular.forEach(e,function(e,t){try{null!=e&&"$$hashKey"!==t&&(n||(n=e.length>0||e>0))}catch(e){}}),n&&o.addRaw(t))}catch(e){}}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",viewBroken:"<?",backPrice:"<?",canAdd:"<?",viewMode:"<?",color:"<?",auto:"<?",multi:"<?"},template:'\n\n <exports-items-view ng-model="$ctrl.ngModel" ng-if="$ctrl.viewMode" view-broken="$ctrl.viewBroken" view-price="$ctrl.viewPrice || $ctrl.backPrice" hide-back="$ctrl.backPrice"></exports-items-view>\n<div class="px-1" ng-hide="$ctrl.viewMode">\n<table  class=" responsive noTitle rowSpace bg-white">\n\n    <thead>\n    <tr>\n\n\n        <td data-title="المنتج" ng-if="!$ctrl.viewPrice" style="width:30%">\n         \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td data-title="المنتج" ng-if="$ctrl.viewPrice" style="width:25%">\n   \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n  <td data-title="عدد " ng-if="$ctrl.viewPrice" >\n      \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">بيع عدد </div>\n\n        </td>\n        <td data-title="سعر الوحدة" ng-if="$ctrl.viewPrice  || $ctrl.backPrice">\n\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n        </td>\n        <td data-title="عدد مرتجع" ng-if="$ctrl.viewBroken" style="width:10%">\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">خروج فارغ/تالف</div>\n\n        </td>\n        <td data-title="اسطوانات"  style="width:20%">\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">الاسطوانات الخاصة بـ</div>\n\n        </td>\n\n        <td  data-title="ملاحظات"  ng-if="$ctrl.viewPrice" style="width:20%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n        <td data-title="ملاحظات" ng-if="!$ctrl.viewPrice" style="width:25%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n\n        <td ng-if="$ctrl.canCopy" class="resp-hide">\n            <a class="  btn  btn-light " style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n\n            <a class="  btn btn-danger "\n               style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n\n\n        </td>\n\n\n    </tr>\n\n    </thead>\n    <tbody>\n    <tr class="row-add" ng-repeat="item in $ctrl.ngModel"\n    >\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}"\n            ng-if="$ctrl.viewPrice">\n          <select-item-edit\n                    class="col px-0"\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                    is-required="false"\n                    rows="$ctrl.ngModel"\n                    multi="$ctrl.multi"\n                    title="المنتج"></select-item-edit>\n        </td>\n\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}" ng-if="!$ctrl.viewPrice"\n        >\n             <select-item-edit\n                    class="col px-0  "\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                     multi="$ctrl.multi"\n                    rows="$ctrl.ngModel"\n                    title="المنتج"></select-item-edit>\n        </td>\n          <td ng-if="$ctrl.viewPrice" data-title="بيع عدد" ng-class="{\'has-danger\': !$ctrl.isValid(item.count) && item.itemId,\'row-disabled\':   !item.itemId}">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">بيع عدد</label>\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner" dir="ltr" name="count"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                   ng-required="item.itemId"\n                   ng-model="item.count" placeholder="اكتب عدد المباع" type="text"/>\n\n              </div>\n     </td>\n        <td data-title="سعر الوحدة" ng-class="{\'has-danger\': !$ctrl.isValid(item.price) && item.itemId,\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice || $ctrl.backPrice">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">سعر الوحدة</label>\n            <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="price" ng-change="$ctrl.change(item,$index)"\n                   ng-disabled="!item.itemId" ng-integer\n                                 ng-required="item.itemId"\n     ng-model="item.price" placeholder="اكتب سعر الوحدة"  type="text"/>\n\n                 </div>\n  </td>\n\n        <td data-title="عدد مرتجع" ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewBroken">\n         <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">خروج فارغ</label>    \n           <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner"\n                   name="countBroken" ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                   ng-model="item.countBroken" dir="ltr"\n                   placeholder="خروج فارغ" type="text"/>\n\n                  </div>\n             \n </td>\n        <td data-title="الاسطوانات الخاصة بـ" ng-class="{\'row-disabled\':   !item.itemId}" >\n         <select-item-edit\n                    class="col px-0  "\n                    name="itemsFor"\n                    ng-model="item.itemsFor"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'itemsStores\'"\n                    ng-disabled="!item.itemId"\n                    is-required="(item.itemId)"\n                     multi="true"\n                    rows="$ctrl.ngModel"\n                    title="الاسطوانات الخاصة بـ"></select-item-edit>\n </td>\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="!$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  text-center " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n                  </div>\n </td>\n\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n\n                  </div>\n </td>\n\n\n        <td data-title=" " ng-if="$ctrl.canCopy"  class="resp-hide">\n            <a class="  btn  btn-light " ng-click="$ctrl.copyRaw($index,item)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n <a ng-if="!$ctrl.canAdd"   ng-show="($index==$ctrl.ngModel.length-1)" \n                class="  btn btn-light disabled"\n                    style="padding: 4px 6px;font-size: 18px;"\n                    type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n            <a  class="  btn btn-light disabled"\n                ng-show="($index<$ctrl.ngModel.length-1)&& item.id" style="padding: 4px 6px;font-size: 18px;"\n                type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a class="  btn btn-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a ng-if="$ctrl.canAdd"  class="  btn btn-info "\n                   ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n                   style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n\n        </td>\n        <td data-title=" " ng-show="($index==$ctrl.ngModel.length-1)" class="hidden-md-up resp-show">\n\n         <div class="row px-0 mx-0"> \n      \n  <div class="col btn btn-outline-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i> حذف المنتج\n            </div>\n            <div ng-if="$ctrl.canAdd" class="col btn btn-outline-info "\n               ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i> اضافة منتج\n            </div>\n\n\n          </div>\n         \n        </td>\n    </tr>\n    </tbody>\n</table>\n\n</div>\n\n\n '}).component("rowListPay",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){o.ngModel||(o.ngModel=[{}]),is_undefined(o.auto)&&(o.auto=!0),o.autoAdd=o.auto;try{t.attr("nexts","3")}catch(e){}is_undefined(o.canAdd)&&(o.canAdd=!0)},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){o.ngModel.push({})},o.copyRaw=function(e,t){o.autoAdd=!1;try{if(!is_undefined(t)){const n=CopyObject(t);try{delete n.$$hashKey}catch(e){}try{delete n.id}catch(e){}o.ngModel.splice(e+1,0,n)}}catch(e){o.auto&&(o.autoAdd=!0)}l(function(){o.auto&&(o.autoAdd=!0)})},o.isDisabled=function(e,t){try{return!e.itemId}catch(e){return!1}},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.removeRaw=function(e){try{if(o.isRowEdited(o.ngModel[e])){if(1==confirm(" هل تريد حذف المنتج من الجدول ؟"))return void o.ngModel.splice(e,1)}else o.ngModel.splice(e,1)}catch(t){logCatch(t),o.ngModel.splice(e,1)}},o.isValid=function(e){return!isNull(e)||"0"==e},o.change=function(e,t){var n=!1;if(1==o.autoAdd)try{(1==o.ngModel.length||o.ngModel.length>1&&t==o.ngModel.length-1)&&is_object(e)&&(angular.forEach(e,function(e,t){try{null!=e&&"$$hashKey"!==t&&(n||(n=e.length>0||e>0))}catch(e){}}),n&&o.addRaw(t))}catch(e){}}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",backPrice:"<?",canAdd:"<?",viewMode:"<?",color:"<?",auto:"<?",multi:"<?"},template:'\n\n <items-view-pay ng-model="$ctrl.ngModel" ng-if="$ctrl.viewMode" view-price="$ctrl.viewPrice || $ctrl.backPrice" hide-back="$ctrl.backPrice"></items-view-pay>\n<div class="px-1" ng-hide="$ctrl.viewMode">\n<table  class=" responsive noTitle rowSpace bg-white">\n\n    <thead>\n    <tr>\n\n\n        <td data-title="المنتج" ng-if="!$ctrl.viewPrice" style="width:30%">\n         \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td data-title="المنتج" ng-if="$ctrl.viewPrice" style="width:25%">\n   \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td>\n      \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">شراء عدد</div>\n\n        </td>\n        <td data-title="سعر الوحدة" ng-if="$ctrl.viewPrice  || $ctrl.backPrice">\n\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n        </td>\n        <td data-title="خروج فارغ" ng-if="$ctrl.viewPrice" style="width:10%">\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">خروج فارغ</div>\n\n        </td>\n\x3c!--        <td data-title="اسطوانات"  style="width:20%">--\x3e\n\n\x3c!--<div class="ezz-form-title form-control  " --\x3e\n\x3c!--      ng-class="$ctrl.color" style="display: flow-root;">الاسطوانات الخاصة بـ</div>--\x3e\n\n\x3c!--        </td>--\x3e\n\n        <td  data-title="ملاحظات"  ng-if="$ctrl.viewPrice" style="width:20%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n        <td data-title="ملاحظات" ng-if="!$ctrl.viewPrice" style="width:25%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n\n        <td ng-if="$ctrl.canCopy" class="resp-hide">\n            <a class="  btn  btn-light " style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n\n            <a class="  btn btn-danger "\n               style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n\n\n        </td>\n\n\n    </tr>\n\n    </thead>\n    <tbody>\n    <tr class="row-add" ng-repeat="item in $ctrl.ngModel"\n    >\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}"\n            ng-if="$ctrl.viewPrice">\n          <select-item-edit\n                    class="col px-0"\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                    is-required="false"\n                    rows="$ctrl.ngModel"\n                    multi="$ctrl.multi"\n                    title="المنتج"></select-item-edit>\n        </td>\n\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}" ng-if="!$ctrl.viewPrice"\n        >\n             <select-item-edit\n                    class="col px-0  "\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                     multi="$ctrl.multi"\n                    rows="$ctrl.ngModel"\n                    title="المنتج"></select-item-edit>\n        </td>\n        <td data-title="شراء عدد" ng-class="{\'has-danger\': !$ctrl.isValid(item.count) && item.itemId,\'row-disabled\':   !item.itemId}">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">شراء عدد</label>\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner" dir="ltr" name="count"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                   ng-required="item.itemId"\n                   ng-model="item.count" placeholder="شراء عدد" type="text"/>\n\n              </div>\n     </td>\n        <td data-title="سعر الوحدة" ng-class="{\'has-danger\': !$ctrl.isValid(item.price) && item.itemId,\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice || $ctrl.backPrice">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">سعر الوحدة</label>\n            <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="price" ng-change="$ctrl.change(item,$index)"\n                   ng-disabled="!item.itemId" ng-integer\n                                 ng-required="item.itemId"\n     ng-model="item.price" placeholder="اكتب سعر الوحدة"  type="text"/>\n\n                 </div>\n  </td>\n\n        <td data-title="خروج فارغ" ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n         <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">خروج فارغ</label>    \n           <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner"\n                   name="countBroken" ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                   ng-model="item.countBroken" dir="ltr"\n                   placeholder="خروج فارغ" type="text"/>\n\n                  </div>\n             \n </td>\n\x3c!--        <td data-title="الاسطوانات الخاصة بـ" ng-class="{\'row-disabled\':   !item.itemId}" >--\x3e\n\x3c!--         <select-item-edit--\x3e\n\x3c!--                    class="col px-0  "--\x3e\n\x3c!--                    name="itemsFor"--\x3e\n\x3c!--                    ng-model="item.itemsFor"--\x3e\n\x3c!--                    on-change="$ctrl.change(item,$index)"--\x3e\n\x3c!--                    options="\'itemsStores\'"--\x3e\n\x3c!--                    ng-disabled="!item.itemId"--\x3e\n\x3c!--                    is-required="(item.itemId && (item.count>0||item.countBroken>0))"--\x3e\n\x3c!--                     multi="true"--\x3e\n\x3c!--                    rows="$ctrl.ngModel"--\x3e\n\x3c!--                    title="الاسطوانات الخاصة بـ"></select-item-edit>--\x3e\n\x3c!-- </td>--\x3e\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="!$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  text-center " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n                  </div>\n </td>\n\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n\n                  </div>\n </td>\n\n\n        <td data-title=" " ng-if="$ctrl.canCopy"  class="resp-hide">\n            <a class="  btn  btn-light " ng-click="$ctrl.copyRaw($index,item)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n             <td data-title=" "  class="resp-hide">\n\n <a ng-if="!$ctrl.canAdd"   ng-show="($index==$ctrl.ngModel.length-1)" \n                class="  btn btn-light disabled"\n                    style="padding: 4px 6px;font-size: 18px;"\n                    type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n            <a  class="  btn btn-light disabled"\n                ng-show="($index<$ctrl.ngModel.length-1)&& item.id" style="padding: 4px 6px;font-size: 18px;"\n                type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a class="  btn btn-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a ng-if="$ctrl.canAdd"  class="  btn btn-info "\n                   ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n                   style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n\n        </td>\n        <td data-title=" " ng-show="($index==$ctrl.ngModel.length-1)" class="hidden-md-up resp-show">\n\n         <div class="row px-0 mx-0"> \n      \n   <div class="col btn btn-outline-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i> حذف المنتج\n            </div>\n            <div class="col btn btn-outline-info "\n               ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i> اضافة منتج\n            </div>\n\n\n          </div>\n         \n        </td>\n    </tr>\n    </tbody>\n</table>\n\n</div>\n\n\n '}).component("backList",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){try{t.attr("nexts","3")}catch(e){}},o.isDisabled=function(e,t){try{return!e.itemId}catch(e){return!1}},o.isValid=function(e){return!isNull(e)||"0"==e},o.change=function(e,t){var n=!1;if(1==o.autoAdd)try{(1==o.ngModel.length||o.ngModel.length>1&&t==o.ngModel.length-1)&&is_object(e)&&angular.forEach(e,function(e,t){try{null!=e&&"$$hashKey"!==t&&(n||(n=e.length>0||e>0))}catch(e){}})}catch(e){}}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",backPrice:"<?",viewMode:"<?",color:"<?",auto:"<?",multi:"<?"},template:'\n\n<div class="px-1" >\n<table  class=" responsive noTitle rowSpace bg-white">\n\n    <thead>\n    <tr>\n\n\n\n        <td data-title="المنتج"  style="width:20%">\n   \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td>\n      \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">العدد</div>\n\n        </td>\n        <td data-title="سعر الوحدة">\n\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n        </td>\n        <td data-title="عدد مرتجع"  style="width:10%">\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">مرتجع مليان</div>\n\n        </td>\n       \n <td  style="width:20%">\n\n<div class="ezz-form-title form-control hidden-sm-down " \n      ng-class="$ctrl.color" style="display: flow-root;">الاسطوانات الخاصة بـ</div>\n<div class="ezz-form-title form-control hidden-md-up " \n      ng-class="$ctrl.color" style="display: flow-root;"> الخاصة بـ</div>\n\n        </td>\n        <td  data-title="ملاحظات" style="width:20%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n\n\n\n    </tr>\n\n    </thead>\n    <tbody>\n    <tr class="row-add" ng-repeat="item in $ctrl.ngModel"\n    >\n       <td data-title="المنتج" >\n          <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n       {{$root.dashboardData.items[item.itemId].name}}\n       </div>\n       </td>\n        <td data-title="العدد">\n           <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n        {{item.count|number}}\n        </div>\n        </td>\n        <td  data-title="سعر الوحدة" >\n          <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n             {{item.price|number}}\n\n</div>\n         \n        \n        </td>\n\n\n\n        <td data-title="عدد مرتجع" ng-class="{\'row-disabled\':   !item.itemId}">\n             <div ng-if="item.countBack" class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n             {{item.countBack|number}}\n\n</div>\n         <div ng-if="!item.countBack" class="row px-0 mx-0"> \n         \n           <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner"\n                   name="addBack" ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId || $ctrl.viewMode" ng-integer\n                   ng-model="item.addBack" dir="ltr" ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}"\n                   placeholder="عدد مرتجع" type="text"/>\n\n                  </div>\n             \n </td>\n        <td data-title="الاسطوانات الخاصة بـ" >\n        \n     <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n     \n     \n                        <view-name ng-model="item.itemsFor" options="\'itemsStores\'">\n                            </view-name>\n</div>\n           \n\n </td>\n\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}">\n          <div ng-if="item.countBack" class="ezz-form-title form-control bg-grey-300"  style="display: flow-root;">\n             {{item.note}}\n             {{item.backNote}}\n\n</div>\n          <div class="row px-0 mx-0" ng-if="!item.countBack"> \n          \n              <input class="col  form-control  " name="backNote"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId || $ctrl.viewMode" ng-model="item.backNote"\n              ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}"     placeholder="ملاحظات" type="text"/>\n\n\n                  </div>\n </td>\n\n\n    </tr>\n    </tbody>\n</table>\n\n</div>\n\n\n '}).component("rowListInvoice",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){o.ngModel||(o.ngModel=[{}]),is_undefined(o.auto)&&(o.auto=!0),o.autoAdd=o.auto;try{t.attr("nexts","3")}catch(e){}},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){o.ngModel.push({price:o.defPrice||null})},o.copyRaw=function(e,t){o.autoAdd=!1;try{if(!is_undefined(t)){var n=CopyObject(t);try{delete n.$$hashKey}catch(e){}try{delete n.id}catch(e){}o.ngModel.splice(e+1,0,n)}}catch(e){o.auto&&(o.autoAdd=!0)}l(function(){o.auto&&(o.autoAdd=!0)})},o.isDisabled=function(e,t){try{return!e.itemId}catch(e){return!1}},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.removeRaw=function(e){try{if(o.isRowEdited(o.ngModel[e])){if(1==confirm(" هل تريد حذف المنتج من الجدول ؟"))return void o.ngModel.splice(e,1)}else o.ngModel.splice(e,1)}catch(t){logCatch(t),o.ngModel.splice(e,1)}},o.isValid=function(e){return!isNull(e)||"0"==e},o.change=function(e,t){var n=!1;if(1==o.autoAdd)try{(1==o.ngModel.length||o.ngModel.length>1&&t==o.ngModel.length-1)&&is_object(e)&&(angular.forEach(e,function(e,t){try{null!=e&&"$$hashKey"!==t&&(n||(n=e.length>0||e>0))}catch(e){}}),n&&o.addRaw(t))}catch(e){}}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",defPrice:"<?",viewMode:"<?",color:"<?",auto:"<?",multi:"<?"},template:'\n\n <items-view hide-back="true" ng-model="$ctrl.ngModel" ng-if="$ctrl.viewMode" view-price="$ctrl.viewPrice"></items-view>\n<div class="px-1" ng-hide="$ctrl.viewMode">\n<table  class=" responsive noTitle rowSpace bg-white">\n\n    <thead>\n    <tr>\n\n\n        <td data-title="المنتج" ng-if="!$ctrl.viewPrice" style="width:35%">\n         \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td data-title="المنتج" ng-if="$ctrl.viewPrice" style="width:30%">\n   \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n        </td>\n        <td>\n      \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">العدد</div>\n\n        </td>\n        <td data-title="سعر الوحدة" ng-if="$ctrl.viewPrice">\n\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n        </td>\n       \n\n        <td  data-title="ملاحظات"  ng-if="$ctrl.viewPrice" style="width:25%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n        <td data-title="ملاحظات" ng-if="!$ctrl.viewPrice" style="width:40%">\n       \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n        </td>\n\n        <td ng-if="$ctrl.canCopy" class="resp-hide">\n            <a class="  btn  btn-light " style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n\n            <a class="  btn btn-danger "\n               style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n\n\n        </td>\n\n\n    </tr>\n\n    </thead>\n    <tbody>\n    <tr class="row-add" ng-repeat="item in $ctrl.ngModel"\n    >\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}"\n            ng-if="$ctrl.viewPrice">\n          <select-item-edit\n                    class="col px-0"\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                    rows="$ctrl.ngModel"\n                    multi="$ctrl.multi"\n                    title="المنتج"></select-item-edit>\n        </td>\n\n\n        <td data-title="المنتج"  ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}" ng-if="!$ctrl.viewPrice"\n        >\n             <select-item-edit\n                    class="col px-0  "\n                    name="itemId"\n                    ng-model="item.itemId"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'items_static\'"\n                     multi="$ctrl.multi"\n                    rows="$ctrl.ngModel"\n                    title="المنتج"></select-item-edit>\n        </td>\n        <td data-title="العدد" ng-class="{\'has-danger\': !$ctrl.isValid(item.count) && item.itemId,\'row-disabled\':   !item.itemId}">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">العدد</label>\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner" dir="ltr" name="count"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-integer\n                     onclick="this.select()"     ng-required="item.itemId"\n                   ng-model="item.count" placeholder="اكتب العدد" type="text"/>\n\n              </div>\n     </td>\n        <td data-title="سعر الوحدة" ng-class="{\'has-danger\': !$ctrl.isValid(item.price) && item.itemId,\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">سعر الوحدة</label>\n            <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="price" ng-change="$ctrl.change(item,$index)"\n                   ng-disabled="!item.itemId" ng-integer\n                        onclick="this.select()"         ng-required="item.itemId"\n     ng-model="item.price" placeholder="اكتب سعر الوحدة"  type="text"/>\n\n                 </div>\n  </td>\n\n      \n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="!$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  text-center " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n                  </div>\n </td>\n\n        <td data-title="ملاحظات"  ng-class="{\'row-disabled\':   !item.itemId}" ng-if="$ctrl.viewPrice">\n          <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n              <input class="col  form-control  " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n\n                  </div>\n </td>\n\n\n        <td data-title=" " ng-if="$ctrl.canCopy"  class="resp-hide">\n            <a class="  btn  btn-light " ng-click="$ctrl.copyRaw($index,item)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-copy"></i>\n            </a>\n        </td>\n        <td data-title=" "  class="resp-hide">\n\n\n            <a  class="  btn btn-light disabled"\n                ng-show="($index<$ctrl.ngModel.length-1)&& item.id" style="padding: 4px 6px;font-size: 18px;"\n                type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a class="  btn btn-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n            <a class="  btn btn-info "\n               ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i>\n            </a>\n\n        </td>\n        <td data-title=" " ng-show="($index==$ctrl.ngModel.length-1)" class="hidden-md-up resp-show">\n\n         <div class="row px-0 mx-0"> \n      \n   <div class="col btn btn-outline-danger "\n               ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i> حذف المنتج\n            </div>\n            <div class="col btn btn-outline-info "\n               ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i> اضافة منتج\n            </div>\n\n\n          </div>\n         \n        </td>\n    </tr>\n    </tbody>\n</table>\n\n</div>\n\n\n '}),angular.module("OraSchool").component("itemsListView",{controller:[function(){this.$onInit=function(){}}],bindings:{viewPrice:"<?",color:"<?",items:"<?"},template:'\n<div class="table-responsive">\n\n<table class="ezztable ezz-border-all table table-hover table-bordered"" wt-responsive-table>\n    <thead>\n    <tr>\n        <th class="bg-light-info ">المنتج</th>\n\n        <th class="bg-light-info ">الكمية</th>\n\n        <th class="bg-light-info ">السعر</th>\n\n        <th class="bg-light-info ">الاجمالي</th>\n\n           <th class="bg-light-info " style="width: 30%">كتابه</th>\n\n        <th class="bg-light-info " style="width: 20%">ملاحظات</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n\n    </tr>\n    <tr ng-repeat="obj in $ctrl.items|getItems:true:true"  ng-if="obj.itemId && obj.count && obj.price">\n        <td>{{$root.dashboardData.items[obj.itemId].name}}</td>\n        <td>{{obj.count|number}}</td>\n        <td>{{obj.price|number}}</td>\n        <td>{{obj|itemTotal|number}}</td>\n        <td><small>{{obj|itemTotal|arNumber}}</small></td>\n        <td>{{obj.note}}</td>\n    </tr>\n    <tr >\n        <td   colspan="6">&nbsp;</td>\n    </tr>\n    <tr >\n        <td   colspan="1">الاجمالي</td>\n        <td class="bg-light-warning" colspan="1">{{$ctrl.items|getItems:true:true|itemListCount|number}}</td>\n        <td class="bg-light-info" colspan="2">{{$ctrl.items|getItems:true:true|itemListTotal|number}}</td>\n        <td class="bg-light-danger"  colspan="2">{{$ctrl.items|getItems:true:true|itemListTotal|arNumber}}</td>\n    </tr>\n    </tbody>\n</table>\n</div>'}).component("itemsListViewDriver",{bindings:{viewPrice:"<?",color:"<?",items:"<?"},template:'<table class="ezztable ezz-border-all table table-hover table-bordered" wt-responsive-table>\n    <thead>\n    <tr>\n        <th class="bg-light-info ">المنتج</th>\n\n        <th class="bg-light-info ">الكمية</th>\n\n        <th class="bg-light-info ">السعر</th>\n\n        <th class="bg-light-info ">الاجمالي</th>\n\n        <th class="bg-light-info " style="width: 30%">كتابه</th>\n\n        <th class="bg-light-info ">ملاحظات</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n\n    </tr>\n    <tr ng-repeat="obj in $ctrl.items"  ng-if="obj.itemId && obj.count && obj.price">\n        <td>{{$root.dashboardData.items[obj.itemId].name}}</td>\n        <td>{{obj.count}}</td>\n        <td>{{obj.price}}</td>\n        <td>{{obj|itemTotal}}</td>\n        <td><small>{{obj|itemTotal|arNumber}}</small></td>\n        <td>{{obj.note}}</td>\n    </tr>\n    <tr >\n        <td >الاجمالي</td>\n        <td class="bg-light-info" colspan="1">{{$ctrl.items|itemListTotal|arNumber}}</td>\n        <td class="bg-light-danger"  colspan="4">{{$ctrl.items|itemListTotal|arNumber}}</td>\n    </tr>\n    </tbody>\n</table>'}).component("rowInvoiceTitle",{bindings:{viewPrice:"<?",color:"<?"},template:""}).component("rowInvoiceView",{bindings:{ngModel:"<",color:"<?",viewPrice:"<?",noTotal:"<?"},template:' \n   \n \n<div class="table-responsive px-1 res-px-0">\n\n<table class="ezztable ezz-border-all table table-hover table-bordered bg-white" wt-responsive-table>\n    <thead>\n    <tr>\n        <th class="bg-light-info ">المنتج</th>\n\n        <th class="bg-light-info ">بيع عدد</th>\n\n        <th class="bg-light-info ">السعر</th>\n\n        <th class="bg-light-info ">الاجمالي</th>\n        <th class="bg-light-info ">استلام عدد</th>\n\x3c!--        <th class="bg-light-info ">المتبقي عهده</th>--\x3e\n\n        <th class="bg-light-info " style="width: 20%">ملاحظات</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n\n    </tr>\n    <tr ng-repeat="obj in $ctrl.ngModel|getItems:true:true"  >\n        <td>{{$root.dashboardData.items[obj.itemId].name}}</td>\n        <td>{{obj.count|number}}</td>\n        <td>{{obj.price|number}}</td>\n        <td>{{obj|itemTotal|number}}</td>\n        <td >{{obj.countReceipt|number}}</td>\n\x3c!--        <td >{{obj.countSet|number}}</td>--\x3e\n\x3c!--        <td ng-class="((obj.count-obj.countReceipt)|totalColor:200)">{{obj.count-obj.countReceipt}}</td>--\x3e\n        <td>{{obj.note}}</td>\n    </tr>\n \n    <tr >\n        <td   colspan="1">الاجمالي</td>\n        <td class="bg-light-warning" colspan="1">{{$ctrl.ngModel|getItems:true:true|itemListCount|number}}</td>\n        <td class="bg-light-info" colspan="2">{{$ctrl.ngModel|getItems:true:true|itemListTotal|number}}</td>\n        <td class="bg-light-danger"  colspan="2">{{$ctrl.ngModel|getItems:true:true|itemListTotal|arNumber}}</td>\n    </tr>\n    </tbody>\n</table>\n</div>\n'}).component("rowInvoiceList",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){o.ngModel||(o.ngModel=[{}]),is_undefined(o.auto)&&(o.auto=!0),is_undefined(o.canAdd)&&(o.canAdd=!0),o.autoAdd=o.auto;try{t.attr("nexts","3")}catch(e){}},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){o.ngModel.push({})},o.copyRaw=function(e,t){o.autoAdd=!1;try{if(!is_undefined(t)){var n=CopyObject(t);try{delete n.$$hashKey}catch(e){}try{delete n.id}catch(e){}o.ngModel.splice(e+1,0,n)}}catch(e){o.auto&&(o.autoAdd=!0)}l(function(){o.auto&&(o.autoAdd=!0)})},o.removeRaw=function(e){try{if(o.isRowEdited(o.ngModel[e])){if(1==confirm(" هل تريد حذف المنتج من الجدول ؟"))return void o.ngModel.splice(e,1)}else o.ngModel.splice(e,1)}catch(t){logCatch(t),o.ngModel.splice(e,1)}},o.isValid=function(e){return!isNull(e)||"0"==e},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.change=function(e,t){var n=!1;if(1==o.autoAdd)try{(1==o.ngModel.length||o.ngModel.length>1&&t==o.ngModel.length-1)&&is_object(e)&&(angular.forEach(e,function(e,t){try{null!=e&&"$$hashKey"!==t&&(n||(n=e.length>0||e>0))}catch(e){}}),n&&o.addRaw(t))}catch(e){}}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",viewMode:"<?",canAdd:"<?",auto:"<?"},template:'\n <row-invoice-view ng-model="$ctrl.ngModel" ng-if="$ctrl.viewMode" view-price="$ctrl.viewPrice"></row-invoice-view>\n \n<div class="px-1" ng-hide="$ctrl.viewMode">\n    <table  class=" responsive noTitle rowSpace bg-white">\n\n        <thead>\n        <tr>\n            <td data-title="المنتج"   style="width:20%"   >\n\n<div class="ezz-form-title form-control " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n\n            </td>\n            <td  data-title="بيع عدد"   >\n\n<div class="ezz-form-title form-control  bg-red-200" \n      ng-class="$ctrl.color" style="display: flow-root;">بيع عدد</div>\n\n\n            </td>\n            <td data-title="سعر الوحدة"   >\n\n\n<div class="ezz-form-title form-control  bg-red-200" \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n\n            </td>\n\n            <td  data-title="استلام عدد"   >\n\n<div class="ezz-form-title form-control  bg-blue-200" \n      ng-class="$ctrl.color" style="display: flow-root;">استلام عدد</div>\n\n            </td>\n            <td  data-title="الاسطوانات الخاصة بـ"    style="width:30%" >\n\n<div class="ezz-form-title form-control  bg-blue-200" \n      ng-class="$ctrl.color" style="display: flow-root;">الاسطوانات الخاصة بـ</div>\n\n            </td>\n\n\x3c!--            <td  data-title="المتبقي عهدة"   >--\x3e\n\n\x3c!--<div class="ezz-form-title form-control  bg-blue-200" --\x3e\n\x3c!--      ng-class="$ctrl.color" style="display: flow-root;">المتبقي عهدة</div>--\x3e\n\n\x3c!--            </td>--\x3e\n\n\n\n\n\n\n            <td  data-title="ملاحظات"  style="width:15%"  >\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n            </td>\n\n\n\n            <td ng-if="$ctrl.canCopy" class="resp-hide">\n                <a class="  btn  btn-light " style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n                   type="button"><i class="fa fa-copy"></i>\n                </a>\n            </td>\n            <td data-title=" "  class="resp-hide">\n\n                <a class="  btn btn-danger "\n                   style="padding: 4px 6px;font-size: 18px; cursor: default; opacity: 0!important;"\n                   type="button"><i class="fa fa-minus-circle"></i>\n                </a>\n\n\n            </td>\n\n\n        </tr>\n\n        </thead>\n        <tbody>\n        <tr class="row-add" ng-repeat="item in $ctrl.ngModel">\n\n\n            <td data-title="المنتج" ng-class="{\'has-danger\': !item.itemId && ($index!=$ctrl.ngModel.length-1)}"\n\n               >\n                <select-item-edit\n                        class="col px-0  "\n                        name="itemId"\n                        ng-model="item.itemId"\n                        on-change="$ctrl.change(item,$index)"\n                        multi="$ctrl.multi"\n                           options="\'items_static\'"\n                        rows="$ctrl.ngModel"\n                        title="المنتج"></select-item-edit>\n            </td>\n\n\n            <td data-title="بيع عدد" ng-class="{\'has-danger\': !$ctrl.isValid(item.count) && item.itemId,\'row-disabled\':   !item.itemId}">\n\n                <div class="row px-0 mx-0">\n                    <label class="col-auto control-label ezz-field-label hidden-md-up">بيع عدد</label>\n                    <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="count" ng-change="$ctrl.change(item,$index)"\n                           autocomplete="off"\n                           ng-disabled="!item.itemId" ng-integer\n                           ng-required="item.itemId"\n                           ng-model="item.count" placeholder="بيع عدد"  type="text"/>\n\n                </div>\n\n            </td>\n            <td  data-title="سعر الوحدة" ng-class="{\'has-danger\': !$ctrl.isValid(item.price) && item.itemId,\'row-disabled\':   !item.itemId}">\n\n\n                <div class="row px-0 mx-0">\n                    <label class="col-auto control-label ezz-field-label hidden-md-up">سعر الوحدة</label>\n                    <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="price" ng-change="$ctrl.change(item,$index)"\n                           ng-disabled="!item.itemId" ng-integer\n                           ng-required="item.itemId"\n                           ng-model="item.price" placeholder="اكتب سعر الوحدة"  type="text"/>\n\n                </div>\n            </td>\n\n\n            <td data-title="استلام عدد"  ng-class="{\'has-danger\': !$ctrl.isValid(item.countReceipt) && item.itemId,\'row-disabled\':   !item.itemId}">\n                <div class="row px-0 mx-0">\n                    <label class="col-auto control-label ezz-field-label hidden-md-up">استلام عدد</label>\n                    <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="countReceipt" ng-change="$ctrl.change(item,$index)"\n                           autocomplete="off"\n                           ng-disabled="!item.itemId" ng-integer\n                           ng-required="item.itemId"\n                           ng-model="item.countReceipt" placeholder="استلام عدد"  type="text"/>\n\n                </div>\n\n\n\n            </td>\n            <td data-title="الاسطوانات الخاصة بـ"  ng-class="{\'has-danger\': !$ctrl.isValid(item.itemsFor) && (item.itemId && (item.count>0||item.countReceipt>0)),\'row-disabled\':   !item.itemId}">\n                       <select-item-edit\n                    class="col px-0  "\n                    name="itemsFor"\n                    ng-model="item.itemsFor"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'itemsStores\'"\n                    ng-disabled="!item.itemId"\n                    is-required="(item.itemId && (item.count>0||item.countReceipt>0))"\n                     multi="true"\n                    rows="$ctrl.ngModel"\n                    title="الاسطوانات الخاصة بـ"></select-item-edit>\n\n\n\n            </td>\n\n\x3c!--            <td data-title="المتبقي عهدة"  ng-class="{\'has-danger\': !$ctrl.isValid(item.countSet) && item.itemId,\'row-disabled\':   !item.itemId}">--\x3e\n\x3c!--                <div class="row px-0 mx-0">--\x3e\n\x3c!--                    <label class="col-auto control-label ezz-field-label hidden-md-up">المتبقي عهدة</label>--\x3e\n\x3c!--                    <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="countSet" ng-change="$ctrl.change(item,$index)"--\x3e\n\x3c!--                           autocomplete="off"--\x3e\n\x3c!--                           ng-disabled="!item.itemId" ng-integer--\x3e\n\x3c!--                           ng-required="item.itemId"--\x3e\n\x3c!--                           ng-model="item.countSet" placeholder="المتبقي عهدة"  type="number"/>--\x3e\n\n\x3c!--                </div>--\x3e\n\n\n\n\x3c!--            </td>--\x3e\n\n            <td data-title="ملاحظات" ng-class="{\'row-disabled\':   !item.itemId}" >\n                <div class="row px-0 mx-0">\n                    <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n                    <input class="col  form-control  text-center" name="count"\n                           ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                           placeholder="ملاحظات" type="text"/>\n\n                </div>\n\n            </td>\n\n\n\n            <td data-title=" " ng-if="$ctrl.canCopy"  class="resp-hide">\n                <a class="  btn  btn-light " ng-click="$ctrl.copyRaw($index,item)"\n                   style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-copy"></i>\n                </a>\n            </td>\n            <td data-title=" "  class="resp-hide">\n\n\n                <a ng-if="!$ctrl.canAdd"   ng-show="($index==$ctrl.ngModel.length-1)" \n                class="  btn btn-light disabled"\n                    style="padding: 4px 6px;font-size: 18px;"\n                    type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n                <a  class="  btn btn-light disabled"\n                    ng-show="($index<$ctrl.ngModel.length-1)&& item.id" style="padding: 4px 6px;font-size: 18px;"\n                    type="button"><i class="fa fa-minus-circle"></i>\n                </a>\n                <a class="  btn btn-danger "\n                   ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n                   style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i>\n                </a>\n                <a ng-if="$ctrl.canAdd"  class="  btn btn-info "\n                   ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n                   style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i>\n                </a>\n\n            </td>\n            <td data-title=" " ng-show="($index==$ctrl.ngModel.length-1)" class="hidden-md-up resp-show">\n\n                <div class="row px-0 mx-0">\n\n                    <div class="col btn btn-outline-danger "\n                         ng-click="$ctrl.removeRaw($index)" ng-show="($index<$ctrl.ngModel.length-1)&& !item.id"\n                         style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i> حذف المنتج\n                    </div>\n                    <div  ng-if="$ctrl.canAdd" class="col btn btn-outline-info "\n                         ng-click="$ctrl.addRaw($index)" ng-show="($index==$ctrl.ngModel.length-1)"\n                         style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-plus-circle"></i> اضافة منتج\n                    </div>\n\n\n                </div>\n\n            </td>\n\n\n        </tr>\n        </tbody>\n    </table>\n\n</div>\n    '}).component("editInvoiceList",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!0,o.$onInit=function(){o.ngModel||(o.ngModel=[{}]),is_undefined(o.auto)&&(o.auto=!0),is_undefined(o.canAdd)&&(o.canAdd=!0),o.autoAdd=o.auto;try{t.attr("nexts","3")}catch(e){}},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){},o.copyRaw=function(e,t){},o.removeRaw=function(e){},o.isValid=function(e){return!isNull(e)||"0"==e},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.change=function(e,t){}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",viewMode:"<?",canAdd:"<?",auto:"<?"},template:'\n <row-invoice-view ng-model="$ctrl.ngModel" ng-if="$ctrl.viewMode" view-price="$ctrl.viewPrice"></row-invoice-view>\n \n<div class="px-1" ng-hide="$ctrl.viewMode">\n    <table  class=" responsive noTitle rowSpace bg-white">\n\n        <thead>\n        <tr>\n            <td data-title="المنتج"   style="width:20%"   >\n\n<div class="ezz-form-title form-control " \n      ng-class="$ctrl.color" style="display: flow-root;">المنتج</div>\n\n\n            </td>\n            <td  data-title="بيع عدد"   >\n\n<div class="ezz-form-title form-control  bg-red-200" \n      ng-class="$ctrl.color" style="display: flow-root;">بيع عدد</div>\n\n\n            </td>\n            <td data-title="سعر الوحدة"   >\n\n\n<div class="ezz-form-title form-control  bg-red-200" \n      ng-class="$ctrl.color" style="display: flow-root;">سعر الوحدة</div>\n\n            </td>\n\n            <td  data-title="استلام عدد"   >\n\n<div class="ezz-form-title form-control  bg-blue-200" \n      ng-class="$ctrl.color" style="display: flow-root;">استلام عدد</div>\n\n            </td>\n            <td  data-title="الاسطوانات الخاصة بـ"    style="width:30%" >\n\n<div class="ezz-form-title form-control  bg-blue-200" \n      ng-class="$ctrl.color" style="display: flow-root;">الاسطوانات الخاصة بـ</div>\n\n            </td>\n\n\x3c!--            <td  data-title="المتبقي عهدة"   >--\x3e\n\n\x3c!--<div class="ezz-form-title form-control  bg-blue-200" --\x3e\n\x3c!--      ng-class="$ctrl.color" style="display: flow-root;">المتبقي عهدة</div>--\x3e\n\n\x3c!--            </td>--\x3e\n\n\n\n\n\n\n            <td  data-title="ملاحظات"  style="width:15%"  >\n\n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">ملاحظات</div>\n            </td>\n\n\n\n           \n\n\n        </tr>\n\n        </thead>\n        <tbody>\n        <tr class="row-add" ng-repeat="item in $ctrl.ngModel">\n\n\n            <td data-title="المنتج" \n\n               >\n                   <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n       {{$root.dashboardData.items[item.itemId].name}}\n       </div>\n            </td>\n\n\n            <td data-title="بيع عدد" >\n\n                   <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n        {{item.count|number}}\n        </div>\n               \n               \n\n            </td>\n            <td  data-title="سعر الوحدة" ng-class="{\'has-danger\': !$ctrl.isValid(item.price) && item.itemId,\'row-disabled\':   !item.itemId}">\n\n\n                <div class="ezz-form-title form-control bg-grey-300 -ezz-view-mode" ng-class="$ctrl.color" style="display: flow-root;">\n             {{item.price|number}}\n\n</div>\n            </td>\n\n\n            <td data-title="استلام عدد"  ng-class="{\'has-danger\': !$ctrl.isValid(item.countReceipt) && item.itemId,\'row-disabled\':   !item.itemId}">\n                <div class="row px-0 mx-0">\n                    <label class="col-auto control-label ezz-field-label hidden-md-up">استلام عدد</label>\n                    <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="countReceipt" ng-change="$ctrl.change(item,$index)"\n                           autocomplete="off"\n                           ng-disabled="!item.itemId" ng-integer\n                           ng-required="item.itemId"\n                           ng-model="item.countReceipt" placeholder="استلام عدد"  type="text"/>\n\n                </div>\n\n\n\n            </td>\n            <td data-title="الاسطوانات الخاصة بـ"  ng-class="{\'has-danger\': !$ctrl.isValid(item.itemsFor) && (item.itemId && (item.count>0||item.countReceipt>0)),\'row-disabled\':   !item.itemId}">\n                       <select-item-edit\n                    class="col px-0  "\n                    name="itemsFor"\n                    ng-model="item.itemsFor"\n                    on-change="$ctrl.change(item,$index)"\n                    options="\'itemsStores\'"\n                    ng-disabled="!item.itemId"\n                    is-required="(item.itemId && (item.count>0||item.countReceipt>0))"\n                     multi="true"\n                    rows="$ctrl.ngModel"\n                    title="الاسطوانات الخاصة بـ"></select-item-edit>\n\n\n\n            </td>\n\n\x3c!--            <td data-title="المتبقي عهدة"  ng-class="{\'has-danger\': !$ctrl.isValid(item.countSet) && item.itemId,\'row-disabled\':   !item.itemId}">--\x3e\n\x3c!--                <div class="row px-0 mx-0">--\x3e\n\x3c!--                    <label class="col-auto control-label ezz-field-label hidden-md-up">المتبقي عهدة</label>--\x3e\n\x3c!--                    <input class="col  form-control  text-center formcore-disable-spinner" dir="ltr" name="countSet" ng-change="$ctrl.change(item,$index)"--\x3e\n\x3c!--                           autocomplete="off"--\x3e\n\x3c!--                           ng-disabled="!item.itemId" ng-integer--\x3e\n\x3c!--                           ng-required="item.itemId"--\x3e\n\x3c!--                           ng-model="item.countSet" placeholder="المتبقي عهدة"  type="number"/>--\x3e\n\n\x3c!--                </div>--\x3e\n\n\n\n\x3c!--            </td>--\x3e\n\n            <td data-title="ملاحظات" ng-class="{\'row-disabled\':   !item.itemId}" >\n                <div class="row px-0 mx-0">\n                    <label class="col-auto control-label ezz-field-label hidden-md-up">ملاحظات</label>\n                    <input class="col  form-control  text-center" name="count"\n                           ng-change="$ctrl.change(item,$index)" ng-disabled="!item.itemId" ng-model="item.note"\n                           placeholder="ملاحظات" type="text"/>\n\n                </div>\n\n            </td>\n\n\n\n           \n\n\n        </tr>\n        </tbody>\n    </table>\n\n</div>\n    '}),angular.module("OraSchool").component("testTab",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:[function(){var e=this;e.$onInit=function(){e.form={},e.data={},e.meridians=["ص","م"]},e.onSelectCustomers=function(t){e.activatedTab="startTime"}}],template:'<div class="customtab2 smallTabs ezz-tabs ">\n    <uib-tabset active="$ctrl.activatedTab">\n        <uib-tab heading="تحديد العملاء" index="\'customers\'">\n             <multi-selector \n                     ng-items="$ctrl.form.customers"\n                     ng-model="$ctrl.data.customersModels"\n                     on-select="$ctrl.onSelectCustomers"\n                      options="\'sales_customers\'"\n                          cols="4"\n                          btn-ok="التالي"\n                          title="العملاء"\n\n            ></multi-selector>\n\n\n        </uib-tab>\n        <uib-tab heading="الوقت" index="\'startTime\'">\n        \n            <div class="row" >   <div class="col-auto" >من</div>\n            <div class="col text-center" uib-timepicker ng-model="$ctrl.form.start" mousewheel="false" \n           meridians="$ctrl.meridians"\n            ></div>\n\n            <div class="col-auto" >الى</div>\n            <div class="col text-center" uib-timepicker ng-model="$ctrl.form.end" mousewheel="false" \n            meridians="$ctrl.meridians"\n            template-url="assets/assets/libsTemplates/timepicker.html"\n            ></div>\n\n\n</div>\n          \n\n        </uib-tab>\n\n    </uib-tabset>\n\n</div>\n          '}).component("addDriver",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.$onInit=function(){n.methodName="sales_drivers",n.form={},n.customFilter=n.resolve.customFilter||{},angular.isObject(n.customFilter)&&(n.form.type=n.customFilter.type,n.form.forId=n.customFilter.forId),n.startInit()},n.startInit=function(){},n.getModelUrl=function(){return"index.php/admin/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"==t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n               <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">اضافة سائق  :</h3>\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" role="form" ng-submit="$ctrl.saveAdd()" novalidate>\n          <input-field  class="col-lg-12 px-0"  ng-model="$ctrl.form.name"\n                      title="الاسم" field-type="text" name="name" required="true"></input-field>\n             \n              \n                        <radios-field class="col-lg-6  "\n                        ng-if="!$ctrl.customFilter.type"\n                                      name="type" ng-model="$ctrl.form.type"\n                                      api="sales_transporter_types"\n                                      title="النوع"></radios-field>\n                       <select-ezz-field\n                      ng-if="!$ctrl.customFilter.forId"\n     add-model="addCustomer"\n                                can-add="$root.can(\'sales_customers.Add\')"\n                                         ng-show="$ctrl.form.type==2"\n                class="col-lg-6 px-0 "\n                ng-model="$ctrl.form.forId"\n                title="الخاص بـ"\n                options="\'sales_customers\'"\n                name="forId"\n                                    ></select-ezz-field>\n\n                <input-field  class="col-lg-6 px-0 "  ng-model="$ctrl.form.carName"\n                      title="اسم السيارة" field-type="text" name="carName" ></input-field>\n               <div class="col-lg-6 row p-0 no-f-lp no-i-lp">\n                  <input-field  class="col-9 p-0 px-0"  ng-model="$ctrl.form.carNo"\n                      title="رقم السيارة" field-type="integer" name="carNo" ></input-field>\n                <input-edit  class="col-3 p-0 px-0"  ng-model="$ctrl.form.carCityNo"\n                      title="فاصله" field-type="integer" name="carSubNo" ></input-edit>\n</div>\n\n                                                             \n                        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n                            <div class="offset-sm-2 col-sm-10">\n                                <button  type="submit" class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button>\n                                          <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n                            </div>\n                        </div>\n                    </form>\n\n        </div>\n    \n        '}).component("addStartWorkingTime",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.$onInit=function(){n.methodName="working_time",n.form={},n.customFilter=n.resolve.customFilter||{},angular.isObject(n.customFilter)&&(n.form.forId=n.customFilter.forId),n.startInit()},n.startInit=function(){},n.getModelUrl=function(){return"index.php/admin/"+n.methodName},n.saveAdd=function(){showHideLoad(),n.form.date=n.getDate(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"===t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.getDate=function(){return n.form.start_at?moment(n.form.start_at).format("YYYY-MM-DD HH:mm:ss"):"0"},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n               <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">اضافة بداية التشغيل  :</h3>\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" role="form" ng-submit="$ctrl.saveAdd()" novalidate>\n          <datetime-field class="col-lg-6 " field-type="datetime-local"\n                                     name="start_at" ng-model="$ctrl.form.start_at" required="true"\n                                     title="وقت التشغيل"></datetime-field>\n                        <textarea-field class="col-lg-12 " name="start_note"\n                                        ng-model="$ctrl.form.start_note" title="ملاحضات التشغيل"></textarea-field>\n\n                                                             \n                        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n                            <div class="offset-sm-2 col-sm-10">\n                                <button  type="submit" class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button>\n                                          <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n                            </div>\n                        </div>\n                    </form>\n\n        </div>\n    \n        '}).component("addEndWorkingTime",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.$onInit=function(){n.methodName="working_time",n.form={},n.forId=n.resolve.forId||0,n.startInit()},n.startInit=function(){},n.getModelUrl=function(){return"index.php/admin/"+n.methodName+"/end/"+n.forId||0},n.saveAdd=function(){showHideLoad(),n.form.date=n.getDate(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"===t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.getDate=function(){return n.form.end_at?moment(n.form.end_at).format("YYYY-MM-DD HH:mm:ss"):""},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n               <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">اضافة ايقاف التشغيل  :</h3>\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" role="form" ng-submit="$ctrl.saveAdd()" novalidate>\n          <datetime-field class="col-lg-6 " field-type="datetime-local"\n                                     name="start_at" ng-model="$ctrl.form.end_at" required="true"\n                                     title="وقت ايقاف التشغيل"></datetime-field>\n                      \n\n                        <textarea-field class="col-lg-12 " name="stop_note"\n                                        ng-model="$ctrl.form.stop_note" title="ملاحضات ايقاف التشغيل"></textarea-field>\n                                                             \n                        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n                            <div class="offset-sm-2 col-sm-10">\n                                <button  type="submit" class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button>\n                                          <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n                            </div>\n                        </div>\n                    </form>\n\n        </div>\n    \n        '}).component("addCustomer",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.$onInit=function(){n.methodName="sales_customers",n.startInit()},n.startInit=function(){},n.getModelUrl=function(){return"index.php/admin/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"==t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n               <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">اضافة عميل  :</h3>\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" role="form" ng-submit="$ctrl.saveAdd()" novalidate>\n          \n             <input-field class="col-lg-12 px-0" field-type="text"\n                                     name="name" ng-model="$ctrl.form.name" required="true" title="الاسم"></input-field>\n                        <input-field class="col-lg-12 px-0 " field-type="text"\n                                     name="company" ng-model="$ctrl.form.company" title="المركز/الشركة"></input-field>\n                        <input-field class="col-lg-6  px-0" field-type="text"\n                                     name="mobile" ng-model="$ctrl.form.mobile" title="الموبايل"></input-field>\n                        <input-field class="col-lg-6  px-0" field-type="text"\n                                     name="phone" ng-model="$ctrl.form.phone" title="الهاتف"></input-field>\n                        <input-field class="col-lg-6 px-0 " field-type="text"\n                                     name="address" ng-model="$ctrl.form.address" title="العنوان"></input-field>\n                        <select-ezz-field\n                                class="col-lg-6 px-0 "\n                                name="city"\n                                ng-model="$ctrl.form.city"\n                                options="\'cities\'"\n                                title="المحافظة"\n                        ></select-ezz-field>\n\n                      \n   <radios-field class="col-lg-6  "\n                                      name="type" ng-model="$ctrl.form.type"\n                                      api="sales_customer_types"\n                                      title="النوع"></radios-field>\n                        <input-autosize-field class="col-lg-6  px-0" field-type="text"\n                                     name="note" ng-model="$ctrl.form.note" title="ملاحظات"></input-autosize-field>\n\n\n                                                             \n                        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n                            <div class="offset-sm-2 col-sm-10">\n                                <button  type="submit" class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button>\n                                          <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n                            </div>\n                        </div>\n                    </form>\n\n        </div>\n    \n        '}).component("appSettings",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$timeout","dataFactory","$loader",function(e,t,n){var l=this;try{l.loader=n.createNew(!1),l.loader.showClose(!1)}catch(e){}l.yesNo=[{id:1,name:"تفعيل"},{id:0,name:"تعطيل",isRed:!0}],l.showLoader=function(e){try{l.loader.open(e)}catch(e){showHideLoad()}},l.closeLoader=function(){try{l.loader.close()}catch(e){showHideLoad(!0)}},l.$onInit=function(){l.methodName="appSettings",l.startInit()},l.startInit=function(){l.loadData()},l.getModelUrl=function(){return"index.php/admin/"+l.methodName},l.loadData=function(){l.showLoader(),t.httpRequest(l.getModelUrl()+"").then(function(e){apiResponse(e,"add"),l.list=e.list,l.form=e.form,l.closeLoader(!0)})},l.saveAdd=function(){l.showLoader(),t.httpRequest(l.getModelUrl()+"","POST",{},l.form).then(function(t){if(apiResponse(t,"add"),"success"==t.status){try{l.closeLoader(!0),l.close({$value:t})}catch(e){l.closeLoader(!0),l.close({$value:t})}e(function(){1==confirm("تم التعديل هل تريد اعادة تحميل الصفحة ؟")&&location.reload()})}l.closeLoader(!0)})},l.cancel=function(){l.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-content ">\n       <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n               <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">تعديل الاعدادات  :</h3>\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" role="form" ng-submit="$ctrl.saveAdd()" novalidate>\n              <div class="col-12 row p-0 mx-0 mt-2 animate-switch-container" ng-repeat="item in $ctrl.list"  \n                 ng-switch on="item.type">\n             \n                <radios-field2 ng-switch-when="check"   title="{{item.title|| item.fieldName}}" options="$ctrl.yesNo"\n                 class="animate-switch col-12"   ng-model="$ctrl.form[item.fieldName]"> </radios-field2>\n               <number-field ng-switch-when="number" class="animate-switch col-12" name="{{item.fieldName}}"  \n    ng-model="$ctrl.form[item.fieldName]" title="{{item.title|| item.fieldName}}" field-type="integer"> </number-field>\n              <input-field ng-switch-default  class="animate-switch col-12" name="{{item.fieldName}}"  \n    ng-model="$ctrl.form[item.fieldName]" title="{{item.title|| item.fieldName}}" > </input-field>\n           \n          </div>\n   \n                                   \n                        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n                           <button  type="submit" class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button>\n                                          <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n                        </div>\n                    </form>\n\n        </div>\n        </div>\n    \n        '}),angular.module("OraSchool").component("viewDetails",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["dataFactory",function(e){var t=this;t.$onInit=function(){t.itemView=t.resolve.itemView||{},t.itemTitle=t.resolve.itemTitle||""},t.ok=function(){t.close({$value:t.itemView})},t.cancel=function(){t.dismiss({$value:"cancel"})},t.dblSelect=function(){t.ok()}}],template:'\n<div class="modal-content ">\n<div class="modal-header  py-1 px-2 ">\n            <h4 class="modal-title mb-0" id="modal-title">التفاصيل\n            </h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">رجوع</button>\n\n        </div>\n  <div class="modal-body px-0" id="modal-body" >\n    <my-view-dialog change-view="$ctrl.cancel" item-view="$ctrl.itemView"></my-view-dialog>\n  </div>\n  </div>\n'}).component("editAddItem",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$scope","$rootScope","$loader","dataFactory",function(e,t,n,l){var o=this;e.fffiles="",e.form={},e.views={},e.formSettings={};try{o.loader=n.createNew(!1),o.loader.showClose(!1)}catch(e){}o.showLoader=function(e){try{o.loader.open(e)}catch(e){showHideLoad()}},o.closeLoader=function(){try{o.loader.close()}catch(e){showHideLoad(!0)}},e.getModelUrl=function(){return o.modelUrl||"index.php/admin/"+e.methodName},o.$onInit=function(){o.forId=o.resolve.forId||"0",o._parentId_=o.resolve.parentId||null,e._parentId_=o.resolve.parentId||null,o.parentData=o.resolve.parentData||null,e.parentData=o.resolve.parentData||null,o.modelUrl=o.resolve.modelUrl||null,o.viewType=o.resolve.viewType||null,e.modelUrl=o.modelUrl,e.forId=o.forId,o.templateUrl=o.resolve.templateUrl||null,e.methodName=o.methodName=o.resolve.methodName||"non","edit"==o.viewType?e.startEdit(o.forId):e.views.add=!0;try{e.phrase=t.dashboardData.language}catch(e){}},o.getTemplate=function(){return o.templateUrl},e.startEdit=function(t){o.showLoader("جاري التحميل"),l.httpRequest(e.getModelUrl()+"/"+t).then(function(t){apiResponse(t,"add"),o.closeLoader(),"failed"!==t.status?(e.form=t,e.views.edit=!0):o.cancel()})},o.ok=function(){o.close({$value:o.itemView})},o.cancel=function(){o.dismiss({$value:"cancel"})},o.dblSelect=function(){o.ok()},e.changeView=function(e){o.dismiss({$value:"cancel"})},e.save_publish=function(){e.views.add?e.saveAdd():e.saveEdit()},e.saveEdit=function(){o.showLoader("جاري التعديل");var t={};o._parentId_&&(t._parentId_=o._parentId_),""!=e.fffiles?l.httpRequest(e.getModelUrl()+"/"+e.forId,"POST",t,e.form,e.fffiles).then(function(e){o.closeLoader();apiResponse(e,"edit");"success"==e.status&&o.close({$value:e})}):l.httpRequest(e.getModelUrl()+"/"+e.forId,"POST",t,e.form).then(function(e){o.closeLoader();apiResponse(e,"edit");"success"==e.status&&o.close({$value:e})})},e.saveAdd=function(){var t=!1,n=!1;try{n=e.formSettings.dont_clear}catch(e){}try{t=e.formSettings.dont_close}catch(e){}o.showLoader("جاري الاضافة"),""!=e.fffiles?l.httpRequest(e.getModelUrl()+"","POST",{},e.form,e.fffiles).then(function(l){o.closeLoader();apiResponse(l,"add");"success"==l.status&&(t?n||(e.form={}):o.close({$value:l}))}):l.httpRequest(e.getModelUrl()+"","POST",{},e.form).then(function(l){o.closeLoader();apiResponse(l,"add");"success"==l.status&&(t?n||(e.form={}):o.close({$value:l}))})}}],template:'\n       <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n\n  <div class="modal-content ">\n  \n<div class="modal-header m-0 p-1 pt-2  px-4" ng-if="methodName==\'bank_questions\' && views.add || methodName==\'bank_questions\' && views.edit">\n    <h4 class="card-title" ng-if="views.add">اضافة سؤال</h4>\n    <h4 class="card-title" ng-if="views.edit">تعديل السؤال </h4>\n  \n    <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')">\n        {{phrase.cancelAdd}}\n    </button>\n  \n\n</div>\n<div class="modal-header m-0 p-1 pt-2  px-4" ng-if="methodName==\'exams_list\' && views.add || methodName==\'exams_list\' && views.edit">\n    <h4 class="card-title" ng-if="views.add">اضافة اختبار</h4>\n    <h4 class="card-title" ng-if="views.edit">تعديل الاختبار </h4>\n  \n    <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')">\n        {{phrase.cancelAdd}}\n    </button>\n  \n\n</div>\n  <div class="modal-body " id="modal-body" style="min-height: 300px">\n  <div ng-include="$ctrl.getTemplate()" ng-if="$ctrl.templateUrl"></div>\n  </div>\n  </div>\n\n'}).component("selectModel",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter",function(e){var t=this;t.$onInit=function(){t.items=[],t.options=t.resolve.options,is_string(t.options)?e.searchAsync2(t.options).then(function(e){t.items=e}):t.items=t.options,t.value=t.resolve.value||"selected",t.selected=t.value,t.title=t.resolve.title||""},t.ok=function(){t.close({$value:t.selected})},t.cancel=function(){t.dismiss({$value:"cancel"})},t.dblSelect=function(){t.ok()}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">اختر {{$ctrl.title}} :</h3>\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n          <one-check-input dbl-select="$ctrl.dblSelect" cols="12" ng-model="$ctrl.selected" options="$ctrl.items"></one-check-input>\n\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-success" ng-show="$ctrl.value!=$ctrl.selected" type="button" ng-click="$ctrl.ok()">موافق</button>\n            <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n        </div>\n\n'}).component("transferItemsBalance",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$scope","$rootScope","$loader","EzzFilter","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;s.useSelectType=!0,s.useSelectCustomer=!0,s.useForId=!0,s.useConfirm=!0,s.itemTypes=[{id:1,name:"اسطوانات المصنع"},{id:2,name:"اسطوانات العملاء"}],s.useTransfer=!0;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.startInit=function(){s.useSelectType=!0,s.useSelectCustomer=!0,s.useForId=!0,s.useConfirm=!0,s.useTransfer=!0,s.form={},s.items=[],s.selectedCustomerItem=null,s.selected=null,s.options=s.resolve.options,s.selectedCustomer=s.resolve.customer||null,s.forId=s.resolve.forId||null,s.selectedType=s.resolve.transferType||null,s.title=s.resolve.title||"",s.useSelectType=!0,isNull(s.selectedType)||(s.useSelectType=!1),isNull(s.selectedCustomer)||(s.useSelectCustomer=!1),isNull(s.forId)||(s.useForId=!1,s.form.forId=s.forId),s.useTransfer=!0,s.useConfirm=!0,l.searchAsync2("sales_customers").then(function(e){s.customers=e,s.selectedCustomer&&angular.forEach(s.customers,function(e){s.selectedCustomer+""==e.id+""&&(s.selectedCustomerItem=e)})})},s.$onInit=function(){s.startInit()},s.ok=function(){s.activeTab=s.activeTabDef,s.startInit(),s.close({$value:s.selected})},s.cancel=function(){s.activeTab=s.activeTabDef,s.startInit(),s.dismiss({$value:"cancel"})},s.onSelectType=function(){s.useSelectCustomer?s.activeTab="selectCustomer":s.activeTab="transfer",s.selectedType=s.selected},s.onSelectCustomer=function(){s.activeTab="transfer"},s.isDisabled=function(){return!(!s.getTypeModel().idTitle||!s.useForId)&&!s.form.forId},s.getTypeModel=function(){try{return t.dashboardData.transferItemsTypes[s.selectedType]}catch(e){return{}}},s.send=function(){try{s.form.customer=s.selectedCustomer,s.form.transferType=s.selectedType}catch(e){}s.showLoader("جاري تنفيذ الامر .."),o.httpRequest("index.php/admin/accounting/transferItems/"+s.selectedType+"/"+s.selectedCustomer,"POST",{},s.form).then(function(e){apiResponse(e,"add");return"success"==e.status&&(s.close({$value:e}),s.activeTab=s.activeTabDef),s.closeLoader(),e})},s.showConfirm=function(){try{s.confirm=!0,s.activeTab="confirm"}catch(e){s.closeLoader(),s.confirm=!0,s.countText="confirm"}};var a=e.$watch("$ctrl.activeTab",function(e){s.activeTabDef="confirm",isNull(e)||(s.activeTabDef=e,a())})}],template:'\n\n<div class="modal-body mx-2" id="modal-body" >\n <div >\n\x3c!-- {{$ctrl.activeTab}}--\x3e\n\x3c!-- {{$ctrl.activeTabDef}}--\x3e\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n            <div class=" customtab2 smallTabs ezz-tabs">\n        <uib-tabset active="$ctrl.activeTab">\n            <uib-tab heading="تحديد النوع" index="\'selectType\'" ng-if="$ctrl.useSelectType">\n                <h3 class=" mt-2 "><span>اختر نوع التحويل</span></h3>\n                <one-check-input cols="6" dbl-select="$ctrl.onSelectType" ng-model="$ctrl.selected"\n                                 options="$root.dashboardData.transferItemsTypes"></one-check-input>\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.onSelectType()" ng-disabled="!$ctrl.selected"\n                            type="button">التالي\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n\n            </uib-tab>\n            <uib-tab disable="!$ctrl.selectedType" heading="تحديد العميل / الموزع" index="\'selectCustomer\'"\n                     ng-if="$ctrl.useSelectCustomer">\n                <h3 class=" mt-2 "><span>اخترالعميل / الموزع</span></h3>\n                <one-check-input  cols="6" dbl-select="$ctrl.onSelectCustomer" ng-model="$ctrl.selectedCustomer"\n                        ng-item="$ctrl.selectedCustomerItem"          options="$ctrl.customers"></one-check-input>\n\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.onSelectCustomer()" \n                    ng-disabled="!$ctrl.selectedCustomer"\n                            type="button">التالي\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n            </uib-tab>\n            <uib-tab disable="!$ctrl.selectedType || !$ctrl.selectedCustomer" heading="تحويل" index="\'transfer\'"\n                     ng-if="$ctrl.useTransfer">\n                \x3c!--             <uib-tab-heading>--\x3e\n                \x3c!--            البيانات المحدده--\x3e\n                \x3c!--        </uib-tab-heading>--\x3e\n                <h3 class=" mt-2 "> تحويل :\n                    {{$ctrl.getTypeModel().name}}\n                  /  <strong class="label label-success py-2">{{$ctrl.selectedCustomerItem.name}}</strong></h3>\n                <div>\n                  <div class=" mt-2 " ng-if="$ctrl.useForId" ng-show="$ctrl.getTypeModel().idTitle">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.forId }">\n                            <label class="col-auto control-label">{{$ctrl.getTypeModel().idTitle}}<span>*</span></label>\n                            <input class="col  form-control" ng-integer\n                                   ng-model="$ctrl.form.forId" placeholder="{{$ctrl.getTypeModel().idTitle}}" required type="text">\n                        </div>\n                    </div>\n                    <div class=" mt-2 ">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.itemId}">\n                            <label class="col-auto control-label"> المنتج <span>*</span></label>\n                            <select-small-edit\n                                    class="col row"\n                                    name="itemId"\n                                    ng-model="$ctrl.form.itemId"\n                                    on-change="$ctrl.change"\n\n                                    options="\'items_static\'"\n                                    title="المنتج"></select-small-edit>\n                        </div>\n                    </div>\n                  \n                    <div class=" mt-2 ">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.count }">\n                            <label class="col-auto control-label"> العدد<span>*</span></label>\n                            <input class="col  form-control" ng-integer\n                                   ng-model="$ctrl.form.count" placeholder="العدد" required type="text">\n                        </div>\n                    </div>\n                    <input-autosize-field is-required="true" ng-model="$ctrl.form.note"\n                                          title="البيان (توضيح السبب)"></input-autosize-field>\n     <radios-field class="  " required="true"\n                                   name="itemType" ng-model="$ctrl.form.itemType"\n                                  options="$ctrl.itemTypes"\n                                  title="نوع الاسطوانات"></radios-field>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.showConfirm()"\n                            ng-disabled="!$ctrl.form.itemType ||!$ctrl.form.count || !$ctrl.form.itemId || !$ctrl.form.note|| $ctrl.isDisabled()"\n                            type="button">موافق\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n\n            </uib-tab>\n                       <uib-tab disable="!$ctrl.confirm" heading="تاكيد" index="\'confirm\'"\n                     ng-if="$ctrl.useConfirm">\n                \x3c!--             <uib-tab-heading>--\x3e\n                \x3c!--            البيانات المحدده--\x3e\n                \x3c!--        </uib-tab-heading>--\x3e\n                <h3 class=" mt-2 "> تاكيد التحويل :\n                    {{$ctrl.getTypeModel().name}}\n                  /  <strong class="label label-success py-2">{{$ctrl.selectedCustomerItem.name}}</strong></h3>\n                <div class="row">\n                  <div class="col-12 mt-2 " ng-if="$ctrl.useForId" ng-show="$ctrl.getTypeModel().idTitle">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label">{{$ctrl.getTypeModel().idTitle}}<span>:</span></label>\n                            <div class="col "  type="text">{{$ctrl.form.forId}}</div>\n                        </div>\n                    </div>\n                   \n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label"> المنتج<span>:</span></label>\n                             <div class="col "  type="text"><h3 class="pb-0" style="color: darkblue;">\n                        {{$root.dashboardData.items[$ctrl.form.itemId].name}}     \n</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label"> نوع الاسطوانات<span>:</span></label>\n                             <div class="col "  type="text"><h3 class="pb-0" style="color: darkblue;">\n                        {{$ctrl.itemTypes[$ctrl.form.itemType].name}}     \n</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row ">\n                            <label class="col-auto control-label"> العدد<span>:</span></label>\n                               <div class="col "  type="text"><h3 class="pb-0" style="color: darkblue;">{{$ctrl.form.count}}</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row ">\n                            <label class="col-auto control-label"> العدد كتابة<span>:</span></label>\n                             <div class="col "  type="text"><h3 class="pb-0" style="color: darkblue;">{{$ctrl.form.count|arNumber}}</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.note }">\n                            <label class="col-auto control-label"> البيان (توضيح السبب)<span>*</span></label>\n                            <div class="col "  type="text">{{$ctrl.form.note}}</div>\n                        </div>\n                    </div>\n                    \n\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.send()"\n                       \n                            type="button">موافق\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n\n            </uib-tab>\n            \x3c!--            ng-show="reportTab.active"--\x3e\n\n        </uib-tabset>\n    </div>\n\n</div>\n</div>\n\n\n'}).component("transferJournal",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;s.useSelectType=!0,s.useSelectCustomer=!0,s.useForId=!0,s.useTransfer=!0,s.useConfirm=!0,s.confirm=!1;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.options=s.resolve.options,s.selectedCustomer=s.resolve.customer||null,s.forId=s.resolve.forId||null,s.selectedType=s.resolve.transferType||null,s.title=s.resolve.title||"",s.useSelectType=!0,isNull(s.selectedType)||(s.useSelectType=!1),isNull(s.selectedCustomer)||(s.useSelectCustomer=!1),isNull(s.forId)||(s.useForId=!1,s.form.forId=s.forId),s.useTransfer=!0,s.useConfirm=!0,t.searchAsync2("sales_customers").then(function(e){s.customers=e,s.selectedCustomer&&angular.forEach(s.customers,function(e){s.selectedCustomer+""==e.id+""&&(s.selectedCustomerItem=e)})})},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.onSelectType=function(){s.useSelectCustomer?s.activeTab="selectCustomer":s.activeTab="transfer",s.selectedType=s.selected},s.onSelectCustomer=function(){s.activeTab="transfer"},s.showConfirm=function(){s.confirm=!0,s.activeTab="confirm",s.closeLoader()},s.isDisabled=function(){return!(!s.getTypeModel().idTitle||!s.useForId)&&!s.form.forId},s.getTypeModel=function(){try{return e.dashboardData.transferJournalTypes[s.selectedType]}catch(e){return{}}},s.send=function(){try{s.form.customer=s.selectedCustomer,s.form.transferType=s.selectedType}catch(e){}s.showLoader("جاري المعالجة"),o.httpRequest("index.php/admin/accounting/transferJournal/"+s.selectedType+"/"+s.selectedCustomer+"?add_at="+s.date2,"POST",{},s.form).then(function(e){apiResponse(e,"add");return"success"==e.status&&s.close({$value:e}),s.closeLoader(),e})},s.dateChange=function(e){s.date2=e},s.setTemplate=function(e){s.form.note=e,delete s.template},s.sendDontClose=function(){try{s.form.customer=s.selectedCustomer,s.form.transferType=s.selectedType}catch(e){}s.showLoader("جاري المعالجة"),o.httpRequest("index.php/admin/accounting/transferJournal/"+s.selectedType+"/"+s.selectedCustomer+"?add_at="+s.date2,"POST",{},s.form).then(function(e){apiResponse(e,"add");return"success"==e.status&&(delete s.form.billId,delete s.form.price,s.activeTab="transfer"),s.closeLoader(),e})}}],template:'\n\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n        <uib-tabset active="$ctrl.activeTab">\n            <uib-tab heading="تحديد النوع" index="\'selectType\'" ng-if="$ctrl.useSelectType">\n                <h3 class=" mt-2 "><span>اختر نوع العملية</span></h3>\n                <one-check-input cols="6" dbl-select="$ctrl.onSelectType" ng-model="$ctrl.selected"\n                                 options="$root.dashboardData.transferJournalTypes"></one-check-input>\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.onSelectType()" ng-disabled="!$ctrl.selected"\n                            type="button">التالي\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n\n            </uib-tab>\n            <uib-tab disable="!$ctrl.selectedType" heading="تحديد العميل / الموزع" index="\'selectCustomer\'"\n                     ng-if="$ctrl.useSelectCustomer">\n                <h3 class=" mt-2 "><span>اخترالعميل / الموزع</span></h3>\n                <one-check-input  cols="6" dbl-select="$ctrl.onSelectCustomer" ng-model="$ctrl.selectedCustomer"\n                        ng-item="$ctrl.selectedCustomerItem"          options="$ctrl.customers"></one-check-input>\n\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.onSelectCustomer()" \n                    ng-disabled="!$ctrl.selectedCustomer"\n                            type="button">التالي\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n            </uib-tab>\n            <uib-tab disable="!$ctrl.selectedType || !$ctrl.selectedCustomer" heading="العملية" index="\'transfer\'"\n                     ng-if="$ctrl.useTransfer">\n                \x3c!--             <uib-tab-heading>--\x3e\n                \x3c!--            البيانات المحدده--\x3e\n                \x3c!--        </uib-tab-heading>--\x3e\n                <h3 class=" mt-2 "> العملية :\n                    {{$ctrl.getTypeModel().name}}\n                  /  <strong class="label label-success py-2">{{$ctrl.selectedCustomerItem.name}}</strong></h3>\n                <div class="row">\n                  <div class="col-12 mt-2 " ng-if="$ctrl.useForId" ng-show="$ctrl.getTypeModel().idTitle">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.forId }">\n                            <label class="col-auto control-label">{{$ctrl.getTypeModel().idTitle}}<span>*</span></label>\n                            <input class="col  form-control" ng-integer\n                                   ng-model="$ctrl.form.forId" placeholder="{{$ctrl.getTypeModel().idTitle}}" required type="text">\n                        </div>\n                    </div>\n                   \n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.billId }">\n                            <label class="col-auto control-label"> رقم السند<span>*</span></label>\n                            <input class="col  form-control" ng-integer\n                                   ng-model="$ctrl.form.billId" placeholder=" رقم السند" required type="text">\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.price }">\n                            <label class="col-auto control-label"> المبلغ<span>*</span></label>\n                            <input class="col  form-control" ng-integer\n                                   ng-model="$ctrl.form.price" placeholder="المبلغ" required type="text">\n                        </div>\n                    </div>\n                \n                     <div class="col-12  ">\n                      <div class="col-lg-12 row  "  >\n                                                      <input-autosize-field class="col p-0 m-0" is-required="true" ng-model="$ctrl.form.note"\n                                          title="البيان (توضيح السبب)"></input-autosize-field>\n                                          \n                                               <div class="col-lg-2 p-0 m-0   "  >\n                                 <select ng-change="$ctrl.setTemplate($ctrl.template)" style="    line-height: 1.5;" class="form-control custom-select mt-2 "\n                                ng-model="$ctrl.template">\n                            <option value="" >النماذج</option>\n                            <option >من حال الحساب</option>\n                        </select>\n                                           </div>\n                                           </div>\n                 \n                    </div>\n                  \n                    \n                     <div class="col-12 px-0 ">\n                      <div class="col-lg-12   "  >\n                                                         <ezz-date-edit ng-required="true"  ng-model="$ctrl.date2"></ezz-date-edit>\n\n                        </div>\n                    </div>\n\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.showConfirm()"\n                            ng-disabled="!$ctrl.date2 ||!$ctrl.form.price || !$ctrl.form.billId || !$ctrl.form.note|| $ctrl.isDisabled()"\n                            type="button">موافق\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n\n            </uib-tab>\n           \n            <uib-tab disable="!$ctrl.confirm" heading="تاكيد" index="\'confirm\'"\n                     ng-if="$ctrl.useConfirm">\n                \x3c!--             <uib-tab-heading>--\x3e\n                \x3c!--            البيانات المحدده--\x3e\n                \x3c!--        </uib-tab-heading>--\x3e\n                <h3 class=" mt-2 "> تاكيد العملية :\n                    {{$ctrl.getTypeModel().name}}\n                  /  <strong class="label label-success py-2">{{$ctrl.selectedCustomerItem.name}}</strong></h3>\n                <div class="row">\n                  <div class="col-12 mt-2 " ng-if="$ctrl.useForId" ng-show="$ctrl.getTypeModel().idTitle">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label">{{$ctrl.getTypeModel().idTitle}}<span>:</span></label>\n                            <div class="col "  type="text">{{$ctrl.form.forId}}</div>\n                        </div>\n                    </div>\n                   \n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label"> رقم السند<span>:</span></label>\n                            <div class="col "  type="text">{{$ctrl.form.billId}}</div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label">التاريخ <span>:</span></label>\n                            <div class="col "  type="text">{{$ctrl.date2}}</div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " >\n                            <label class="col-auto control-label"> العميل<span>:</span></label>\n                           <div class="col "  type="text"><h3 class="pb-0 m-0 pt-0" style="color: darkblue;">{{$ctrl.selectedCustomerItem.name}}</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row ">\n                            <label class="col-auto control-label"> المبلغ<span>:</span></label>\n                               <div class="col "  type="text"><h3 class="pb-0 m-0 pt-0" style="color: darkblue;">{{$ctrl.form.price}}</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row ">\n                            <label class="col-auto control-label"> المبلغ كتابة<span>:</span></label>\n                             <div class="col "  type="text"><h3 class="pb-0" style="color: darkblue;">{{$ctrl.form.price|arNumber}} ريال</h3></div>\n                        </div>\n                    </div>\n                    <div class="col-12 mt-2 ">\n                        <div class="col-lg-12  row " ng-class="{\'has-danger\': !$ctrl.form.note }">\n                            <label class="col-auto control-label"> البيان (توضيح السبب)<span>*</span></label>\n                            <div class="col "  type="text">{{$ctrl.form.note}}</div>\n                        </div>\n                    </div>\n                    \n\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-success" ng-click="$ctrl.send()"\n                            ng-disabled="!$ctrl.form.price || !$ctrl.form.billId || !$ctrl.form.note|| $ctrl.isDisabled()"\n                            type="button">موافق\n                    </button>\n                    <button class="btn btn-success" ng-click="$ctrl.sendDontClose()"\n                            ng-disabled="!$ctrl.form.price || !$ctrl.form.billId || !$ctrl.form.note|| $ctrl.isDisabled()"\n                            type="button">موافق وعدم الخروج\n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n\n            </uib-tab>\n            \x3c!--            ng-show="reportTab.active"--\x3e\n\n        </uib-tabset>\n    </div>\n\n </div>\n</div>\n\n'}).component("journalReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[],s.selectedCustomer=s.resolve.customer||null,t.searchAsync2("sales_customers").then(function(e){s.customers=e,s.selectedCustomer&&angular.forEach(s.customers,function(e){s.selectedCustomer+""==e.id+""&&(s.selectedCustomerItem=e)})})},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.toDate).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">كشف حساب {{$ctrl.selectedCustomerItem.name}} :</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n                <div class="row">\n                  \n                       <div class="col-12  px-0"  >\n                        <ezz-date-edit  title="من تاريخ"   ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n\n                        </div>\n<div class="col-12 px-0"  >\n                        <ezz-date-edit title="الى تاريخ"  ng-model="$ctrl.form.toDate"></ezz-date-edit>\n\n                        </div>\n\n                </div>\n                \n                <div class="modal-footer">\n                    <a class="btn btn-success" \n                          target="_blank" href="admin/report/journalReport/{{$ctrl.selectedCustomer}}?fromDate={{$ctrl.fromDate()}}&toDate={{$ctrl.toDate()}}"\n                            type="button">عرض كشف الحساب\n                    </a>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}).component("accountReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[],s.type=s.resolve.type||"null",s.forId=s.resolve.forId||null,s.title=s.resolve.title||"","customer"===s.type&&t.searchAsync2("sales_customers").then(function(e){s.customers=e,s.forId&&angular.forEach(s.customers,function(e){try{s.forId+""==e.id+""&&(s.title=e.name,s.selectedCustomerItem=e)}catch(e){}})})},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.openPdf=function(){if("customer"===s.type){openWindowFull(buildUrl("admin/report/journalReport/"+s.forId,s.form))}else{openWindowFull(buildUrl("admin/report/asf/"+s.type+"/"+s.forId,s.form))}},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.toDate).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">كشف حساب {{$ctrl.title}} :</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n                <div class="row">\n                  \n                       <div class="col-12  px-0"  >\n                        <ezz-date-edit  title="من تاريخ"   ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n\n                        </div>\n<div class="col-12 px-0"  >\n                        <ezz-date-edit title="الى تاريخ"  ng-model="$ctrl.form.toDate"></ezz-date-edit>\n\n                        </div>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.dn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="اسم السائق"\n                        >\n                        عرض السائق\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.un"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض المستخدم"\n                        >\n                        عرض المستخدم\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.en"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض اذن الخروج"\n                        >\n                    عرض اذن الخروج\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.rn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض طلب الدخول"\n                        >\n                    عرض طلب الدخول\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.il"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض الاسطوانات بالتفصيل"\n                        >\n                    عرض الاسطوانات بالتفصيل\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.wBK"\n\n                                t-value="1"\n                                f-value="0"\n                                title="مع الخلفية الرسمية"\n                        >\n                    مع الخلفية الرسمية\n</check-field>\n                </div>\n                \n                <div class="modal-footer">\n                    <a class="btn btn-success" \n                       ng-click="$ctrl.openPdf()"\n                            type="button">عرض كشف الحساب\n                    </a>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}).component("invoicesReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[],s.selectedCustomer=s.resolve.customer||null,t.searchAsync2("sales_customers").then(function(e){s.customers=e,s.selectedCustomer&&angular.forEach(s.customers,function(e){s.selectedCustomer+""==e.id+""&&(s.selectedCustomerItem=e)})})},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.openPdf=function(){openWindowFull(buildUrl("admin/report/invoicesReport/"+s.selectedCustomer,s.form))},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.toDate).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">كشف فواتير {{$ctrl.selectedCustomerItem.name}} :</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n                <div class="row">\n                  \n                       <div class="col-12  px-0"  >\n                        <ezz-date-edit  title="من تاريخ"   ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n\n                        </div>\n<div class="col-12 px-0"  >\n                        <ezz-date-edit title="الى تاريخ"  ng-model="$ctrl.form.toDate"></ezz-date-edit>\n\n                        </div>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.dn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="اسم السائق"\n                        >\n                        عرض السائق\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.en"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض اذن الخروج"\n                        >\n                    عرض اذن الخروج\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.rn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض طلب الدخول"\n                        >\n                    عرض طلب الدخول\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.il"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض الاسطوانات بالتفصيل"\n                        >\n                    عرض الاسطوانات بالتفصيل\n</check-field>\n                </div>\n                \n                <div class="modal-footer">\n                    <a class="btn btn-success" \n                       ng-click="$ctrl.openPdf()"\n                            type="button">عرض كشف الحساب\n                    </a>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}).component("invoicesAllReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.itemTypes=[{id:"2",name:"اجل "},{id:"1",name:"نقد "},{id:"a",name:"الكل"}],s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[],s.selectedType=s.resolve.forId||"a"},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.openPdf=function(){openWindowFull(buildUrl("admin/report/invoicesReportAll/"+s.selectedType,s.form))},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.toDate).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">كشف فواتير {{$ctrl.selectedCustomerItem.name}} :</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n                <div class="row">\n                  \n                       <div class="col-12  px-0"  >\n                        <input-field  title="من فاتورة"   ng-model="$ctrl.form.fromNo"></input-field>\n\n                        </div>\n                       <div class="col-12  px-0"  >\n                         <input-field  title="الى فاتورة"   ng-model="$ctrl.form.toNo"></input-field>\n\n                        </div>\n                       <div class="col-12  px-0"  >\n                        <ezz-date-edit  title="من تاريخ"   ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n\n                        </div>\n<div class="col-12 px-0"  >\n                        <ezz-date-edit title="الى تاريخ"  ng-model="$ctrl.form.toDate"></ezz-date-edit>\n\n                        </div>\n                             <radios-field class="col-auto mb-2 " required="true"\n                                   name="itemType" ng-model="$ctrl.selectedType"\n                                  options="$ctrl.itemTypes"\n                                  title="نوع الفواتير"></radios-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.dn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="اسم السائق"\n                        >\n                        عرض السائق\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.en"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض اذن الخروج"\n                        >\n                    عرض اذن الخروج\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.rn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض طلب الدخول"\n                        >\n                    عرض طلب الدخول\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.il"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض الاسطوانات بالتفصيل"\n                        >\n                    عرض الاسطوانات بالتفصيل\n</check-field>\n                </div>\n                \n                <div class="modal-footer">\n                    <a class="btn btn-success" \n                       ng-click="$ctrl.openPdf()"\n                            type="button">عرض كشف الحساب\n                    </a>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}).component("booksReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.typesKeys=["export","receive","later","cach","invoice","invLater","invCach"],s.itemTypes={global:{id:"fill",name:"الانتاج"},export:{id:"export",name:"طلبات الخروج"},receive:{id:"receive",name:"طلبات الدخول"},later:{id:"later",name:"فواتير اجل"},cach:{id:"cach",name:"فواتير نقد"},invoice:{id:"invoice",name:"فواتير اجل ونقد"}},s.typesDriver={export:{id:"export",name:"طلبات الخروج"},receive:{id:"receive",name:"طلبات الدخول"},later:{id:"later",name:"مشتريات اجل"},cach:{id:"cach",name:"مشتريات نقد"},invLater:{id:"invLater",name:"مبيعات اجل"},invCach:{id:"invCach",name:"مبيعات نقد"}},s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[];try{const e=s.resolve.type||"o";s.typesKeys.includes(e)&&(s.forType=e,s.selectedType=e)}catch(e){}try{var e=s.resolve.parms||{};e&&(s.defaults=CopyObject(e)||{},s.form=angular.isObject(e)?CopyObject(e):{})}catch(e){}try{s.title=s.resolve.title||""}catch(e){}},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.openPdf=function(){openWindowFull(buildUrl("admin/report/booksReport/"+s.selectedType,s.form))},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.toDate).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">تصدير الدفاتر والفواتير :\n            <span ng-if="$ctrl.selectedType" ng-show="!$root.dashboardData.isFact">{{$ctrl.itemTypes[$ctrl.selectedType].name}}</span>\n            <span ng-if="$ctrl.selectedType" ng-show="$root.dashboardData.isFact">{{$ctrl.itemTypes[$ctrl.selectedType].name}}</span>\n            <span ng-if="$ctrl.form.fromNo">من {{$ctrl.form.fromNo}}</span>\n            <span ng-if="$ctrl.form.toNo">الى {{$ctrl.form.toNo}}</span>\n            </h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <form class="form-horizontal   ezz-fields no-f-lp no-i-lp customtab2 smallTabs ezz-tabs" name="addForm" role="form" ng-submit="$ctrl.openPdf()" novalidate>\n                <radios-field class="col-auto px-0 " ng-required="true" required="true"\n                             ng-if="$root.dashboardData.isFact && !$ctrl.forType"      name="itemType" ng-model="$ctrl.selectedType"\n                                  options="$ctrl.itemTypes"\n                                  title="نوع الدفتر" ></radios-field>\n                                       <radios-field class="col-auto px-0 " ng-required="true" required="true"\n                             ng-if="!$root.dashboardData.isFact  && !$ctrl.forType"      name="itemType" ng-model="$ctrl.selectedType"\n                                  options="$ctrl.typesDriver"\n                                  title="نوع الدفتر"></radios-field>\n                                  \n                 \n                <div class="row mb-2">\n                  \n                       <div class="col-12 row px-0"  >\n                        <input-field view-mode="$ctrl.defaults.fromNo"  title="من رقم" class="col-6 px-0"  ng-model="$ctrl.form.fromNo"></input-field>\n                         <input-field view-mode="$ctrl.defaults.toNo"  title="الى رقم" class="col-6 px-0"   ng-model="$ctrl.form.toNo"></input-field>\n\n                        </div>\n                 \n                       <div class="col-12 row px-0"  >\n                        <ezz-date-edit  title="من تاريخ" class="col-4 px-0"  ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n                        <ezz-date-edit title="الى تاريخ" class="col-4 px-0" ng-model="$ctrl.form.toDate"></ezz-date-edit>\n                        <ezz-date-edit title="يوم" class="col-4 px-0" ng-model="$ctrl.form.day"></ezz-date-edit>\n\n                        </div>\n\n                        \n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.dn"\n                                t-value="1"\n                                f-value="0"\n                                title="عرض السائق"\n                        >\n                        عرض السائق\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.en"\n      ng-show="$ctrl.selectedType!=\'export\'"\n                                t-value="1"\n                                f-value="0"\n                                title="عرض اذن الخروج"\n                        >\n                    عرض اذن الخروج\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.rn"\n                                ng-show="$ctrl.selectedType!=\'receive\'"\n                                t-value="1"\n                                f-value="0"\n                                title="عرض طلب الدخول"\n                        >\n                    عرض طلب الدخول\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.il"\n                                t-value="1"\n                                f-value="0"\n                                title="عرض الاسطوانات بالتفصيل"\n                        >\n                    عرض الاسطوانات بالتفصيل\n</check-field>\n\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.bi"\n                                ng-show="$ctrl.selectedType!=\'later\'&&$ctrl.selectedType!=\'invoice\'&&$ctrl.selectedType!=\'cach\'"\n                                t-value="1"\n                                f-value="0"\n                                title="عرض طلب الدخول"\n                        >\n                    عرض رقم الفاتورة\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.st"\n                                ng-show="$ctrl.selectedType!=\'later\'&&$ctrl.selectedType!=\'invoice\'&&$ctrl.selectedType!=\'cach\'"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض نوع البيع"\n                        >\n                    عرض نوع البيع\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.ob"\n\n                                t-value="1"\n                                f-value="0"\n                                title="ترتيب حسب الارقام"\n                        >\n                  ترتيب حسب الارقام\n</check-field>\n                </div>\n                 <select-ezz-field\n                                          ng-model="$ctrl.form.forUser"\n                                          options="\'sales_customers\'"\n                                          class="col-lg-3 px-0"\n                                          title="العميل"\n                                         >\n\n                        </select-ezz-field>\n                <div class="modal-footer">\n                  <check-field\n                                them="info"\n                                class="col-auto  "\n                                name="ltr"\n                                ng-model="$ctrl.form.asHtml"\n\n                                t-value="1"\n                                f-value="0"\n                        >\n                   HTML\n</check-field>\n                    <button class="btn btn-success" \n                    ng-disabled="addForm.$invalid"\n                       ng-click="$ctrl.openPdf()"\n                            type="button">تصدير \n                    </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </form>\n\n </div>\n</div>\n\n'}).component("dayReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[];try{const e=s.resolve.forId||null;s.form.forUser=e,s.selectedId=e}catch(e){}try{s.title=s.resolve.title||""}catch(e){}},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.openPdf=function(){s.form.dn=!0;var e=0;s.form.day&&(e=moment(s.form.day).format("YYYY-MM-DD")),openWindowFull(buildUrl("admin/report/dayReport/"+e,s.form))},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.day).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">التقرير اليومي:\n            </h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <form class="form-horizontal   ezz-fields no-f-lp no-i-lp customtab2 smallTabs ezz-tabs" name="addForm" role="form" ng-submit="$ctrl.openPdf()" novalidate>\n     \n                    \n                                  \n                 \n              <ezz-date-edit title="يوم" class="col-12 px-0" ng-required="true" ng-model="$ctrl.form.day"></ezz-date-edit>\n\n                 <select-ezz-field\n                                          ng-model="$ctrl.form.forUser"\n                                       ng-if="!$ctrl.selectedId"   options="\'sales_customers\'"\n                                          class="col-12 px-0"\n                                          title="العميل"\n                                         >\n\n                        </select-ezz-field>\n                <div class="modal-footer">\n                 <check-field\n                                them="info"\n                                class="col-auto  "\n                                name="ltr"\n                                ng-model="$ctrl.form.asHtml"\n\n                                t-value="1"\n                                f-value="0"\n                        >\n                   HTML\n</check-field>\n                    <button class="btn btn-success" \n                    ng-disabled="addForm.$invalid"\n                       ng-click="$ctrl.openPdf()"\n                            type="button">تصدير \n                    </button>\n                    <button class="btn btn-danger"  ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </form>\n\n </div>\n</div>\n\n'}).component("fillReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[];try{const e=s.resolve.forId||null;s.form.forUser=e,s.selectedId=e}catch(e){}try{s.title=s.resolve.title||""}catch(e){}},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.openPdf=function(){openWindowFull(buildUrl("admin/report/fillReport/1",s.form))},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.day).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">كشف التعبئة:\n            </h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <form class="form-horizontal   ezz-fields no-f-lp no-i-lp customtab2 smallTabs ezz-tabs" name="addForm" role="form" ng-submit="$ctrl.openPdf()" novalidate>\n     \n                    \n                                  \n                    <ezz-date-edit  title="من تاريخ" class="col-6 px-0"  ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n                        <ezz-date-edit title="الى تاريخ" class="col-6 px-0" ng-model="$ctrl.form.toDate"></ezz-date-edit>\n       \n              <ezz-date-edit title="يوم" class="col-12 px-0"  ng-model="$ctrl.form.day"></ezz-date-edit>\n\n                 <select-ezz-field\n                                          ng-model="$ctrl.form.forUser"\n                                       ng-if="!$ctrl.selectedId"   options="\'sales_customers\'"\n                                          class="col-12 px-0"\n                                          title="العميل"\n                                         >\n\n                        </select-ezz-field>\n                <div class="modal-footer">\n                 <check-field\n                                them="info"\n                                class="col-auto  "\n                                name="ltr"\n                                ng-model="$ctrl.form.asHtml"\n\n                                t-value="1"\n                                f-value="0"\n                        >\n                   HTML\n</check-field>\n                    <button class="btn btn-success" \n                    ng-disabled="addForm.$invalid"\n                       ng-click="$ctrl.openPdf()"\n                            type="button">تصدير \n                    </button>\n                    <button class="btn btn-danger"  ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </form>\n\n </div>\n</div>\n\n'}).component("bkReport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.itemTypes=[{id:"b",name:"نسخة احتياطية كاملة"},{id:"c",name:"العملاء "},{id:"i",name:"الفواتير "},{id:"a",name:"الحسابات "},{id:"ca",name:"العملاء والحسابات "},{id:"ci",name:"العملاء والفواتير "},{id:"d",name:"نسخة احتياطية (بيانات) "}],s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.items=[],s.customers=[]},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})},s.getUrl=function(){return buildUrl("admin/report/bkAll/"+s.form.type||"b",s.form)},s.fromDate=function(){return s.form.fromDate?moment(s.form.fromDate).format("YYYY-MM-DD"):""},s.toDate=function(){return s.form.toDate?moment(s.form.toDate).format("YYYY-MM-DD"):""}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">تصدير كشوفات او نسخ احتياطية  :</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n                <div class="row">\n                  \n                       <div class="col-12  px-0"  >\n                        <ezz-date-edit  title="من تاريخ"   ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n\n                        </div>\n<div class="col-12 px-0"  >\n                        <ezz-date-edit title="الى تاريخ"  ng-model="$ctrl.form.toDate"></ezz-date-edit>\n\n                        </div>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="dn"\n                                ng-model="$ctrl.form.dn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="اسم السائق"\n                        >\n                        عرض السائق\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="en"\n                                ng-model="$ctrl.form.en"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض اذن الخروج"\n                        >\n                    عرض اذن الخروج\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="rn"\n                                ng-model="$ctrl.form.rn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض طلب الدخول"\n                        >\n                    عرض طلب الدخول\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="il"\n                                ng-model="$ctrl.form.il"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض الاسطوانات بالتفصيل"\n                        >\n                    عرض الاسطوانات بالتفصيل\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="withBack"\n                                ng-model="$ctrl.form.withBack"\n\n                                t-value="1"\n                                f-value="0"\n                                title=" مع صورة خلفية الكشوفات"\n                        >\n                   مع صورة خلفية الكشوفات\n</check-field>\n     <radios-field class=" col-auto mb-2 " required="true"\n                                   name="itemType" ng-model="$ctrl.form.type"\n                                  options="$ctrl.itemTypes"\n                                  title="نوع التصدير"></radios-field>\n                                  <input-field field-type="text" title="كلمة السر" class=" col-auto mb-2 " \n                                   name="pass" ng-model="$ctrl.form.pass"></input-field>\n                </div>\n                \n                <div class="modal-footer">\n                    <a class="btn btn-success"  target="_blank"\n                       href="{{$ctrl.getUrl()}}"\n                            type="button">تصدير\n                    </a>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}).component("textInput",{template:'<div ng-include="getTemplate()">',controller:["$scope","$element","focusInputGroup","configuration",function(e,t,n,l){e.getTemplate=function(){return l.baseScriptPath+"fd/components/text_input_instance.html"}}]}),angular.module("OraSchool").component("booksFor",{controller:["$scope","$rootScope","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.load=function(){i.loading=!0,i.items={},i.types={export:{id:"export",name:"طلبات الخروج",def:{il:"1",bi:"1",st:"1",dn:"1",ob:"1"}},receive:{id:"receive",name:"طلبات الدخول",def:{il:"1",dn:"1",ob:"1"}},later:{id:"later",name:"فواتير اجل",def:{il:"1",dn:"1",ob:"1"}},cach:{id:"cach",name:"فواتير نقد",def:{il:"1",dn:"1",ob:"1"}}},i.typesDriver={export:{id:"export",name:"طلبات الخروج",def:{il:"1",bi:"1",st:"1",dn:"1",ob:"1"}},receive:{id:"receive",name:"طلبات الدخول",def:{il:"1",dn:"1",ob:"1"}},later:{id:"later",name:"مشتريات اجل",def:{il:"1",dn:"1",ob:"1"}},cach:{id:"cach",name:"مشتريات نقد",def:{il:"1",dn:"1",ob:"1"}},invLater:{id:"invLater",name:"مبيعات اجل",def:{il:"1",dn:"1",ob:"1"}},invCach:{id:"invCach",name:"مبيعات نقد",def:{il:"1",dn:"1",ob:"1"}}},delete i.currant,i.title="",o.httpRequest("index.php/admin/accounting/booksFor/"+i.type||"non","GET",{type:i.type||"non"}).then(function(e){try{i.title=e.name,i.items=e.items}catch(e){}}).finally(function(){i.loading=!1})},i.$onInit=function(){i.loaded||(i.loaded=!0),i.forId=i.resolve.forId,i.type=i.resolve.type,i.forId||(i.forId=-1),i.load()},i.cancel=function(){i.dismiss({$value:"cancel"})},i.view=function(e){i.currant=e},e.$watch("$ctrl.type",function(e){e&&i.load()}),i.openBooks=function(e,n){var l={fromNo:n.no,toNo:n.toNo,size:"lg",ob:1};try{l=angular.extend(l,e.def||{})}catch(e){}t.openModelType2("booksReport",null,e.id,e.name,l)}}],bindings:{title:"<?",resolve:"<",close:"&",dismiss:"&"},template:'\n      <div class=" card card-outline-danger m-0 p-1 ezz-card" >\n                    <strong class="h4">\n                        <strong  class="mb-0 p-2 card-title label label-light-info text-black"> الدفاتر المستخدمة في النظام: </strong>\n                                     <button class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-danger" ng-click="$ctrl.cancel()" type="button">اغلاق</button>\n\n                                     <button\n                               ng-click="$ctrl.load($ctrl.items);" type="button"\n                                class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-info "  ><i\n                                    class="fa fa-refresh"></i> تحديث </button>\n                                           <div class="pull-left  col-auto ml-1  " ng-if="$ctrl.type!=1" >\n                 <radios-field ng-show="!$root.dashboardData.isFact" class=" text-center px-0 " ng-required="true" required="true"\n                                   name="itemType" ng-model="$ctrl.type"\n                                  options="$ctrl.typesDriver"\n                                  title="نوع الدفتر" ng-if="!$ctrl.forType"></radios-field>  \n        <radios-field ng-show="$root.dashboardData.isFact" class=" text-center px-0 " ng-required="true" required="true"\n                                   name="itemType" ng-model="$ctrl.type"\n                                  options="$ctrl.types"\n                                  title="نوع الدفتر" ng-if="!$ctrl.forType"></radios-field>\n                </div>\n                                    </strong>\n                    <div class="box-body ">\n                        <table class="ezztable table table-hover table-striped table-bordered text-center">\n                            <tbody>\n                            <tr>\n                                <th class="bg-light-info ">م</th>\n                                <th class="bg-light-info ">من</th>\n                                <th class="bg-light-info ">الى</th>\n                                <th class="bg-light-info ">مستخدم </th>\n                                <th class="bg-light-info ">فارغ </th>\n                                <th class="bg-light-info ">اصغر رقم مستخدم </th>\n                                <th  class="bg-light-info ">اكبر رقم مستخدم </th>\n                                <th  class="bg-light-info "> تصدير  </th>\n                            </tr>\n                            <tr ng-repeat="result in $ctrl.items|object2Array|  orderBy:\'no\' " total-items="totalItems2" class="pointer"  ng-click="$ctrl.view(result)">\n                                <td >{{$index+1 }}</td>\n                                <td >{{result.no }} </td>\n                                <td >{{result.toNo }} </td>\n                                <td >{{result.added }} </td>\n                                <td >{{result.non }} </td>\n                                <td >{{result.min }} </td>\n                                <td >{{result.max }} </td>\n                                <td >\n                                  <button class="btn btn-danger "\n                                          ng-show="!$root.dashboardData.isFact"   ng-click="$ctrl.openBooks($ctrl.typesDriver[$ctrl.type],result)"  style="margin:3px;width:90%"\n                                             \n                                            >تصدير الدفتر\n                                                <i class="fa fa-file-invoice"></i>\n                                            </button>\n                                  <button class="btn btn-danger "\n                                          ng-show="$root.dashboardData.isFact"   ng-click="$ctrl.openBooks($ctrl.types[$ctrl.type],result)"  style="margin:3px;width:90%"\n                                             \n                                            >تصدير الدفتر\n                                                <i class="fa fa-file-invoice"></i>\n                                            </button>\n                                            </td>\n                              \n                    \n                            </tr>\n                          \n                            <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                    <td class="text-center" colspan="10">\n                        <h3 >جاري التحميل ...</h3>\n       \n\n                    </td>\n                </tr>\n                            <tr ng-if="!$ctrl.type&& !($ctrl.items.length>0) && !$ctrl.loading">\n                    <td class="text-center" colspan="10">\n                        <h3 >حدد نوع الدفتر</h3>\n\n\n                    </td>\n                </tr>\n                            </tbody>\n                        </table>\n                        \n                        <div class="row col-12 " ng-if="$ctrl.currant"> \n                   <h3  class="mb-2 p-2 card-title label label-light-info text-black"><strong>\n                   \n                   {{$ctrl.currant.no}} الى {{$ctrl.currant.toNo}}:\n</strong> </h3>\n                            <div class="row col-12 p-0 m-0  " > \n                            <div class="col-lg-1 col-sm-2 col-auto text-center mt-1" ng-repeat="item in $ctrl.currant.items|object2Array|  orderBy:\'no\'">\n                            <span class="h5">\n                                                   <span ng-show="$root.dashboardData.isFact" ng-click="$root.openModelViewer(\'viewReceive\',item.revId,\'تفاصيل \')" class="label bold label-rounded  bg-300 bg-green-300 text-center pointer" ng-if="item.trans" >\n                                                 {{item.no}}\n                                                    </span>\n                                                   <span ng-show="!$root.dashboardData.isFact" ng-click="$root.openModelViewer(\'viewPurchase\',item.revId,\'تفاصيل \')" class="label bold label-rounded  bg-300 bg-green-300 text-center pointer" ng-if="item.trans" >\n                                                 {{item.no}}\n                                                    </span>\n                                                   <span class="label bold label-rounded  bg-300 bg-red-300 text-center disabled"  ng-if="!item.trans">\n                                                 {{item.no}}\n                                                    </span>\n                                                    \n                                                    </span>\n                            </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                       '}).component("customerCounter",{controller:["$scope","$element","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.load=function(){i.loading=!0,i.items={},i.title="",i.filter||(i.filter={}),i.filter.type=i.type||"non",o.httpRequest("index.php/admin/accounting/customerCounter/"+i.forId,"GET",i.filter).then(function(e){try{i.title=e.name,i.items=e.items}catch(e){}}).finally(function(){i.loading=!1})},i.$onInit=function(){i.loaded||(i.loaded=!0);try{i.view_uuid=uuid.v1()}catch(e){}i.forId=i.resolve.forId,i.type=i.resolve.type,i.forId||(i.forId=-1),i.load()},i.print=function(){try{i.todayDate=moment()}catch(e){}l(function(){try{$.print("."+i.view_uuid)}catch(e){}})},i.cancel=function(){i.dismiss({$value:"cancel"})}}],bindings:{title:"<?",resolve:"<",close:"&",dismiss:"&"},template:'\n      <div class=" card card-outline-danger m-0 p-1 ezz-card" ng-class="$ctrl.view_uuid" dir="rtl">\n                    <strong class="h4">\n                        <strong  class="card-print-title mb-0 p-2 card-title label label-light-info text-black"> اسطوانات: <strong>{{$ctrl.title}} </strong></strong>\n                                     <button class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-danger" ng-click="$ctrl.cancel()" type="button">اغلاق</button>\n\n                                     <button\n                               ng-click="$ctrl.load($ctrl.items);" type="button"\n                                class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-info "  ><i\n                                    class="fa fa-refresh"></i> تحديث </button>\n                                     <button\n                               ng-click="$ctrl.print();" type="button"\n                                class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-primary "  ><i\n                                    class="fa fa-print"></i> طباعة </button>\n                                    \n                           <div class="pull-left col-lg-2  col-sm-4 m-0"  \n                            ng-class="{\'no-print\':!$ctrl.filter.toDate}" >\n                        <ezz-date-edit  title="الى تاريخ"   \n                        ng-model="$ctrl.filter.toDate"  on-change="$ctrl.load"></ezz-date-edit>\n\n                        </div>\n                              <div class="pull-left col-lg-2  col-sm-4 m-0" \n                                         ng-class="{\'no-print\':!$ctrl.filter.fromDate}" >\n                        <ezz-date-edit  title="من تاريخ"   on-change="$ctrl.load"\n                        ng-model="$ctrl.filter.fromDate"></ezz-date-edit>\n\n                        </div>  \n                                    </strong>\n                    <div class="box-body ">\n                        <table class="ezztable ezz-border-all table table-hover table-striped table-bordered text-center">\n                            <tbody>\n                            <tr>\n                                <th class="bg-light-info ">الاسطوانات</th>\n                                <th class="bg-light-info ">دخول</th>\n                                <th class="bg-light-info ">التعبئة</th>\n                                <th class="bg-light-info ">خروج مليان</th>\n                                <th class="bg-light-info ">خروج فارغ</th>\n                                <th class="bg-light-info ">مرتجع مليان</th>\n                                <th class="bg-light-info ">المتبقي فارغ</th>\n                                <th class="bg-light-info ">المتبقي مليان</th>\n                                <th class="bg-light-info ">المتبقي الكل</th>\n                            </tr>\n                            <tr ng-repeat="result in $ctrl.items " total-items="totalItems2">\n                                <td >{{result.name }}</td>\n                                <td >{{result.receive }} </td>\n                                <td >{{result.fill }} </td>\n                                <td >{{result.export }} </td>\n                                <td >{{result.broken }} </td>\n                                <td >{{result.back }} </td>\n                                <td >{{result.emptyCount }} </td>\n                                <td >{{result.fillCount }} </td>\n                                <td >{{result.fillAndEmpty }} </td>\n                              \n                    \n                            </tr>\n                            <tr ng-show="!$ctrl.items.length && !$ctrl.loading">\n                                <td class="noTableData" colspan="7">لايوجد بيانات </td>\n                            </tr>\n                            <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                    <td class="text-center" colspan="10">\n                        <h3 >جاري التحميل ...</h3>\n       \n\n                    </td>\n                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div dir="ltr" class="px-2 only-print" ng-if="$ctrl.todayDate">\n                    طبع بتاريخ\n                     :{{$ctrl.todayDate|dateFormat}}\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   المستخدم\n                     :{{$root.dashboardData.baseUser.fullName}}\n                     </div>\n                    <div dir="ltr" class="px-2 mb-1 row no-print"  ng-if="$ctrl.type==\'c\'">\n                           <button class="btn btn-danger  "\n                                        ng-click="$root.openAccountReport($ctrl.forId,\'customer\')"\n                                        ng-show="$root.can(\'sales_customers.journalList\')"\n                                      >كشف حساب العميل\n                                    <i class="fa fa-dollar-sign"></i>\n                                </button>\n                           <button class="btn btn-success ml-1 "\n                                        ng-click="$root.openInvoicesReport($ctrl.forId)"\n                                        ng-show="$root.can(\'sales_customers.journalList\')"\n                                      >كشف فواتير العميل\n                                    <i class="fa fa-dollar-sign"></i>\n                                </button>\n                                \n                           <button class="btn btn-primary ml-1 "\n                                        ng-click="$root.openModelTypeSmall(\'fillReport\',$ctrl.forId)"\n                                        ng-show="$root.can(\'sales_customers.journalList\')"\n                                      >كشف تعبئة العميل\n                                    <i class="fa fa-dollar-sign"></i>\n                                </button>\n                     </div>\n                </div>\n                       '}).component("networkItems",{controller:["$scope","$element","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.load=function(){i.loading=!0,i.items=[],o.httpRequest("index.php/admin/networkList").then(function(e){try{i.items=e}catch(e){}}).finally(function(){i.loading=!1})},i.$onInit=function(){i.loaded||(i.loaded=!0),is_array(i.items)&&!is_undefined(i.items)||(i.loading=!0,l(function(){i.load()}))},i.cancel=function(){i.dismiss({$value:"cancel"})}}],bindings:{title:"<?",resolve:"<",close:"&",dismiss:"&"},template:'\n      <div class=" card card-outline-danger m-0 p-1 ezz-card" >\n                    <strong class="h4">\n                        <strong  class="mb-0 p-2 card-title label label-light-info text-black"><strong>الشبكات </strong></strong>\n                                     <button class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-danger" ng-click="$ctrl.cancel()" type="button">اغلاق</button>\n\n                                     <button\n                               ng-click="$ctrl.load($ctrl.items);" type="button"\n                                class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-info "  ><i\n                                    class="fa fa-refresh"></i> تحديث </button>\n                                    </strong>\n                    <div class="box-body ">\n                        <table class="ezztable table table-hover table-striped table-bordered text-center">\n                            <tbody>\n                            <tr>\n                                <th class="bg-light-info ">الشبكة</th>\n                                <th class="bg-light-info ">IP</th>\n                                <th class="bg-light-info ">MAC</th>\n                            </tr>\n                            <tr ng-repeat="result in $ctrl.items " total-items="totalItems2">\n                                <td >\n                                   {{result.name }}\n                                </td>\n                                <td >\n                                   <strong> {{result.ip }}</strong>\n                                </td>\n                                <td >\n                                   <strong> {{result.mac }}</strong>\n                                </td>\n                    \n                            </tr>\n                            <tr ng-show="!$ctrl.items.length && !$ctrl.loading">\n                                <td class="noTableData" colspan="7">لايوجد شبكات متصلة</td>\n                            </tr>\n                            <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                    <td class="text-center" colspan="3">\n                        <h3 >جاري التحميل ...</h3>\n       \n\n                    </td>\n                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                       '}).component("accountItems",{controller:["$scope","$element","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.load=function(){i.loading=!0,i.items=[],o.httpRequest("index.php/admin/accounting/itemsWithAccounts/"+i.type+"/"+i.itemId+"?tabInfo=true").then(function(e){try{i.items=e}catch(e){}}).finally(function(){i.loading=!1})},i.$onInit=function(){i.loaded||(i.loaded=!0),i.openAll||(i.openAll=function(e){try{angular.forEach(e,function(e,t){e.active=1})}catch(e){}}),is_array(i.items)&&!is_undefined(i.items)||(i.loading=!0,l(function(){i.load()}))}}],bindings:{itemId:"<",type:"<",items:"=?",title:"<?",change:"<?",loaded:"=?",openAll:"<?",openOne:"<?"},template:'\n      <div class=" card card-outline-danger m-0 p-1 ezz-card" >\n                    <strong class="h4">\n                        <strong  class="mb-0 p-2 card-title label label-light-info text-black"><strong>{{$ctrl.title}} </strong></strong>\n                 \n                                     <button\n                               ng-click="$ctrl.load($ctrl.items);" type="button"\n                                class="p-2  mb-0 pull-left btn btn-sm  mx-1 btn-info "  ><i\n                                    class="fa fa-refresh"></i> تحديث </button></strong>\n                    <div class="box-body ">\n                        <table class="ezztable table table-hover table-striped table-bordered text-center">\n                            <tbody>\n                            <tr>\n                                <th class="bg-light-info ">الحساب</th>\n                                <th class="bg-light-info ">الرصيد</th>\n                                <th class="bg-light-info "      ng-show="$root.can(\'sales_customers.itemsBalance\')">خيارات</th>\n                            </tr>\n                            <tr ng-repeat="result in $ctrl.items " total-items="totalItems2">\n                            <td style="color:green;  padding: .25rem;">\n                                   <strong> {{result.with_name }}</strong>\n                                </td>\n                              \n                            <td  ng-if="$ctrl.change" >\n                  \n                   <span class="h4"\n                            >\n                                                   <span\n                                        ng-show="result.with_total" class="label bold label-rounded label-default "\n                                      ng-class="(result.with_total|balanceColor:600)">\n                                                   {{result.with_total|countNumber}}</span></span>\n                                </td>\n                            <td  ng-if="!$ctrl.change" >\n                  \n                   <span class="h4"\n                            >\n                                                   <span\n                                        ng-show="result.total" class="label bold label-rounded label-default "\n                                      ng-class="(result.total|balanceColor:600)">\n                                                   {{result.total|countNumber}}</span></span>\n                                </td>\n                                <td      ng-show="$root.can(\'sales_customers.itemsBalance\')">\n                                      <a ng-if="$ctrl.change" class="btn btn-primary btn-sm  "\n                                           href="admin/accounting/itemsBalanceWith/{{$ctrl.type}}/{{$ctrl.itemId}}/{{result.with_journal}}"\n                                           ng-show="$root.can(\'sales_customers.itemsBalance\')"\n                                           target="_blank"\n                                      >الكشف \n                                            <i class="fa fa-battery-empty"></i>\n                                        </a>\n                                        \n                                     <a   ng-if="!$ctrl.change"  class="btn btn-info btn-sm  "\n                                           href="admin/accounting/itemsBalanceWith/{{result.with_type}}/{{result.with_id}}/{{result.id}}"\n                                           ng-show="$root.can(\'sales_customers.itemsBalance\')"\n                                           target="_blank"\n                                      >الكشف \n                                            <i class="fa fa-battery-empty"></i>\n                                        </a>\n                                  \n                                                </td>\n\n                            </tr>\n                            <tr ng-show="!$ctrl.items.length">\n                                <td class="noTableData" colspan="7">لايوجد عناصر</td>\n                            </tr>\n                            <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                    <td class="text-center" colspan="3">\n                        <h3 >جاري التحميل ...</h3>\n       \n\n                    </td>\n                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                       '}).component("accountsReport",{controller:["$scope","$element","$attrs","$timeout","dataFactory","uibDateParser",function(e,t,n,l,o,i){var s=this;s.loading=!1,s.filter={},s.templateUrl="",s.tableHtml="\n",s.load=function(){if(s.type){s.loading=!0,s.items=[],s.data=null;var e={type:s.type||null,g:s.group||null,v:s.version||1};o.httpRequest("index.php/admin/accounting/reportCompare","POST",e,{filter:s.filter}).then(function(e){try{s.items=e.items,s.data=e}catch(e){}}).finally(function(){s.loading=!1})}else s.loading=!1};var a=null;s.loadOnChange=function(){try{l.cancel(a)}catch(e){}a=l(function(){s.load()},100)},s.dateChange=function(){delete s.filter.dateRange,s.loadOnChange()},s.dateRangeChange=function(){delete s.filter.date,s.loadOnChange()},s.customerChange=function(){s.loadOnChange()},s.filterChange=function(){s.loadOnChange()},s.typeChange=function(){s.filter={},s.items=[],s.data=null},s.$onInit=function(){s.loaded||(s.loaded=!0),s.group||(s.group="def"),s.version||(s.version="1"),s.templateUrl="admin/accounting/reportCompare/template.html?g="+(s.group||"")+"&v="+(s.version||""),s.forid&&(s.filter.forId=s.forid||null),is_array(s.items)&&!is_undefined(s.items)||(s.loading=!0,l(function(){s.dateChange(s.date2)}))}}],bindings:{startDate:"<?",itemId:"<?",forid:"<?",type:"<?",items:"=?",group:"@?",version:"@?",title:"<?",change:"<?",loaded:"=?",openAll:"<?",openOne:"<?"},template:'\n\n        <div class="card-block col-lg-12 ">\n\n            <button class="mb-0 pull-left btn   mx-1 btn-info  card-block-input-item" ng-click="$ctrl.load($ctrl.items);"  type="button">\n                <i class="fa fa-refresh"></i> تحديث\n            </button>\n\n\n            <div  class="row p-0 m-0" >\n                <div  class="  col-2 ml-1 " >\n                    <div class="input-group ezz-datepicker">\n                        <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">نوع التقرير </div>\n                        </div>\n                        <select class="form-control custom-select  radius-end" ng-change="$ctrl.typeChange()"\n                                ng-model="$ctrl.type">\n                            <option value="">حدد نوع التقرير</option>\n                            <option value="daily">يومي</option>\n                            <option value="range">من/الى</option>\n                            <option value="account">عميل</option>\n                            <option value="accountMonthly">عميل شهري</option>\n                        </select>\n                    </div>\n                </div>\n                <div  ng-if="$ctrl.type &&  $ctrl.type!=\'account\' &&$ctrl.type!=\'accountMonthly\'"  class="  col-2 ml-1 " >\n                    <div class="input-group ezz-datepicker">\n                        <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">حسابات </div>\n                        </div>\n                        <select class="form-control custom-select  radius-end" ng-change="$ctrl.filterChange()"\n                                ng-model="$ctrl.filter.accType">\n                            <option value="">الكل</option>\n                            <option value="2">موزعين</option>\n                            <option value="1">مستشفيات</option>\n                        </select>\n\n                    </div>\n                </div>\n\n                <div ng-if="$ctrl.type==\'account\' ||$ctrl.type==\'accountMonthly\'" class="  col-4 ml-1 " >\n                    <div class="input-group ezz-datepicker">\n                        <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">العميل </div>\n                        </div>\n                        <select-ezz class="px-0  form-control  input-sm  ezz-field-input radius-end"\n                                    ng-model="$ctrl.filter.forId"\n                                    on-select="$ctrl.customerChange"\n                                    options="\'sales_customers\'"\n                                    title="العميل" style="padding: 0;margin: 0;" >\n                        </select-ezz>\n                    </div>\n                </div>\n\n                <div ng-if="$ctrl.type==\'daily\'" class="  col-3 ml-1 " >\n                    <ezz-date-edit on-change="$ctrl.dateChange" today="true" ng-model="$ctrl.filter.date"></ezz-date-edit>\n                </div>\n\n                <div ng-if="$ctrl.type==\'range\'" class="  col-2 ml-1 " >\n                    <ezz-date-edit on-change="$ctrl.dateChange" ng-model="$ctrl.filter.date"></ezz-date-edit>\n                </div>\n\n                <div ng-if="$ctrl.type==\'range\'"  class="  col-4 ml-1 " >\n                    <ezz-date-range-edit ng-model="$ctrl.filter.dateRange"  on-change="$ctrl.dateRangeChange" ></ezz-date-range-edit>\n                </div>\n            </div>\n\n\n            <div class="box-body mt-2" ng-show="$ctrl.items.length">\n                <div class="slide-animate" ng-include="$ctrl.templateUrl"></div>\n            </div>\n            <div class="box-body mt-2" ng-if="!$ctrl.items.length" >\n                <table   style="min-height: 200px" class="ezztable table ezz-border-all table-hover table-striped table-bordered text-center">\n                    <tr ng-show="!$ctrl.items.length && !$ctrl.loading">\n                        <td ng-show="$ctrl.type" class="noTableData p-10 h2"  colspan="20"><h2>لايوجد عناصر</h2></td>\n                        <td  ng-show="!$ctrl.type" class="noTableData p-10"  colspan="20"><h2>حدد نوع التقرير</h2></td>\n                    </tr>\n                    <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                        <td class="text-center" colspan="20"><h2>جاري التحميل ...</h2></td>\n                    </tr>\n                </table>\n            </div>\n\n            <panel ng-if="$ctrl.data.sql" class="col-lg-12 p-0 m-0" default="true">\n                <panel-title >sql   </panel-title>\n                <panel-body class="col-lg-12 row p-0 m-0">\n                    <textarea ng-model="$ctrl.data.sql" class="w-100"> </textarea>\n                </panel-body>\n            </panel>\n            \x3c!--        <panel ng-if="$ctrl.filter" class="col-lg-12 p-0 m-0" default="true">--\x3e\n            \x3c!--            <panel-title >filters   </panel-title>--\x3e\n            \x3c!--            <panel-body class="col-lg-12 row p-0 m-0">--\x3e\n            \x3c!--                                   <pre>{{$ctrl.filter}}</pre>--\x3e\n            \x3c!--            </panel-body>--\x3e\n            \x3c!--        </panel>--\x3e\n        </div>\n\n                       '}).component("countItems",{controller:["$scope","$element","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.load=function(){i.loading=!0,i.items=[],o.httpRequest("index.php/admin/accounting/countItems/"+i.type||0,"POST",{},i.filter||{}).then(function(e){try{i.items=e}catch(e){}}).finally(function(){i.loading=!1})},i.$onInit=function(){i.loaded||(i.loaded=!0);try{i.resolve&&(i.resolve.type&&(i.type=i.resolve.type||null),i.resolve.forId&&(i.store=i.resolve.forId||null),i.title=i.resolve.title||"تفاصيل الحركة",i.isModel=!0)}catch(e){}try{i.view_uuid=uuid.v1()}catch(e){}is_array(i.items)&&!is_undefined(i.items)||(i.loading=!0,l(function(){i.load()}))},i.loadData=function(){l(function(){i.load()})},i.cancel=function(){i.dismiss({$value:"cancel"})},i.getOrderDown=function(){try{return!parseInt(i.orderDown)}catch(e){return 1}},i.print=function(){try{i.todayDate=moment()}catch(e){}l(function(){try{$.print("."+i.view_uuid)}catch(e){}})};e.$watch("$ctrl.filter.date",function(e){try{l(function(){i.load()})}catch(e){}})}],bindings:{itemId:"<",type:"<",items:"=?",title:"@",change:"<?",loaded:"=?",withSum:"=?",openAll:"<?",store:"<?",openOne:"<?",resolve:"<",close:"&",dismiss:"&"},template:'\n     <div class=" card card-outline-danger m-0 p-1 ezz-card col-12 row p-0 m-0"  ng-class="$ctrl.view_uuid" dir="rtl">\n    <strong class="h4 ">\n\n        <strong class="mb-0 p-2 card-title label label-light-info text-black card-print-title"><strong>{{$ctrl.title}} </strong>\n     \n        </strong>\n   <check-field\n\n                                them="info"\n                                class="no-print pull-left mt-2 mr-1"\n                                name="ltr"\n                                ng-model="$ctrl.orderDown"\n                                t-value="1"\n                                f-value="0"\n                                title="تصاعدي"\n                        >\n                    <small>عكس</small>\n</check-field>\n        <button\n               ng-show="$ctrl.isModel" class="pull-left btn btn-danger mt-2 mr-1 " ng-click="$ctrl.cancel();"\n                type="button"><i\n                class="fa fa-close"></i> اغلاق\n        </button>\n        <button\n                class="   pull-left btn btn-info mt-2 mr-1" ng-click="$ctrl.load($ctrl.items);"\n                type="button"><i\n                class="fa fa-refresh"></i> تحديث\n        </button>\n        \n        <div\n                class="pull-left btn btn-primary mt-2  " ng-click="$ctrl.print();"\n                type="button"><i\n                class="fa fa-print"></i> طباعة\n        </div>\n           <div class="pull-left col-lg-3  col-sm-4 m-0" ng-show="$ctrl.type>1" ng-class="{\'no-print\':!$ctrl.filter.date}" >\n                        <ezz-date-edit  title="تاريخ"   \n                        ng-model="$ctrl.filter.date"></ezz-date-edit>\n\n                        </div>\n           <div class="pull-left col-lg-5  col-sm-6 m-0 mt-2"  ng-hide="$ctrl.type>1" ng-class="{\'no-print\':!$ctrl.filter.fromTo}" >\n                        <ezz-date-range-edit  title="تاريخ"   \n                        ng-model="$ctrl.filter.fromTo"></ezz-date-range-edit>\n\n                        </div>\n           <div class="pull-left  col-lg-3  col-sm-7  ml-1 mt-2 " ng-if="$ctrl.type!=1"  ng-class="{\'no-print\':!$ctrl.filter.customer}">\n                    <div class="input-group ezz-datepicker">\n                        <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">العميل </div>\n                        </div>\n                        \n                        <select-ezz class="px-0  form-control  input-sm  ezz-field-input radius-end"\n                                    ng-model="$ctrl.filter.customer"\n                                    on-change="$ctrl.loadData"\n                                    options="\'sales_customers\'"\n                                    title="العميل" style="padding: 0;margin: 0;" >\n                        </select-ezz>\n                    </div>\n                </div>\n    </strong>\n    <div class="box-body ">\n        <table class="ezz-border-all ezztable table-sticky table table-hover table-striped table-bordered text-center">\n            <thead>\n               <tr>\n                <th class="bg-light-info printSmall">م</th>\n                <th class="bg-light-info printSmall">الاسم</th>\n                <th class="bg-light-info printSmall">التاريخ</th>\n                <th class="bg-light-info printSmall"   ng-hide="!$ctrl.store"> العهده السابقة</th>\n               <th class="bg-light-info printSmall" ng-hide="$ctrl.store" > مليان سابق</th>\n                <th class="bg-light-info printSmall"   ng-hide="$ctrl.store"> فارغ سابق</th>\n                <th class="bg-light-info printSmall" >دخول</th>\n                <th class="bg-light-info printSmall"  ng-hide="$ctrl.store" >تعبئة</th>\n                <th class="bg-light-info printSmall" >خروج  مليان</th>\n                <th class="bg-light-info printSmall" >خروج فارغ</th>\n                <th class="bg-light-info printSmall"  >مرتجع مليان</th>\n                <th class="bg-light-info printSmall"   ng-hide="!$ctrl.store">المتبقي عهده</th>\n                <th class="bg-light-info printSmall"  ng-hide="$ctrl.store" >المتبقي مليان</th>\n                               <th class="bg-light-info printSmall"   ng-hide="$ctrl.store">المتبقي فارغ</th>\n <th class="bg-light-info printSmall" >م</th>\n            </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="result in $ctrl.items |orderBy:\'date\':$ctrl.getOrderDown() " >\n                <td>\n                    {{$index+1}}\n                </td>\n                <td>\n                    <strong  ng-show="result.id">\n                        <a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',result.id,\'c\')">\n                                    {{result.name }}\n                                </a>\n                                \n            \n                     </strong>\n                    <strong ng-show="!result.id">\n                               {{result.name }}\n            \n                     </strong>\n                </td>\n                \n                <td ><span class="px-1" style="white-space: nowrap;">{{result.date|dateSmall }}</span> </td>\n                <td  ng-hide="!$ctrl.store">\n                \n                                <span class="h5">\n                                                   <span ng-show="result.oldFact" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.oldFact|balanceColor:300)">\n                                                  {{result.oldFact}} \n                                                    </span>\n                                                    </span>\n              </td>\n                <td  ng-hide="$ctrl.store">\n                \n                                <span class="h5">\n                                                   <span ng-show="result.oldFull" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.oldFull|balanceColor:100)">\n                                                  {{result.oldFull}}\n                                                    </span>\n                                                    </span>\n              </td>\n                              <td  ng-hide="$ctrl.store">\n                \n                                <span class="h5">\n                                                   <span ng-show="result.oldEmpty" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.oldEmpty|balanceColor:300)">\n                                                  {{result.oldEmpty}}\n                                                    </span>\n                                                    </span>\n              </td>\n\n                <td >{{result.import}} </td>\n                <td  ng-hide="$ctrl.store">{{result.full}} </td>\n                <td >{{result.export}} </td>\n                <td >{{result.broken}} </td>\n                <td >{{result.back}} </td>\n                <td  ng-hide="!$ctrl.store">\n                <span class="h5">\n                                                   <span ng-show="result.todayFact" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.todayFact|balanceColor:300)">\n                                                  {{result.todayFact}} \n                                                    </span>\n                                                    </span>\n                \n                </td>\n                <td  ng-hide="$ctrl.store">\n                <span class="h5">\n                                                   <span ng-show="result.todayFull" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.todayFull|balanceColor:100)">\n                                                  {{result.todayFull}}\n                                                    </span>\n                                                    </span>\n                \n                </td>\n                                <td  ng-hide="$ctrl.store">\n                <span class="h5">\n                                                   <span ng-show="result.todayEmpty" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.todayEmpty|balanceColor:300)">\n                                                  {{result.todayEmpty}}\n                                                    </span>\n                                                    </span>\n                \n                </td>\n\n                <td>\n                    {{$index+1}}\n                </td>\n\n\n            </tr>\n                   <tr ng-if="$ctrl.items.length" class="bg-light-primary" style="background-color: #90CAF9">\n                <td class="bg-light-primary ">-</td>\n                <td class="bg-light-primary ">الاجمالي</td>\n                <td class="bg-light-primary ">-</td>\n                <td class="bg-light-primary "   ng-hide="!$ctrl.store">\n                  {{$ctrl.items|object2Array|sum:\'oldFact\'}}</td>\n                <td class="bg-light-primary "   ng-hide="$ctrl.store">-</td>\n                <td class="bg-light-primary " ng-hide="$ctrl.store" >-</td>\n                <td class="bg-light-primary " >\n            \n                {{$ctrl.items|object2Array|sum:\'import\'}}\n                </td>\n                <td class="bg-light-primary "  ng-hide="$ctrl.store" >\n           \n                {{$ctrl.items|sum:\'full\'}}\n                \n                </td>\n                <td class="bg-light-primary " >\n            \n                {{$ctrl.items|sum:\'export\'}}\n</td>\n                <td class="bg-light-primary " >\n               \n                {{$ctrl.items|sum:\'broken\'}}\n                </td>\n                <td class="bg-light-primary "  >\n                                   \n {{$ctrl.items|sum:\'back\'}}\n                </td>\n            <td class="bg-light-primary "   ng-hide="!$ctrl.store"> \n                  {{$ctrl.items|object2Array|sum:\'todayFact\'}}\n                   </td>\n                <td class="bg-light-primary "  ng-hide="$ctrl.store"><span ng-show="$ctrl.type==5"> {{$ctrl.items|sum:\'todayFull\'}}</span></td>\n                <td class="bg-light-primary "  ng-hide="$ctrl.store" ><span ng-show="$ctrl.type==5"> {{$ctrl.items|sum:\'todayEmpty\'}}</span></td>\n                <td class="bg-light-primary " >-</td>\n            </tr>\n\n            <tr ng-show="!$ctrl.items.length && !$ctrl.loading">\n                <td class="noTableData" colspan="15">لايوجد عناصر</td>\n            </tr>\n            <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                <td class="text-center" colspan="15">\n                    <h3>جاري التحميل ...</h3>\n\n\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n        <div dir="ltr" class="px-2 only-print" ng-if="$ctrl.todayDate">\n                    طبع بتاريخ\n                     :{{$ctrl.todayDate|dateFormat}}\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   المستخدم\n                     :{{$root.dashboardData.baseUser.fullName}}\n                     </div>\n</div>\n                       '}).component("countFillItems",{controller:["$scope","$element","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.orderDown=1,i.load=function(){i.loading=!0,i.items=[],o.httpRequest("index.php/admin/accounting/countItems/"+i.type||0,"POST",{},i.filter||{}).then(function(e){try{i.items=e}catch(e){}}).finally(function(){i.loading=!1})},i.$onInit=function(){i.loaded||(i.loaded=!0);try{i.resolve&&(i.resolve.type&&(i.type=i.resolve.type||null),i.resolve.forId&&(i.store=i.resolve.forId||null),i.title=i.resolve.title||"تفاصيل الحركة",i.isModel=!0)}catch(e){}try{i.view_uuid=uuid.v1()}catch(e){}is_array(i.items)&&!is_undefined(i.items)||(i.loading=!0,l(function(){i.load()}))},i.loadData=function(){l(function(){i.load()})},i.cancel=function(){i.dismiss({$value:"cancel"})},i.getOrderDown=function(){try{return!parseInt(i.orderDown)}catch(e){return 1}},i.print=function(){try{i.todayDate=moment()}catch(e){}l(function(){try{$.print("."+i.view_uuid)}catch(e){}})};e.$watch("$ctrl.filter.date",function(e){try{l(function(){i.load()})}catch(e){}})}],bindings:{itemId:"<",type:"<",items:"=?",title:"@",change:"<?",loaded:"=?",withSum:"=?",openAll:"<?",store:"<?",openOne:"<?",resolve:"<",close:"&",dismiss:"&"},template:'\n     <div class=" card card-outline-danger m-0 p-1 ezz-card col-12 row p-0 m-0"  ng-class="$ctrl.view_uuid" dir="rtl">\n    <strong class="h4 ">\n\n        <strong class="mb-0 p-2 card-title label label-light-info text-black card-print-title"><strong>{{$ctrl.title}} </strong>\n     \n        </strong>\n   <check-field\n\n                                them="info"\n                            ng-if="0"    class="no-print pull-left mt-2 mr-1"\n                                name="ltr"\n                                ng-model="$ctrl.orderDown"\n                                t-value="1"\n                                f-value="0"\n                                title="تصاعدي"\n                        >\n                    <small>عكس</small>\n</check-field>\n        <button\n               ng-show="$ctrl.isModel" class="pull-left btn btn-danger mt-2 mr-1 " ng-click="$ctrl.cancel();"\n                type="button"><i\n                class="fa fa-close"></i> اغلاق\n        </button>\n        <button\n                class="   pull-left btn btn-info mt-2 mr-1" ng-click="$ctrl.load($ctrl.items);"\n                type="button"><i\n                class="fa fa-refresh"></i> تحديث\n        </button>\n        \n        <div\n                class="pull-left btn btn-primary mt-2  " ng-click="$ctrl.print();"\n                type="button"><i\n                class="fa fa-print"></i> طباعة\n        </div>\n           <div class="pull-left col-lg-3  col-sm-4 m-0" ng-show="$ctrl.type>1" ng-class="{\'no-print\':!$ctrl.filter.date}" >\n                        <ezz-date-edit  title="تاريخ"   \n                        ng-model="$ctrl.filter.date"></ezz-date-edit>\n\n                        </div>\n           <div class="pull-left col-lg-5  col-sm-6 m-0 mt-2"  ng-hide="$ctrl.type>1" ng-class="{\'no-print\':!$ctrl.filter.fromTo}" >\n                        <ezz-date-range-edit  title="تاريخ"   \n                        ng-model="$ctrl.filter.fromTo"></ezz-date-range-edit>\n\n                        </div>\n           <div class="pull-left  col-lg-3  col-sm-7  ml-1 mt-2 " ng-if="$ctrl.type!=1"  ng-class="{\'no-print\':!$ctrl.filter.customer}">\n                    <div class="input-group ezz-datepicker">\n                        <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">العميل </div>\n                        </div>\n                        \n                        <select-ezz class="px-0  form-control  input-sm  ezz-field-input radius-end"\n                                    ng-model="$ctrl.filter.customer"\n                                    on-change="$ctrl.loadData"\n                                    options="\'sales_customers\'"\n                                    title="العميل" style="padding: 0;margin: 0;" >\n                        </select-ezz>\n                    </div>\n                </div>\n    </strong>\n    <div class="box-body ">\n        <table class="ezz-border-all ezztable table-sticky table table-hover table-striped table-bordered text-center">\n            <thead>\n               <tr>\n                <th class="bg-light-info printSmall">م</th>\n                <th class="bg-light-info printSmall">التاريخ</th>\n                <th class="bg-light-info printSmall" ng-hide="$ctrl.store" > مليان سابق</th>\n                <th class="bg-light-info printSmall"  ng-hide="$ctrl.store" >+ تعبئة</th>\n                <th class="bg-light-info printSmall" >+ مرتجع مليان</th>\n                <th class="bg-light-info printSmall" >= الاجمالي</th>\n                <th class="bg-light-info printSmall" >- خروج  مليان</th>\n                <th class="bg-light-info printSmall" ng-hide="$ctrl.store" >=  المتبقي مليان</th>\n\x3c!--                <th class="bg-light-info printSmall" >م</th>--\x3e\n            </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="result in $ctrl.items |orderBy:\'date\':$ctrl.getOrderDown() " >\n                <td>\n                    {{$index+1}}\n                </td>\n              \n                \n                <td ><span class="px-1" style="white-space: nowrap;">{{result.date|dateSmall }}</span> </td>\n             \n                <td  ng-hide="$ctrl.store">\n                \n                                <span class="h5">\n                                                   <span ng-show="result.oldFull" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.oldFull|balanceColor:100)">\n                                                  {{result.oldFull}}\n                                                    </span>\n                                                    </span>\n              </td>\n                          \n\n                        \n                 <td  ng-hide="$ctrl.store">{{result.full}} </td>\n                     <td >{{result.back}} </td>\n                     <td >\n                             <span class="h5">\n                                                   <span \n                                                   class="label bold label-rounded "\n                                                    ng-class="((result|sumFill)|balanceColor:300)">\n                                             {{result|sumFill}}\n                                                    </span>\n                                                    </span>\n                      </td>\n                <td >{{result.export}} </td>\n           \n                <td  ng-hide="$ctrl.store">\n                <span class="h5">\n                                                   <span ng-show="result.todayFull" \n                                                   class="label bold label-rounded "\n                                                    ng-class="(result.todayFull|balanceColor:100)">\n                                                  {{result.todayFull}}\n                                                    </span>\n                                                    </span>\n                \n                </td>\n                 \n\n\x3c!--                <td>--\x3e\n\x3c!--                    {{$index+1}}--\x3e\n\x3c!--                </td>--\x3e\n\n\n            </tr>\n                   <tr ng-if="$ctrl.items.length" class="bg-light-primary" style="background-color: #90CAF9">\n                <td class="bg-light-primary ">-</td>\n                <td class="bg-light-primary ">الاجمالي</td>\n              \n                <td class="bg-light-primary " ng-hide="$ctrl.store" >-</td>\n              \n                <td class="bg-light-primary "  ng-hide="$ctrl.store" >\n           \n                {{$ctrl.items|sum:\'full\'}}\n                \n                </td>\n                <td class="bg-light-primary " >\n            \n                {{$ctrl.items|sum:\'back\'}}\n</td>\n                <td class="bg-light-primary " >\n               \n             -\n                </td>\n                <td class="bg-light-primary "  >\n                                   \n {{$ctrl.items|sum:\'export\'}}\n                </td>\n          \n                <td class="bg-light-primary "  ng-hide="$ctrl.store">-</td>\n\x3c!--                <td class="bg-light-primary " >-</td>--\x3e\n            </tr>\n\n            <tr ng-show="!$ctrl.items.length && !$ctrl.loading">\n                <td class="noTableData" colspan="15">لايوجد عناصر</td>\n            </tr>\n            <tr ng-if="!($ctrl.items.length>0) && $ctrl.loading">\n                <td class="text-center" colspan="15">\n                    <h3>جاري التحميل ...</h3>\n\n\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n        <div dir="ltr" class="px-2 only-print" ng-if="$ctrl.todayDate">\n                    طبع بتاريخ\n                     :{{$ctrl.todayDate|dateFormat}}\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   المستخدم\n                     :{{$root.dashboardData.baseUser.fullName}}\n                     </div>\n</div>\n                       '}),angular.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["ص","م"],DAY:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],ERANAMES:["قبل الميلاد","ميلادي"],ERAS:["ق.م","م"],FIRSTDAYOFWEEK:6,MONTH:["يناير[1]","فبراير[2]","مارس[3]","أبريل[4]","مايو[5]","يونيو[6]","يوليو[7]","أغسطس[8]","سبتمبر[9]","أكتوبر[10]","نوفمبر[11]","ديسمبر[12]"],SHORTDAY:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],SHORTMONTH:["يناير[1]","فبراير[2]","مارس[3]","أبريل[4]","مايو[5]","يونيو[6]","يوليو[7]","أغسطس[8]","سبتمبر[9]","أكتوبر[10]","نوفمبر[11]","ديسمبر[12]"],STANDALONEMONTH:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],WEEKENDRANGE:[4,5],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"ريال",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤ ",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"ar",localeID:"ar",pluralCat:function(e,l){var o=0|e,i=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var l=Math.pow(10,n);return{v:n,f:(e*l|0)%l}}(e,l);return 1==o&&0==i.v?t:n}})}]);const inputFieldController=["$scope","$element","$attrs",function(e,t,n){var l=this;l.editMode=!0,l.$onInit=function(){l.required||(l.required=!1),1==l.isRequired&&(l.required=!0),l.fieldType||(l.fieldType="text")}}];var inputFieldBindings={ngModel:"=",title:"@?",required:"@?",isRequired:"<",viewMode:"<?",onEnter:"<?",placeholder:"@?",fieldType:"@?",name:"@?"};function getFirstHeaderInRowWs(e){for(var t=e.firstChild;t&&"TH"!==t.tagName;){if("TD"===t.tagName){t=null;break}t=t.nextSibling}return t}function getTRHeaders(e){return[].filter.call(e.children().children().children(),function(e){return"TH"===e.tagName})}function trUpdateTitle(e,t){var n=t&&t.textContent;!n||!e.getAttribute("data-title-override")&&e.getAttribute("data-title")||(e.setAttribute("data-title",n),e.setAttribute("data-title-override",n))}function wscolspan(e){var t=e.getAttribute("colspan");return t?parseInt(t):1}function ezzParser(e){var t=/^\s*(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){try{var l=n.match(t);return{itemName:l[1],source:e(l[2])}}catch(e){}return{itemName:"item",source:"items"}}}}function ezzOptions(){return{restrict:"A",require:"ezzRepeat",link:function(e,t,n,l){l.setOptionScope(e),e.$items=l.getItems()}}}function ezzRepeat(){return{restrict:"A",scope:!0,replace:!0,controller:["$attrs","$element","$compile","$scope","$scope","$scope","ezzParser",function(e,t,n,l,o,i,s){const a=this;a.items=[],a.searchItems=function(){var e,t=(e=i(function(){a.loading=!0,a.items=[]},5),{v:o.when(a.parsedOptions.source(a.optionScope)).then(function(e){a.items=e}).finally(function(){a.loading=!1,i.cancel(e)})});if("object"==typeof t)return t.v},a.parsedOptions=s.parse(e.ezzOptions),a.setOptionScope=function(e){a.optionScope=e,a.searchItems()},a.getItems=function(){return a.items},a.searchItems(),a.setNgModelCtrl=function(e){a.ngModelCtrl=e}}],controllerAs:"vm",bindToController:!0,compile:function(e,t){return function(e,t,n,l){e.$watch(e.vm.items,function(t){e.vm.$items=t,e.$items=t})}},link:(e,t,n)=>{ezzRepeatCtrl.setOptionScope(e)}}}angular.module("OraSchool").component("inputField",{controller:inputFieldController,bindings:inputFieldBindings,template:'    \n     <div class=" mt-2 col-lg-12  row ezz-field" >\n                             <div class="input-group ezz-datepicker"   ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required &&!$ctrl.viewMode}">\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n              \n <input class="form-control radius-end"  ng-model="$ctrl.ngModel" ng-enter="$ctrl.onEnter"\n                          str-to-date  np-integer placeholder="{{$ctrl.placeholder || \'اكتب \'+$ctrl.title}}" \n                          ng-required="$ctrl.required&&!$ctrl.viewMode"   type="{{$ctrl.fieldType || \'text\'}}"\n                            ng-disabled="$ctrl.viewMode"  style="text-align: center" ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}" \n                           >\n\n                </div>\n\n                     \n                            </div>\n                            </div>\n                       '}).component("datetimeField",{controller:inputFieldController,bindings:inputFieldBindings,template:'    \n     <div class=" mt-2 col-lg-12  row ezz-field" >\n                             <div class="input-group ezz-datepicker"   ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required &&!$ctrl.viewMode}">\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n              \n <input class="form-control radius-end"  ng-model="$ctrl.ngModel" \n                          str-to-date   placeholder="{{$ctrl.placeholder || \'اكتب \'+$ctrl.title}}" \n                          ng-required="$ctrl.required&&!$ctrl.viewMode"   type="datetime-local"\n                            ng-disabled="$ctrl.viewMode"  style="text-align: center;    background-color: #8098a3!important;color: #fdfffe!important;" ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}" \n                           >\n\n                </div>\n\n                     \n                            </div>\n                            </div>\n                       '}).component("numberField",{controller:inputFieldController,bindings:inputFieldBindings,template:'\n <div class=" mt-2 ">\n                            <div class="col-lg-12  row ezz-field" ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                              <label class="col-auto control-label ezz-field-label"> {{$ctrl.title}} <span ng-if="$ctrl.required">*</span></label>\n                                <input class="col text-center  form-control ezz-field-input "  ng-model="$ctrl.ngModel"\n                              dir="ltr"    np-integer placeholder="{{$ctrl.placeholder||$ctrl.title}}" ng-required="$ctrl.required"  type="{{$ctrl.fieldType || \'text\'}}" }}">\n                            </div>\n                            </div>\n                       '}).component("number2Field",{controller:inputFieldController,bindings:inputFieldBindings,template:'\n <div class=" mt-2 ">\n                            <div class="col-lg-12  row ezz-field" ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                              <label class="col-auto control-label ezz-field-label"> {{$ctrl.title}} <span ng-if="$ctrl.required">*</span></label>\n                                <input class="col text-center  form-control ezz-field-input "  ng-model="$ctrl.ngModel"\n                              dir="ltr"  onclick="this.select()"  np-integer placeholder="{{$ctrl.placeholder||$ctrl.title}}" ng-required="$ctrl.required"  type="{{$ctrl.fieldType || \'text\'}}" }}">\n                            </div>\n                            </div>\n                       '}).component("inputEdit",{controller:inputFieldController,bindings:inputFieldBindings,template:'\n <div class=" mt-2 "  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                            <input class="  form-control"  ng-model="$ctrl.ngModel"\n                                 str-to-date np-integer placeholder="{{$ctrl.title}}" ng-required="$ctrl.required"  type="{{$ctrl.fieldType || \'text\'}}" }}">\n</div>\n                       '}).component("inputAutosizeField",{controller:inputFieldController,bindings:inputFieldBindings,template:'\n     <div class=" mt-2 col-lg-12  row ezz-field" >\n      <div class="input-group ezz-datepicker"   ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n                    <textarea autosize  class=" form-control radius-end" ng-model="$ctrl.ngModel"\n                            placeholder="اكتب {{$ctrl.title}}"\n          ng-required="$ctrl.required"\n                              rows="{{$ctrl.rows||1}}" type="text" ></textarea>\n\n\n                </div>\n                </div>\n                       '}).component("inputAutosizeEdit",{controller:inputFieldController,bindings:inputFieldBindings,template:'\n\n <textarea autosize  class="col form-control ezz-field-input" ng-model="$ctrl.ngModel"\n                                            placeholder="{{$ctrl.title}}"\n                                             ng-required="$ctrl.required"\n                                             rows="1" type="{{$ctrl.fieldType || \'text\'}}" ></textarea>\n                       '}).component("inputAutosizeEdit2",{controller:inputFieldController,bindings:inputFieldBindings,template:'\n <textarea autosize  class="col form-control ezz-field-input radius-end" ng-model="$ctrl.ngModel"\n                                            placeholder="{{$ctrl.title}}"\n                                             ng-required="$ctrl.required"\n                                             rows="1" type="{{$ctrl.fieldType || \'text\'}}" ></textarea>\n                       '}).component("textareaField",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.editMode=!0,l.$onInit=function(){l.required||(l.required=!1),1==l.isRequired&&(l.required=!0),l.rows||(l.rows=1)}}],bindings:{ngModel:"=",title:"@?",required:"@?",isRequired:"<",rows:"@?",name:"@?"},template:'\n     <div class=" mt-2 col-lg-12  row ezz-field" >\n                             <div class="input-group ezz-datepicker"   ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n                    <textarea autosize  class=" form-control radius-end" ng-model="$ctrl.ngModel"\n                            placeholder="اكتب {{$ctrl.title}}"\n  ng-required="$ctrl.required"\n                              rows="{{$ctrl.rows||1}}" type="text" ></textarea>\n\n\n                </div>\n                </div>\n                       '}).component("viewField",{controller:["$scope","$element","$attrs",function(e,t,n){this.editMode=!0,this.$onInit=function(){}}],bindings:{ngModel:"=",title:"@?",name:"@?"},template:'\n \n <div class=" mt-2 col-lg-12  row ezz-field" >\n                             <div class="input-group ezz-datepicker"  >\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n  <div class="col form-control ezz-form-view ezz-field-input radius-end"\n                                         style="display:inline-block"\n                                      > {{$ctrl.ngModel}}</div>\n                </div>\n\n                     \n                            </div>\n                       '}).component("carField",{controller:["$scope","$element","$attrs",function(e,t,n){this.editMode=!0,this.$onInit=function(){}}],bindings:{ngModel:"=",subModel:"=?",title:"@?",name:"@?",required:"@?",isRequired:"<",viewMode:"<?"},template:'\n \n                          <div class=" mt-2 col-lg-12  row ezz-field" >\n       <div class="input-group ezz-datepicker">\n    <div class="input-group-prepend">\n\n        <div class="input-group-text2  radius-start  ">رقم السيارة</div>\n\n    </div>\n\n           <input class="  form-control  radius-non"  ng-model="$ctrl.ngModel"\n                               ng-disabled="$ctrl.viewMode"\n                               style="width: 30px" ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}"     \n                                 ng-integer placeholder="________" ng-required="$ctrl.required && !$ctrl.viewMode"  type="text">\n    <div class="input-group-prepend">\n\n        <div class=" input-group-text2  radius-non">/</div>\n   \n\n    </div>\n    \x3c!--       popup-placement="auto" --\x3e\n \n            <input class="  form-control  radius-end"  ng-model="$ctrl.subModel"\n                           ng-maxlength="2"     ng-disabled="$ctrl.viewMode" \n                          ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}"      ng-integer\n                           placeholder="__" ng-required="$ctrl.required && !$ctrl.viewMode"  type="text">\n</div>\n</div>\n                       '}).component("showField",{controller:["$scope","$element","$attrs",function(e,t,n){this.editMode=!0,this.$onInit=function(){}}],bindings:{title:"@?",name:"@?"},transclude:!0,template:'\n \n                             <div class=" mt-2 col-lg-12  row ezz-field" >\n                             <div class="input-group ezz-datepicker"  >\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n  <div class="col form-control ezz-form-view ezz-form-print ezz-field-input radius-end"\n                                         style="display:inline-block"\n                                      ><ng-transclude></ng-transclude></div>\n                </div>\n\n                     \n                            </div>\n                       '}).component("viewName",{controller:["$scope","$timeout","EzzFilter",function(e,t,n){var l=this;l.editMode=!0,l.isLoading=!0,l.$onInit=function(){l.startInit()},l.startInit=function(){is_undefined(l.title)&&(l.title="عنصر"),l.ngItem=null,l.item=null,t(function(){l.loadOptions()})},l.loadModel=function(e,t){var n=!1;l.ngModel&&angular.forEach(l.items,function(e){l.ngModel+""==e.id+""&&(l.ngItem=e,l.item=e,n=!0)}),n||(l.loadOptions(),l.loadModel2())},l.loadModel2=function(e,t){var n=!1;l.ngModel&&angular.forEach(l.items,function(e){l.ngModel+""==e.id+""&&(l.ngItem=e,l.item=e,n=!0)}),n||(l.ngItem=null,l.item=null)},l.loadOptions=function(e,o){t(function(){try{l.isLoading=!0,n.searchAsync2(l.options).then(function(e){l.items=e,t(function(){l.loadModel()})})}catch(e){}})};var o=e.$watch("$ctrl.ngModel",function(e){try{isNull(e)||(l.items||l.loadOptions(),l.loadModel())}catch(e){}});try{var i=e.$on("$onAddSelectItem",function(e,t){try{t==l.options&&(l.loadOptions(),l.loadModel())}catch(e){}});e.$on("$destroy",function(){try{i()}catch(e){}try{o()}catch(e){}})}catch(e){}}],bindings:{ngModel:"=",ngItem:"=?",options:"<"},template:"\n {{$ctrl.item.name ||$ctrl.ngModel || '' }}\n                       "}).component("selectEzzField",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.editMode=!0,l.$onInit=function(){try{l.required||(l.required=l.isRequired||!1)}catch(e){}}}],bindings:{ngModel:"=",settings:"<?",ngItem:"=?",onSelect:"<?",onChange:"<?",disabled:"<?",disabledMessage:"<?",customFilter:"<?",options:"<",viewMode:"<?",canAdd:"<?",isRequired:"<?",addModel:"@?",placeholder:"@?",title:"@"},template:'\n   <div class=" mt-2 col-lg-12  row ezz-field" ng-hide="$ctrl.viewMode">\n<div class="input-group ezz-datepicker" >\n                    <div class="input-group-prepend">\n                        <div class="input-group-text2 radius-start "  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required &&!$ctrl.viewMode}">{{$ctrl.title}} </div>\n                    </div>\n                    <select-ezz class="px-0  form-control  input-sm  ezz-field-input radius-end"\n                               add-model="{{$ctrl.addModel}}"\n                     tabindex="-1"     can-add="$ctrl.canAdd"\n                          ng-model="$ctrl.ngModel"\n                          ng-item="$ctrl.ngItem"\n                        disabled="$ctrl.disabled"  \n                        disabled-message="$ctrl.disabledMessage"  \n                        on-select="$ctrl.onSelect"\n                          on-change="$ctrl.onChange"\n                          custom-filter="$ctrl.customFilter"\n                          options="$ctrl.options"\n                          placeholder="$ctrl.placeholder"\n                          ng-required="$ctrl.isRequired"\n                          settings="$ctrl.settings"\n                          title="{{$ctrl.title}}"  style="padding: 0;margin: 0;" >\n                    </select-ezz>\n                </div>\n                </div>\n  <show-field  ng-if="$ctrl.viewMode"  title="{{$ctrl.title}}">  \n   <view-name ng-model="$ctrl.ngModel" options="$ctrl.options"></view-name>\n                                        </show-field>\n                                   \n                       '}).component("selectEzzEdit",{controller:["$scope","$element","$attrs",function(e,t,n){this.editMode=!0,this.$onInit=function(){}}],bindings:{ngModel:"=",settings:"<?",ngItem:"=?",onSelect:"<?",customFilter:"<?",options:"<",viewMode:"<?",canAdd:"<?",addModel:"@?",title:"@"},template:'\n      <select-ezz class="px-0 col ezz-field-input"\n        add-model="{{$ctrl.addModel}}"\n                          can-add="$ctrl.canAdd"\n                          ng-model="$ctrl.ngModel"\n                          ng-item="$ctrl.ngItem"\n                          on-select="$ctrl.onSelect"\n                          custom-filter="$ctrl.customFilter"\n                          options="$ctrl.options"\n                          settings="$ctrl.settings"\n                          title="{{$ctrl.title}}" ></select-ezz>\n                                   \n                       '}).component("selectField",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.editMode=!0,l.$onInit=function(){l.required||(l.required=!1),l.multiple||(l.multiple=!1)}}],bindings:{ngModel:"=",options:"<",title:"@?",multiple:"@?",required:"@?",name:"@?"},template:'\n <div class=" mt-2 ">\n                            <div class="col-lg-12  row ezz-field"  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                                 <label class="col-auto control-label ezz-field-label">{{$ctrl.title}}<span ng-if="$ctrl.required">*</span></label>\n                                   <sc-select\n                                        class="col p-0 ezzselect ezz-field-input" name="city" ng-model="$ctrl.ngModel"\n                                        placeholder="{{$ctrl.title}} "\n                                          multiple="$ctrl.multiple"\n                                        sc-options="item.id as item.name for item in $ctrl.options"></sc-select>\n\n                            </div>\n                            </div>\n                       '}).component("radiosField",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.editMode=!0,l.$onInit=function(){l.required||(l.required=!1)}}],bindings:{ngModel:"=",options:"<",title:"@?",onChange:"<?",multiple:"@?",small:"<?",api:"@?",required:"@?",name:"@?"},template:'\n\n                               <div class=" mt-2 col-lg-12  row ezz-field" >\n<div class="input-group ezz-datepicker"  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                    <div class="input-group-prepend">\n                        <div class="input-group-text2 radius-start ">{{$ctrl.title}} </div>\n                    </div>\n                 \n                     <btn-radios on-change="$ctrl.onChange" dir="ltr" style=" margin-right: 2px;" class=" p-0  ezz-field-input" \n                    \n                     ng-model="$ctrl.ngModel"  ng-required="$ctrl.required" items="$ctrl.options" api="$ctrl.api"  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}"></btn-radios>\n\n                </div>\n                </div>\n                       '}).component("radiosField2",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.editMode=!0,l.$onInit=function(){l.required||(l.required=!1)}}],bindings:{ngModel:"=",options:"<",title:"@?",multiple:"@?",small:"<?",api:"@?",required:"@?",name:"@?"},template:'\n <div class=" mt-2 ">\n                            <div class="   ezz-field"  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required,\'col-auto\' : $ctrl.small,\'row col-lg-12\' : !$ctrl.small}">\n                                 <label class="col-auto control-label ezz-field-label">{{$ctrl.title}}<span ng-if="$ctrl.required">*</span></label>\n\n <btn-radios class="col p-0  ezz-field-input text-center" ng-class="{\'col-auto\' : $ctrl.small}" ng-model="$ctrl.ngModel" items="$ctrl.options" api="$ctrl.api"></btn-radios>\n                            </div>\n                            </div>\n                       '}).component("selectSyncField2",{controller:["$scope","$element","$attrs","$timeout","EzzFilter",function(e,t,n,l,o){var i=this;i.editMode=!0,i.options2=[],i.ready=!1,i.$onInit=function(){i.required||(i.required=!1),i.multiple||(i.multiple=!1),l(function(){o.searchAsync2(i.options).then(function(e){i.options2=e,l(function(){i.ready=!0})})})},e.$watch("$ctrl.ngModel",function(e){l(function(){i.ngModel2!=e&&(i.ngModel2=e)},20)}),e.$watch("$ctrl.ngModel2",function(e){i.ngModel!=e&&(i.ngModel=e)}),e.$watch("$ctrl.options",function(e,t){e!==t&&null!==e&&l(function(){o.searchAsync2(i.options).then(function(e){i.options2=e,i.ready=!0})})})}],bindings:{ngModel:"=",options:"<",required:"@?",title:"@?",multiple:"@?",name:"@?"},template:'\n <div class=" mt-2 ">\n                            <div  ng-if="$ctrl.options2 && $ctrl.options" class="col-lg-12  row ezz-field"  \n                            ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                                <label class="col-auto control-label ezz-field-label">{{$ctrl.title}}<span ng-if="$ctrl.required">*</span></label>\n                                   <sc-select ng-if="$ctrl.ready"\n                                        class="col p-0 ezzselect ezz-field-input" name="city" ng-model="$ctrl.ngModel2"\n                                        placeholder="{{$ctrl.title}} "\n                                       multiple="$ctrl.multiple"\n                                             sc-options="item.id as item.name for item in $ctrl.options2"></sc-select>\n\n                            </div>\n                            </div>\n'}).component("selectSyncEdit",{controller:["$scope","$element","$attrs","$timeout","EzzFilter",function(e,t,n,l,o){var i=this;i.editMode=!0,i.options2=[],i.ready=!1,i.$onInit=function(){i.required||(i.required=!1),i.multiple||(i.multiple=!1),l(function(){o.searchAsync2(i.options).then(function(e){i.options2=e,l(function(){i.ready=!0})})})},e.$watch("$ctrl.ngModel",function(e){l(function(){i.ngModel2!=e&&(i.ngModel2=e)},20)}),e.$watch("$ctrl.ngModel2",function(e){i.ngModel!=e&&(i.ngModel=e)}),e.$watch("$ctrl.options",function(e,t){e!==t&&null!==e&&l(function(){o.searchAsync2(i.options).then(function(e){i.options2=e,i.ready=!0})})})}],bindings:{ngModel:"=",options:"<",required:"@?",title:"@?",multiple:"@?",name:"@?"},template:'\n <sc-select ng-if="$ctrl.ready"\n                                        class="p-0 ezzselect" name="city" ng-model="$ctrl.ngModel2"\n                                        placeholder="{{$ctrl.title}} "\n                                       multiple="$ctrl.multiple"\n                                             sc-options="item.id as item.name for item in $ctrl.options2"></sc-select>\n                       '}).component("selectItemEdit",{controller:["$scope","$element","$attrs","$timeout","EzzFilter",function(e,t,n,l,o){var i=this;i.optionsItems=[],i.ready=!1,i.callChange=function(){try{i.onChange()}catch(e){}},i.getRowsId=function(){if(is_undefined(i.rows))return[];if(!is_array(i.rows))return[];try{return i.rows.filter(function(e){try{return!is_undefined(e.itemId)}catch(e){return!1}}).map(function(e){try{return e.itemId+""||""}catch(e){return""}})}catch(e){}return[]},i.getItems=function(){try{return i.optionsItems}catch(e){}return i.optionsItems},i.$onInit=function(){i.required||(i.required=!1),i.multiple||(i.multiple=!1),l(function(){o.searchAsync2(i.options).then(function(e){i.optionsItems=e,l(function(){i.ready=!0})})})},e.$watch("$ctrl.options",function(e,t){e!==t&&null!==e&&l(function(){o.searchAsync2(i.options).then(function(e){i.optionsItems=e,i.ready=!0})})}),e.$watch("$ctrl.ngModel",function(e){try{i.onChange()}catch(e){}})}],bindings:{ngModel:"=",options:"<",rows:"<?",multi:"<?",required:"@?",isRequired:"<?",onChange:"&",title:"@?",multiple:"@?",name:"@?"},template:'\n\n  <div class="row px-0 mx-0"> \n           <label class="col-auto control-label ezz-field-label hidden-md-up">{{$ctrl.title}}</label>\n\n <select class="col   form-control custom-select text-center" ng-required="$ctrl.isRequired"  ng-model="$ctrl.ngModel" style="    background-color: white;"\n   ng-options="item.id as item.name for item in $ctrl.getItems()" ng-change="$ctrl.callChange()"\n >\n  <option value="">-- اختر {{$ctrl.title}} --</option>\n                                </select>\n                  </div>\n  '}).component("selectSmallEdit",{controller:["$scope","$element","$attrs","$timeout","EzzFilter",function(e,t,n,l,o){var i=this;i.optionsItems=[],i.ready=!1,i.callChange=function(){try{i.onChange()}catch(e){}},i.$onInit=function(){if(i.required||(i.required=!1),i.multiple||(i.multiple=!1),is_array(i.options))return i.optionsItems=i.options,void(i.ready=!0);l(function(){o.searchAsync2(i.options).then(function(e){i.optionsItems=e,l(function(){i.ready=!0})})})},e.$watch("$ctrl.options",function(e,t){if(e!==t&&null!==e){if(is_array(e))return i.optionsItems=e,void(i.ready=!0);l(function(){o.searchAsync2(i.options).then(function(e){i.optionsItems=e,i.ready=!0})})}}),e.$watch("$ctrl.ngModel",function(e){try{i.onChange()}catch(e){}})}],bindings:{ngModel:"=",options:"<",required:"@?",onChange:"<?",title:"@?",multiple:"@?",name:"@?"},template:'\n <select class="form-control custom-select"  ng-model="$ctrl.ngModel" \n   ng-options="item.id as item.name for item in $ctrl.optionsItems" ng-change="$ctrl.callChange()"\n >\n  <option value="">-- اختر {{$ctrl.title}} --</option>\n </select>\n\n  '}).component("selectSmallField",{controller:["$scope","$element","$attrs","$timeout","EzzFilter",function(e,t,n,l,o){var i=this;(i=this).optionsItems=[],i.ready=!1,i.callChange=function(){try{i.onChange()}catch(e){}},i.$onInit=function(){if(i.required||(i.required=!1),i.multiple||(i.multiple=!1),is_array(i.options))return i.optionsItems=i.options,void(i.ready=!0);l(function(){o.searchAsync2(i.options).then(function(e){i.optionsItems=e,l(function(){i.ready=!0})})})},e.$watch("$ctrl.options",function(e,t){if(e!==t&&null!==e){if(is_array(e))return i.optionsItems=e,void(i.ready=!0);l(function(){o.searchAsync2(i.options).then(function(e){i.optionsItems=e,i.ready=!0})})}}),e.$watch("$ctrl.ngModel",function(e){try{i.onChange()}catch(e){}})}],bindings:{ngModel:"=",options:"<",required:"@?",title:"@?",multiple:"@?",name:"@?"},template:'\n <div class=" mt-2 ">\n                            <div class="col-lg-12  row ezz-field"  \n                            ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                                <label class="col-auto control-label ezz-field-label">{{$ctrl.title}}<span ng-if="$ctrl.required">*</span></label>\n            <select class="col form-control custom-select    ezz-field-input"  ng-model="$ctrl.ngModel" \n   ng-options="item.id as item.name for item in $ctrl.optionsItems" ng-change="$ctrl.callChange()"\n >\n  <option value="">-- اختر {{$ctrl.title}} --</option>\n </select>\n                            </div>\n                            </div>\n                       '}).component("selectSyncField",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.editMode=!0,o.$onInit=function(){o.required||(o.required=!1),o.multiple||(o.multiple=!1)}}],bindings:{ngModel:"=",options:"<",required:"@?",title:"@?",multiple:"@?",name:"@?"},template:'\n <div class=" mt-2 ">\n                            <div class="col-lg-12  row ezz-field"  \n                            ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                                <label class="col-auto control-label ezz-field-label">{{$ctrl.title}}<span ng-if="$ctrl.required">*</span></label>\n                                   <sc-select \n                                        class="col p-0 ezzselect ezz-field-input" name="city" ng-model="$ctrl.ngModel"\n                                        placeholder="{{$ctrl.title}} "\n                                       multiple="$ctrl.multiple"\n                                             sc-options="item.id as item.name for item in $root.$EzzFilter.searchAsync($ctrl.options, searchText, page)"></sc-select>\n\n                            </div>\n                            </div>\n                       '}).component("multiCheckInput",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.$onInit=function(){o.required||(o.required=!1),o.cols||(o.cols=6),o.disabledItems||(o.disabledItems=[]),is_undefined(o.canShow)&&(o.canShow=function(){return!0}),o.refreshSelectedItems()},o.changeCheck=function(e){var t=o.getIndexOf(e);-1!==t?o.getSelectedValues().splice(t,1):o.getSelectedValues().push(e+""),o.refreshSelectedItems()},o.isDisabled=function(e){return!!angular.isArray(o.disabledItems)&&o.disabledItems.includes(e+"")},o.getSelectedValues=function(){return is_undefined(o.ngModel)&&(o.ngModel=[]),is_array(o.ngModel)||(o.ngModel=[]),o.ngModel},o.getIndexOf=function(e){return o.getSelectedValues().map(function(e){return e+""}).indexOf(e+"")},o.isChecked=function(e){return-1!==o.getIndexOf(e)},o.startShowAdd=function(e){try{o.onAdd&&o.onAdd()}catch(e){logCatch(e)}},o.refreshItems=function(){try{o.onRefresh&&o.onRefresh()}catch(e){logCatch(e)}},e.$watch("$ctrl.options",function(e){try{if(!isNull(e)){var t=[];angular.forEach(o.options,function(e){o.isChecked(e.id)&&t.push(e)}),o.ngItems=t}}catch(e){logCatch(e)}}),o.refreshSelectedItems=function(){try{var e=[];angular.forEach(o.options,function(t){o.isChecked(t.id)&&e.push(t)}),o.ngItems=e}catch(e){logCatch(e)}}}],bindings:{ngModel:"=",ngItems:"=?",options:"=",dblSelect:"<?",oneSelect:"<?",onAdd:"<?",onRefresh:"<?",isLoading:"<?",disabledItems:"<?",refreshItems:"<?",canShow:"<?",canAdd:"<?",title:"@?",cols:"@?"},template:'\n  \n         <div class=" row mb-2 mx-0" >\n              \n\n               <h3 class="col-lg-6 col-sm-12   "><span>{{$ctrl.title}}</span></h3>\n               <div class="col-lg-6 col-sm-12 row pl-0" >\n           \n                <div class="col-auto   mr-1 p-0">\n                 <button  class=" btn  btn-success card-block-input-item mr-1" ng-click="$ctrl.startShowAdd()"\n                        ng-show="$ctrl.canAdd" title="اضافة" tooltip>اضافة\n                </button>\n                 <button ng-show="$ctrl.onRefresh" class="btn  btn-info card-block-input-item mr-1" ng-click="$ctrl.refreshItems()"><i\n                        class="fa fa-refresh"></i>\n                 </button>\n                </div>\n                <div class="col   p-0 mr-2">\n                    <input class="form-control " type="search" ng-model="$ctrl.searchPageText" placeholder="البحث ...">\n                </div>\n                \n                \n               </div>\n      </div>\n<div class="row mx-0">\n            <div class="col-lg-{{$ctrl.cols || \'6\'}} p-0 px-1" ng-repeat="user in $ctrl.options |  object2Array | filter:$ctrl.searchPageText" ng-show="$ctrl.canShow(user)">\n                <div class="list-group-item px-0 py-1 ezz-select-item  " ng-class="{\'bg-light-success\':$ctrl.isChecked(user.id),\'disabled\':$ctrl.isDisabled(user.id),\'pointer\':!$ctrl.isDisabled(user.id)}">\n                    <div class="row  mx-0 align-items-center "\n                     >\n                        <div class="col m-0 pl-0 pr-1" ng-dblclick="$ctrl.changeCheck(user.id,user)"\n                     ng-click="$ctrl.changeCheck(user.id,user)">\n                            <strong class="d-block  text-sm mb-0 ">{{user.name}}</strong>\n                            <small class="d-block  text-sm mb-0" ng-show="user.desc">{{user.desc}}</small>\n                        </div>\n                        <div class="col-auto text-right add_usr selected" ng-hide="$ctrl.isDisabled(user.id)" >\n                            <button type="button" ng-dblclick="$ctrl.dblChangeCheck(user.id,user)" ng-click="$ctrl.changeCheck(user.id,user)" class="btn btn-xs btn-animated btn-primary rounded-pill btn-animated-y mr-1 py-1"\n                                    ng-class="{\'btn-info\':$ctrl.isChecked(user.id),\'btn-primary\':!$ctrl.isChecked(user.id)}"\n                            >\n                            <span class="btn-inner--visible mx-2">\n                              <i class="fas fa-check" ng-class="{\'fa-check\':$ctrl.isChecked(user.id),\'fa-plus\':!$ctrl.isChecked(user.id)}" ></i>\n                            </span>\n                                <span class="btn-inner--hidden" id="usr_txt_2">{{($ctrl.isChecked(user.id))?\'موافق\':\'تحديد\'}}</span>\n                            </button>\n                        </div>\n                          <div class="col-auto text-right add_usr selected" ng-hide="!$ctrl.isDisabled(user.id)" >\n                          تم الاختيار سابقا\n                        </div>\n                        \n                    </div>\n                </div>\n                \n            </div>\n              <div class="mt-2 h3 col-lg-12 text-danger text-center" ng-show="!(($ctrl.options |  object2Array | filter:$ctrl.searchPageText).length>0)">\n                 \n                 <span ng-show="!$ctrl.searchPageText && !$ctrl.isLoading">لايوجد عناصر</span>\n                 <span ng-show="!$ctrl.searchPageText && $ctrl.isLoading">جاري التحميل</span>\n                 <span ng-show="$ctrl.searchPageText">لم يتم العثور على عناصر\n                 </span>\n                </div>\n        </div>\n                       '}).component("oneCheckInput",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.$onInit=function(){o.required||(o.required=!1),o.cols||(o.cols=6),o.disabledItems||(o.disabledItems=[]),o.customFilter||(o.customFilter={}),is_undefined(o.canShow)&&(o.canShow=function(){return!0})},o.dblChangeCheck=function(e,t){o.ngItem=t,o.ngModel=e;try{o.dblSelect(e,t)}catch(e){logCatch(e)}o.searchPageText=""},o.dblChangeCheckOne=function(e,t){if(!o.isDisabled(e)){o.ngItem=t,o.ngModel=e;try{o.dblSelect(e,t)}catch(e){logCatch(e)}o.searchPageText=""}},o.changeCheck=function(e,t){if(o.ngModel+""==e+"")try{o.oneSelect&&o.oneSelect(e,t)}catch(e){logCatch(e)}else{o.ngItem=t,o.ngModel=e;try{o.oneSelect&&o.oneSelect(e,t)}catch(e){logCatch(e)}}o.searchPageText=""},o.selectOneClick=function(e,t){o.ngModel+""==e+""||(o.ngItem=t,o.ngModel=e)},o.isDisabled=function(e){return!!angular.isArray(o.disabledItems)&&o.disabledItems.includes(e+"")},o.isChecked=function(e){return e+""==o.ngModel},o.startShowAdd=function(e){try{o.onAdd&&o.onAdd()}catch(e){logCatch(e)}},o.refreshItems=function(){try{o.onRefresh&&o.onRefresh()}catch(e){logCatch(e)}},e.$watch("$ctrl.options",function(e){try{isNull(e)||angular.forEach(e,function(e){o.isChecked(e.id)&&(o.ngItem=e)})}catch(e){logCatch(e)}})}],bindings:{ngModel:"=",ngItem:"=?",options:"=",dblSelect:"<?",oneSelect:"<?",customFilter:"<?",onAdd:"<?",onRefresh:"<?",isLoading:"<?",disabledItems:"<?",refreshItems:"<?",canShow:"<?",canAdd:"<?",title:"@?",cols:"@?"},template:'\n  \n         <div class=" row mb-2" >\n              \n\n               <h3 class="col-lg-6 col-sm-12   "><span>{{$ctrl.title}}</span></h3>\n               <div class="col-lg-6 col-sm-12 row pl-0" >\n           \n                <div class="col-auto   mr-1 p-0">\n                 <button  class=" btn  btn-success card-block-input-item mr-1" ng-click="$ctrl.startShowAdd()"\n                        ng-show="$ctrl.canAdd" title="اضافة" tooltip>اضافة\n                </button>\n                 <button ng-show="$ctrl.onRefresh" class="btn  btn-info card-block-input-item mr-1" ng-click="$ctrl.refreshItems()"><i\n                        class="fa fa-refresh"></i>\n                 </button>\n                </div>\n                <div class="col   p-0 mr-2">\n                    <input class="form-control " type="search" ng-model="$ctrl.searchPageText" placeholder="البحث ...">\n                </div>\n                \n                \n               </div>\n      </div>\n<div class="row">\n            <div class="col-lg-{{$ctrl.cols || \'6\'}} p-0 px-1"   \n              ng-dblclick="$ctrl.dblChangeCheckOne(user.id,user)"\n                     ng-click="$ctrl.changeCheck(user.id,user)" ng-repeat="user in $ctrl.options |  object2Array | filter:$ctrl.searchPageText| filter:$ctrl.customFilter:true" ng-show="$ctrl.canShow(user)">\n                <div class="list-group-item px-0 py-0 ezz-select-item  " ng-class="{\'bg-light-success\':$ctrl.isChecked(user.id),\'disabled\':$ctrl.isDisabled(user.id),\'pointer\':!$ctrl.isDisabled(user.id)}">\n                    <div class="row  mx-0 align-items-center "\n                 \n                     >\n\x3c!--                                  ng-click="$ctrl.selectOneClick(user.id,user)"--\x3e\n                        <div class="col ml-n2">\n                            <strong class="d-block  text-sm mb-0 ">{{user.name}}</strong>\n                            <small class="d-block  text-sm mb-0" ng-show="user.desc">{{user.desc}}</small>\n                        </div>\n                        <div class="col-auto text-right add_usr selected" ng-hide="$ctrl.isDisabled(user.id)" >\n                            <button type="button" ng-dblclick="$ctrl.dblChangeCheck(user.id,user)" ng-click="$ctrl.changeCheck(user.id,user)" class="btn btn-xs btn-animated btn-primary rounded-pill btn-animated-y mr-1 py-1"\n                                    ng-class="{\'btn-info\':$ctrl.isChecked(user.id),\'btn-primary\':!$ctrl.isChecked(user.id)}"\n                            >\n                            <span class="btn-inner--visible mx-2">\n                              <i class="fas fa-check" ng-class="{\'fa-check\':$ctrl.isChecked(user.id),\'fa-plus\':!$ctrl.isChecked(user.id)}" ></i>\n                            </span>\n                                <span class="btn-inner--hidden" id="usr_txt_2">{{($ctrl.isChecked(user.id))?\'موافق\':\'تحديد\'}}</span>\n                            </button>\n                        </div>\n                          <div class="col-auto text-right add_usr selected" ng-hide="!$ctrl.isDisabled(user.id)" >\n                          تم الاختيار سابقا\n                        </div>\n                        \n                    </div>\n                </div>\n                \n            </div>\n              <div class="mt-2 h3 col-lg-12 text-danger text-center" ng-show="!(($ctrl.options |  object2Array | filter:$ctrl.searchPageText).length>0)">\n                 \n                 <span ng-show="!$ctrl.searchPageText && !$ctrl.isLoading">لايوجد عناصر</span>\n                 <span ng-show="!$ctrl.searchPageText && $ctrl.isLoading">جاري التحميل</span>\n                 <span ng-show="$ctrl.searchPageText">لم يتم العثور على عناصر\n                 </span>\n                </div>\n        </div>\n                       '}).component("changeStatus",{controller:["$scope","$element","$attrs","dataFactory",function(e,t,n,l){var o=this;o.changeStatus=function(){var e="green",t="btn-green",n="سيتم تغيير حالة العنصر  هل انت متأكد ؟";if(2==o.ngModel){n="سيتم الموافقة على الطلب  هل انت متأكد ؟";e="red";t="btn-red"}else if(0==o.ngModel)n="سيتم التفعيل  هل انت متأكد ؟";else if(1==o.ngModel){n="سيتم التعطيل  هل انت متأكد ؟";e="red";t="btn-red"}else n="سيتم تغيير حالة العنصر  هل انت متأكد ؟";$.confirm({title:"تغيير حالة العنصر ؟؟",content:n,type:e,buttons:{yes:{text:"حسنا",btnClass:t,keys:["enter"],action:function(){showHideLoad(),l.httpRequest("index.php/admin/"+o.url+"/active/"+o.itemId,"POST",{},{}).then(function(e){apiResponse(e,"edit"),"success"==e.status&&(o.ngModel=e.active),showHideLoad(!0)})}},cancel:{text:"الغاء",action:function(){return!0}}}})},o.changeStatusReq=function(){var e="";e=2==o.ngModel?"سيتم الغاء  الطلب  هل انت متأكد ؟":0==o.ngModel?"سيتم  ارسال طلب تفعيل  هل انت متأكد ؟":"سيتم تغيير حالة العنصر  هل انت متأكد ؟",$.confirm({title:"تغيير حالة العنصر ؟؟",content:e,type:"green",buttons:{yes:{text:"حسنا",btnClass:"btn-green",keys:["enter"],action:function(){showHideLoad(),l.httpRequest("index.php/admin/"+o.url+"/activereq/"+o.itemId,"POST",{},{}).then(function(e){apiResponse(e,"edit"),"success"==e.status&&(o.ngModel=e.active),showHideLoad(!0)})}},cancel:{text:"الغاء",action:function(){return!0}}}})},o.editMode=!0,o.$onInit=function(){o.ngModel||(o.ngModel=0),o.url||(o.url=o.table),is_undefined(o.hideTitle)&&(o.hideTitle=!1)}}],bindings:{ngModel:"=",itemId:"<",table:"<",url:"<",hideTitle:"<"},template:"\n\n                            <small ng-class=\"{'color_red':$ctrl.ngModel=='0','text-primary':$ctrl.ngModel=='2','color_green':$ctrl.ngModel=='1'}\"\n                                     ng-show=\"!$ctrl.hideTitle && ($root.can($ctrl.table+'.Active') || $root.can($ctrl.table+'.ActiveReq'))\">\n                                    <i class=\"fa fa-clock-o \"></i>\n                                    <span ng-show=\"$ctrl.ngModel==2\">بانتظار التفعيل</span><span\n                                        ng-show=\"$ctrl.ngModel===1\"> مفعل </span> <span ng-show=\"$ctrl.ngModel==0\"> معطل </span>\n                                </small>\n                                <button class=\"btn btn-sm\"\n                                        ng-class=\"{'btn-warning':$ctrl.ngModel=='0','btn-primary':$ctrl.ngModel=='2','btn-danger':$ctrl.ngModel=='1'}\" \n                                        ng-click=\"$ctrl.changeStatus(invoice,$index)\"\n                                        ng-show=\" $root.can($ctrl.table+'.Active')\" title=\"{{phrase.toggleStatus}}\"  type=\"button\">\n                                    <span ng-show=\"$ctrl.ngModel=='0'\"> تفعيل </span> <span\n                                        ng-show=\"$ctrl.ngModel=='1'\"> تعطيل </span> <span\n                                        ng-show=\"$ctrl.ngModel=='2'\"> الموافة على الطلب </span> <i\n                                        class=\"fa fa-lightbulb-o\"></i></button>\n\n                                <button class=\"btn btn-sm\"\n                                        ng-click=\"$ctrl.changeStatusReq(invoice,$index)\" ng-show=\"($ctrl.ngModel=='0' || $ctrl.ngModel=='2')&& !$root.can($ctrl.table+'.Active') && $root.can($ctrl.table+'.ActiveReq')\"\n                                        title=\"{{phrase.toggleStatus}}\"  type=\"button\"><span\n                                        ng-show=\"$ctrl.ngModel=='2'\"> الغاء الطلب </span> <span\n                                        ng-show=\"$ctrl.ngModel=='0'\"> طلب تفعيل </span> <i\n                                        class=\"fa fa-lightbulb-o\"></i></button>\n                       "}).component("dynamicForm",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.$onInit=function(){l.ngModel||(l.ngModel={})}}],bindings:{ngModel:"=",fields:"<",action:"<",title:"@?",type:"@?",name:"@?"},template:'\n<div class="row">\n    <h4 class="col-lg-12"> {{$ctrl.title}}</h4>\n <span   ng-switch="field.type" ng-repeat="field in $ctrl.fields" ng-if="field.type" class="{{field.size || \'col-lg-6\'}}"  >\n  <input-field ng-switch-when="input" name="{{field.name}}"  ng-model="$ctrl.ngModel[field.name]" field-type="{{field.dataType||\'text\'}}" title="{{field.title || field.name}}"  is-required="field.required"></input-field>\n  <textarea-field ng-switch-when="textarea" name="{{field.name}}"  ng-model="$ctrl.ngModel[field.name]" title="{{field.title || field.name}}"  is-required="field.required"></textarea-field>\n  <textarea-field ng-switch-when="html" name="{{field.name}}"  ng-model="$ctrl.ngModel[field.name]" title="{{field.title || field.name}}"  is-required="field.required"></textarea-field>\n  <input-field ng-switch-default name="{{field.name}}"  ng-model="$ctrl.ngModel[field.name]" field-type="{{field.type||\'text\'}}" title="{{field.title || field.name}}"  is-required="field.required"></input-field>\n </span>\n    {{$ctrl.ngModel| json:4}}\n\n\n</div>\n                       '}).component("preloader",{bindings:{loader:"="},controller:function(){this.$onInit=function(){}},template:'\n<div class="preloader"  style=" top: auto;opacity: 0.9;display: none;margin-right: -16px;margin-left: -16px;" ng-class="{\'noLoader\':!$ctrl.loader.isOpen,\'showLoader\':$ctrl.loader.isOpen}">\n    <div class="circular " style="animation:unset;top: 30px;left: unset;right: 30px;bottom: unset;width: auto;"><svg viewBox="25 25 50 50" class="circular " style="top: unset;left: unset;right: unset; bottom: unset;">\n            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>\n        </svg><br><br>\n        <div class="row mt-3">\n                <span ng-click="$ctrl.loader.close()" ng-show="$ctrl.loader.showClose" class="mx-2 btn btn-outline-primary btn-circle btn-sm btn-smx">\n                    <i class="fa fa-close"></i>\n                </span>\n            <span >{{$ctrl.loader.text || \'جاري التحميل ...\'}}</span>\n        </div>\n    </div>\n</div>\n          '}).component("toggleShow",{bindings:{hide:"=?",default:"<?",small:"@?"},controller:function(){var e=this;e.$onInit=function(){is_undefined(e.default)||(e.hide=e.default)},e.toggleShow=function(){e.hide=!e.hide}},template:'\n  <div \n         ng-click="$ctrl.toggleShow()"\n         class="    btn   my-0 mx-1  no-print" ng-class="{\'btn-danger\':!$ctrl.hide,\'btn-info\':$ctrl.hide,\'btn-sm\':$ctrl.small}">\n         <span ng-show="!$ctrl.hide">اخفاء  <i class="fa fa-eye-slash"></i></span>\n         <span ng-show="$ctrl.hide">عرض  <i class="fa fa-eye"></i></span>\n         </div>\n          '}).component("labelValue",{transclude:!0,bindings:{title:"@",full:"<?",color:"@?",size:"@?"},template:'\n<table ng-class="{\'w-100\':$ctrl.full}">\n    <tbody><tr class="h{{$ctrl.size||\'5\'}} py-1 res-p-0 ml-1" style="display: flex;padding: 0;margin: 0;">\n <td class="label col-auto bold label-rounded label-default bg-100 bg-{{$ctrl.color || \'green\'}}-100 " style="\n    border: 1px solid #0000006b;\n    border-radius: 3px;\n    text-align: center;\n    border-top-left-radius: unset;\n    border-bottom-left-radius: unset;\n    padding-top:  3px!important;\n    padding-bottom:  3px!important;\n"><span style="height: 100%;vertical-align: middle;">{{$ctrl.title}}</span></td>\n        <td class="label col  bold label-rounded label-default" style="\n    background-color: #fdfdfd!important;\n    color: black;\n    border-radius: 3px;\n    border-top-right-radius: unset;\n    border-bottom-right-radius: unset;\n    border: 1px solid #0000006b;\n    padding-top:  3px!important;\n    padding-bottom: 3px!important;\n    left: 1px;\n"><span> <ng-transclude></ng-transclude></span></td>\n    </tr>\n</tbody></table>\n          '}).component("btnRadios",{bindings:{ngModel:"=",onChange:"<?",ngItem:"=?",items:"=?",api:"=?"},controller:["$scope","EzzFilter",function(e,t){var n=this;n.isOne=!1,n.$onInit=function(){is_undefined(n.api)||is_undefined(n.items)&&t.searchAsync2(n.api).then(function(e){n.items=e})},e.$watch("$ctrl.api",function(e){is_undefined(n.api)||null==n.api||""==n.api||t.searchAsync2(n.api).then(function(e){n.items=e})}),n.select=function(e){n.ngModel=e.id,n.ngItem=e;try{n.onChange(e.id,e)}catch(e){}}}],template:'\n<div  ng-show="$ctrl.isOne">   {{$ctrl.ngItem.text ||$ctrl.ngItem.name}}     </div>\n\n<div class="btn-group" style="display: inline-block;" ng-show="!$ctrl.isOne">\n            <span ng-repeat="item in $ctrl.items" style="height: 30px!important" class="btn btn-outline btn-outline-info " \n            ng-class="{\'bg-red-500 bg-500\':($ctrl.ngModel==item.id&& item.isRed),\'active\':$ctrl.ngModel==item.id,\'text-black\':$ctrl.ngModel!=item.id,}"  ng-click="$ctrl.select(item)" >\n                <strong>{{item.text ||item.name}}</strong>\n                <i class="fa fa-check" ng-show="$ctrl.ngModel==item.id"></i>\n            </span>\n        </div>\n          '}).component("colors",{transclude:!0,bindings:{title:"@",color:"=?",selected:"=?",colorText:"=?",size:"=?"},controller:function(){var e=this;e.bgColorsBase=["grey","red","green","light-green","yellow","blue","blue-grey","pink","indigo","cyan","amber","brown","purple","deep-purple","teal","lime","orange","deep-orange"],e.bgColorsSize=["50","100","200","300","400","500","600","700","800","900"],e.colors=[],e.$onInit=function(){},e.selectColor=function(t,n){e.selected=t+"-"+n,e.colorText="bg-"+n+" bg-"+t+"-"+n,e.color=t,e.size=n},e.selected=null},template:'\n<style>\n.color-selected {\n    border: 2px solid #ff5722!important;\n}\n.color-row {\n    border: 2px solid transparent;\n}\n   \n</style>\n\n <div class=" col-8 row p-0" >\n <view-field class="col-lg-12" title="colorText" ng-model="$ctrl.colorText"></view-field>\n<view-field  class="col-lg-6"  title="color" ng-model="$ctrl.color"></view-field>\n<view-field  class="col-lg-6" title="size" ng-model="$ctrl.size"></view-field>\n </div>\n <div class="col-md-12 pt-2" >\n    <div class="raw p-1" ng-repeat="color in $ctrl.bgColorsBase" style="    margin-top: 2px;  margin-bottom: 3px;">\n        <span class="col-auto">{{color}} </span>\n        <span ng-click="$ctrl.selectColor(color,size)" class="pointer col-auto color-row {{\'bg-\'+size+\' bg-\'+color+\'-\'+size}}" ng-class="{\'color-selected\': $ctrl.selected== color+\'-\'+size}" \n        ng-repeat="size in $ctrl.bgColorsSize">{{size}}</span>\n        \n        </div>\n </div>\n          '}).component("timeEdit",{controller:["$scope","$element","$attrs",function(e,t,n){var l=this;l.$onInit=function(){l.auto&&l.initTime()},l.setNow=function(){var e=0,t=0;try{e=moment().hours(),t=moment().minutes()}catch(l){try{var n=new Date(Date.now());e=n.getHours(),t=n.getMinutes()}catch(n){e=1,t=0}}e>12&&(e-=12),l.hours=e||1,l.minutes=t||0},l.initTime=function(){l.hours||l.setNow()},l.title="وقت البداية",l.initTime(),l.incrementHours=function(){var e=parseInt(l.getHours())+1;e>12&&(e=1),e<1&&(e=12),l.hours=e},l.incrementMinutes=function(){var e=parseInt(l.getMinutes())+1;e>60&&(e=0),e<0&&(e=60),l.minutes=e},l.decrementHours=function(){var e=parseInt(l.getHours())-1;e>12&&(e=1),e<1&&(e=12),l.hours=e},l.getMinutes=function(){return parseInt(l.minutes)>=0?l.minutes:(l.minutes=0,l.minutes)},l.isValid=function(e){return!isNull(e)||"0"==e},l.getHours=function(){return parseInt(l.hours)>0?l.hours:(l.hours=1,l.hours)},l.decrementMinutes=function(){var e=parseInt(l.getMinutes())-1;e>60&&(e=0),e<0&&(e=60),l.minutes=e}}],bindings:{hours:"=?",required:"<?",minutes:"=?",title:"@?",auto:"<?"},template:'\n<table class="uib-timepicker" dir="rtl">\n    <tbody>\n        <tr>\n        <td class="uib-time am-pm text-center" colspan="4">\n            <strong class="mx-1" > \n            <div type="button"  class="btn btn-default text-center pull-left" ng-click="$ctrl.setNow()" >الان</div>\n            \n            {{$ctrl.title||\'الوقت\'}}  </strong>\n        </td>\n         </tr>\n    <tr class="text-center" >\n\x3c!--        <td ></td>--\x3e\n        <td class="uib-increment minutes"><a ng-click="$ctrl.incrementMinutes()" class="btn btn-link pb-0" style="color: #007bff" >\n                <span class="glyphicon glyphicon-chevron-up"></span></a>\n        </td>\n\n        <td>&nbsp;</td>\n        <td class="uib-increment hours "><a ng-click="$ctrl.incrementHours()"  class="btn btn-link pb-0"   style="color: #007bff" >\n                <span class="glyphicon glyphicon-chevron-up"></span></a>\n        </td>\n\x3c!--          <td>&nbsp;</td>--\x3e\n  </tr>\n    <tr>\n\x3c!--        <td class="uib-time am-pm">--\x3e\n\x3c!--            <strong class="mx-1" > {{$ctrl.title||\'الوقت\'}} </strong>--\x3e\n\x3c!--        </td>--\x3e\n        <td class="form-group uib-time minutes"  ng-class="{\'has-danger\':  ((!$ctrl.isValid($ctrl.minutes)) && $ctrl.required)||($ctrl.minutes>60|| $ctrl.minutes<0) || (addForm.minutes.$invalid)}">\n            <input name="minutes" onClick="this.select();" ng-required="$ctrl.required" type="number" placeholder="د" max="60"  min="0" ng-model="$ctrl.minutes"  class="form-control text-center formcore-disable-spinner" maxlength="2" ng-maxlength="2"  >\n        </td>\n        <td class="uib-separator">:</td>\n        <td class="form-group uib-time hours"  ng-required="$ctrl.required"  ng-class="{\'has-danger\':  ((!$ctrl.hours) && $ctrl.required)||($ctrl.hours>12|| $ctrl.hours<1) || (addForm.hours.$invalid)}" >\n            <input name="hours" onClick="this.select();" type="number" placeholder="س" max="12"  min="1" ng-model="$ctrl.hours"  class="form-control text-center formcore-disable-spinner"  maxlength="2"  ng-maxlength="2"   >\n        </td>\n\x3c!--         <td  class="uib-time am-pm">--\x3e\n\x3c!--        </td>--\x3e\n </tr>\n    <tr class="text-center" >\n\x3c!--        <td>&nbsp;</td>--\x3e\n        <td class="uib-decrement minutes"><a ng-click="$ctrl.decrementMinutes()" class="btn btn-link pt-1"  style="color: #007bff" >\n                <span class="glyphicon glyphicon-chevron-down"></span></a>\n        </td>\n        <td>&nbsp;</td>\n\n        <td class="uib-decrement hours"><a ng-click="$ctrl.decrementHours()" class="btn btn-link pt-1"   style="color: #007bff" >\n                <span class="glyphicon glyphicon-chevron-down"></span></a>\n        </td>\n\x3c!--          <td>&nbsp;</td>--\x3e\n  </tr>\n    </tbody>\n</table>\n                       '}).component("listItemName",{bindings:{ngModel:"<?",required:"<?",list:"<?"},template:"{{$ctrl.list[$ctrl.ngModel].name ||$ctrl.ngModel || '' }}"}).component("panel",{controller:["$scope","$element","$attrs",function(e,t,n){const l=this;l.$onInit=function(){try{2===l.closed&&(l.default=!0,console.log("default=null"))}catch(e){l.default=!1}angular.isUndefined(l.default)&&(l.default=!1,console.log("default=null")),angular.isUndefined(l.toggler)&&(l.toggler=!0),angular.isUndefined(l.border)&&(l.border="border-cyan-100"),angular.isUndefined(l.header)&&(l.header="bg-cyan-100")}}],transclude:{title:"panelTitle",body:"panelBody"},bindings:{title:"@",hide:"=?",toggler:"=?",border:"@?",header:"@?",default:"=?",closed:"<?"},template:'\n<div class="mb-2 row  mt-0 ml-0 mr-0 col-12 p-0 ">\n      <span class="h4  m-0 col-12 ezz-expand-label">\n                                        <label class="py-1  label bg-100  bold" ng-class="$ctrl.header"\n                                        >\n                                        <span  ng-if="!$ctrl.toggler" class="ezz-icon"><i class="fa fa-chart-line"></i></span>\n\n                                      <toggle-show ng-if="$ctrl.toggler" class="py-1 " default="$ctrl.default" hide="$ctrl.hide"\n                                                   small="true"></toggle-show>\n\n                                   <span class="mt-3" ng-transclude="title"></span>\n                                    </label>\n</span>\n                        <div class="col-12 m-0  row  px-0 pt-0  ezz-expand pb-0 panel-bg" ng-class="$ctrl.border"\n                             ng-hide="$ctrl.hide && $ctrl.toggler"\n                         \n                             ng-transclude="body">\n                        </div>\n</div>\n\n\n                       '}),angular.module("OraSchool").component("fieldMoney",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.$onInit=function(){i.required||(i.required=!1)}}],bindings:{ngModel:"=?",required:"@?",onChange:"<?",show:"<?",title:"@?",placeholder:"@?",name:"@?"},template:'\n <div class=" mt-2 col-lg-12  row ezz-field"  ng-hide="$ctrl.viewMode">\n  <div class="input-group ezz-datepicker"  ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                    <div class="input-group-prepend">\n                        <div class="input-group-text2 radius-start " style=" font-size: 150%!important;">{{$ctrl.title||\'المبلغ\'}}</div>\n                    </div>\n                    <input class="form-control text-dark"  style="font-size: 150%!important;color: white;" dir="ltr" ng-model="$ctrl.ngModel"\n                           ng-integer placeholder="اكتب {{$ctrl.title||\'المبلغ\'}}" ng-required="$ctrl.required"  type="text" ng-class="{\'radius-end\':!$ctrl.ngModel}"  >\n                    <div class="input-group-prepend "style="min-width: 50%" ng-if="$ctrl.ngModel||$ctrl.show">\n                        <div class="input-group-text2 radius-end"   ng-class="$ctrl.ngModel|moneyColor"  style="    font-size: 150%!important;width: 100%;background-color: #fbfbfb;\n                           border-color: #897f7f;"><small>{{$ctrl.ngModel|arNumber}}</small></div>\n                    </div>\n                </div>\n                </div>\n  '}).component("fieldTextarea",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.$onInit=function(){i.required||(i.required=!1)}}],bindings:{ngModel:"=?",required:"@?",onChange:"<?",title:"@?",placeholder:"@?",name:"@?"},template:'\n <div class=" mt-2 col-lg-12  row ezz-field"  ng-hide="$ctrl.viewMode">\n <div class="input-group ezz-datepicker"   ng-class="{\'has-danger\': !$ctrl.ngModel && $ctrl.required}">\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">{{$ctrl.title}}</div>\n                    </div>\n\n                    <textarea autosize  class=" form-control radius-end" ng-model="$ctrl.ngModel"\n                            placeholder="اكتب {{$ctrl.title}}"\n\n                              rows="1" type="text" ></textarea>\n\n\n                </div>\n                </div>\n  '}).component("ezzDateEdit",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.lastVal=null,i.callChange=function(e,t){try{t?i.dateChange(e,t):i.lastVal=i.ngModel=null}catch(e){logCatch(e)}},i.$onInit=function(){if(i.required||(i.required=!1),i.today){var e=new Date,t=moment(e).format("YYYY/MM/DD");i.dateModel=e,i.dateChange(t,e)}};var s=null;i.dateChange=function(e,t){i.lastVal=i.ngModel=e;try{l.cancel(s)}catch(e){}s=l(function(){log("dateChangeEdit:"+e),i.lastVal=i.ngModel=e;try{i.onChange(e,t)}catch(e){}},500)},i.dateOptions={maxDate:dateUp(new Date),startingDay:6},i.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],i.format="yyyy-MM-dd",i.altInputFormats=["yyyy-M!-d!","yyyy/M!/d!"],i.modelOptions={},i.datePopup={opened:!1},i.openDate=function(){i.datePopup.opened=!0},e.$watch("$ctrl.ngModel",function(e){try{if(log(" last"+(i.lastVal||"")+" ngModel"+(i.ngModel||"")+" value"+(i.value||"")+" dateModel"+(i.dateModel||"")),isNull(e)){i.dateModel=null,i.lastVal=null;try{i.all&&i.dateChange(null,null)}catch(e){}}else if(i.lastVal!=e||isNull(i.lastVal)){var t=new Date(e),n=moment(t).format("YYYY/MM/DD");i.dateModel=t,i.dateChange(n,t)}}catch(e){logCatch(e)}})}],bindings:{ngModel:"=?",required:"@?",today:"<?",all:"<?",onChange:"<?",title:"@?",viewMode:"<?",placeholder:"@?",name:"@?"},template:'\n     <div class=" mt-2 col-lg-12  row ezz-field" >\n<div class="input-group ezz-datepicker">\n\n    <div class="input-group-prepend">\n\n        <div class="input-group-text2  radius-start  "  ng-class="{\'has-danger\': !$ctrl.dateModel && $ctrl.required }">{{$ctrl.title||\'التاريخ\'}} </div>\n        <div class="ezz-group-btn btn pointer btn-dark"  ng-hide="$ctrl.viewMode" ng-click="$ctrl.openDate()" style="border-radius: 0;">\n            <span class="fa fa fa-calendar-alt"></span>\n        </div>\n\n    </div>\n\x3c!--     ng-dblclick="$ctrl.openDate()"--\x3e\n    <input alt-input-formats="$ctrl.altInputFormats"\n           class="form-control radius-end"\n           clear-text="مسح"\n           close-text="اغلاق"\n           current-text="اليوم"\n           style="text-align: center"\n           datepicker-options="$ctrl.dateOptions"\n           dir="ltr"\n           ng-change="$ctrl.callChange($ctrl.dateModel|dateSmallFormat,$ctrl.dateModel)"\n           ng-disabled="$ctrl.viewMode" ng-class="{\'-ezz-view-mode\':$ctrl.viewMode}"\n           is-open="$ctrl.datePopup.opened"\n           ng-model="$ctrl.dateModel"\n           ng-required="$ctrl.required"\n           placeholder="____-__-__"\n           type="text"\n           uib-datepicker-popup="{{$ctrl.format}}">\n</div>\n</div>\n\n  '}).component("ezzDateRangeEdit",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.callChangeFrom=function(e,t){try{i.dateChangeFrom(e,t)}catch(e){logCatch(e)}},i.callChangeTo=function(e,t){try{i.dateChangeTo(e,t)}catch(e){logCatch(e)}},i.$onInit=function(){i.required||(i.required=!1)};var s=null;i.dateChangeTo=function(e,t){angular.isObject(i.ngModel)||(i.ngModel={});try{l.cancel(s)}catch(e){}s=l(function(){log("dateChangeToEdit:"+e),i.ngModel.toDate=e;try{i.onChange(i.ngModel,t)}catch(e){}},1e3)};var a=null;i.dateChangeFrom=function(e,t){angular.isObject(i.ngModel)||(i.ngModel={});try{l.cancel(a)}catch(e){}a=l(function(){log("dateChangeFromEdit:"+e),i.ngModel.fromDate=e;try{i.onChange(i.ngModel,t)}catch(e){}},1e3)},i.dateOptions={startingDay:6},i.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],i.format="yyyy-MM-dd",i.altInputFormats=["yyyy-M!-d!","yyyy/M!/d!"],i.modelOptions={},i.fromDatePopup={opened:!1},i.openFromDate=function(){i.fromDatePopup.opened=!0},i.toDatePopup={opened:!1},i.openToDate=function(){i.toDatePopup.opened=!0},e.$watch("$ctrl.ngModel",function(e){try{isNull(e)&&(i.fromDate=null,i.toDate=null,i.lastVal=null)}catch(e){}})}],bindings:{ngModel:"=?",required:"@?",onChange:"<?",title:"@?",placeholder:"@?",name:"@?"},template:'\n<div class="input-group ezz-datepicker">\n\n    <div class="input-group-prepend">\n\n        <div class="input-group-text2  radius-start  ">مــن</div>\n        <button class="ezz-group-btn btn btn-dark"\n                ng-click="$ctrl.openFromDate()" style="border-radius: 0;">\n            <span class="fa fa fa-calendar-alt"></span>\n        </button>\n\n    </div>\n    <input alt-input-formats="$ctrl.altInputFormats"\n           class="form-control radius-non"\n           clear-text="مسح"\n           close-text="اغلاق"\n           current-text="اليوم"\n           datepicker-options="$ctrl.dateOptions"\n           dir="ltr" \n           is-open="$ctrl.fromDatePopup.opened"\n           ng-change="$ctrl.callChangeFrom($ctrl.fromDate|dateSmallFormat,$ctrl.fromDate)"\n           ng-model="$ctrl.fromDate"\n           ng-model-options="$ctrl.modelOptions"\n           ng-required="false"\n           placeholder="____-__-__"\n           type="text"\n           uib-datepicker-popup="{{$ctrl.format}}">\n    <div class="input-group-prepend">\n\n        <div class=" input-group-text2  radius-non">الى</div>\n        <button class="ezz-group-btn btn btn-dark"\n                ng-click="$ctrl.openToDate()">\n            <span class="fa fa-calendar-alt"></span>\n        </button>\n\n    </div>\n    \x3c!--       popup-placement="auto" --\x3e\n    <input alt-input-formats="$ctrl.altInputFormats"\n           class="form-control radius-end"\n           clear-text="مسح"\n           close-text="اغلاق"\n           current-text="اليوم"\n           datepicker-options="$ctrl.dateOptions"\n           dir="ltr"\n           is-open="$ctrl.toDatePopup.opened"\n           ng-change="$ctrl.callChangeTo($ctrl.toDate|dateSmallFormat,$ctrl.toDate)"\n           ng-model="$ctrl.toDate"\n           ng-model-options="$ctrl.modelOptions"\n           ng-required="false"\n           placeholder="____-__-__"\n           type="text"\n           uib-datepicker-popup="{{$ctrl.format}}">\n</div>\n\n  '}).component("paging",{bindings:{title:"@",pages:"=?",total:"=?",currentPage:"=?",changed:"<?",setMax:"<?",pageMax:"<?"},template:'\n\n\n           <div ng-show="$ctrl.total>10"  class="ezz-pages pagination-sm no-print" style="    float: right; position: sticky;text-align: left;  border: unset;    bottom: 5px;padding-bottom: 5px!important;">\n           \n                                        <ul class="ezz-pages-fields pull-right p-0 m-0 pagination-sm" style="   ">\n<li class="pagination-last"><div href class="pull-right">\n    <select class="form-control custom-select input-sm  pointer" name="pageMax" ng-change="$parent.setMax()" ng-model="$parent.pageMax" style="width: 100%;    border-top-right-radius: 0;\n    border-bottom-right-radius: 0; color: #23527c;\n    font-size: 90%!important;\n    padding-left: 27px!important;\n    background-color: #eee!important;\n    border-color: #ddd!important;">\n        <option value="10" >10 عنصر</option>\n        <option value="20" selected="selected">20 عنصر</option>\n        <option value="30">30 عنصر</option>\n        <option value="40">40 عنصر</option>\n        <option value="50">50 عنصر</option>\n        <option value="100">100 عنصر</option>\n        <option value="150">150 عنصر</option>\n        <option value="200">200 عنصر</option>\n        <option value="300">300 عنصر</option>\n        <option value="500">500 عنصر</option>\n        <option value="1000">1000 عنصر</option>\n        <option value="2000">2000 عنصر</option>\n    </select>\n</div></li>\n\n                    </ul>\n\n                    <ul boundary-link-numbers="true" class="ezz-pages-items pull-left p-0 m-0 pagination-sm" first-text="الصفحة الاولى"\n                        items-per-page="$parent.pageMax" last-text="الصفحة الاخيرة" max-size="10"\n                        next-text="< التالي" ng-change="$parent.pageChanged($parent.currentPage)" \n                 \n                        ng-model="$parent.currentPage" num-pages="$parent.numOfPages" previous-text=" السابق >"\n                        rotate="true" total-items="$ctrl.total" uib-pagination   style="   border: 2px solid #337ab7;">\n\n\n                    </ul>\n</div>\n    \n        '}),angular.module("OraSchool").component("employeeAction",{controller:["$scope","$element","$attrs","$timeout","dataFactory",function(e,t,n,l,o){var i=this;i.loading=!1,i.load=function(){i.loading=!0,i.action=null,o.httpRequest("index.php/admin/ifrs/actionFor/"+i.actionId).then(function(e){try{e.id&&(i.action=e)}catch(e){}try{e.id&&(i.title=i.action.name)}catch(e){}}).finally(function(){i.loading=!1})},i.isValidForm=function(){try{return i.form.amount&&i.form.mainAccount&&i.form.lineAccount}catch(e){}return!1},i.send=function(){o.httpRequest("index.php/admin/ifrs/action/"+i.actionId,"POST",{},i.form).then(function(e){apiResponse(e);try{isResSuccess(e)&&i.restForm()}catch(e){logCatch(e)}})},i.confirmSend=function(){$.confirm({title:"هل تاكد الحفظ",content:"هل تاكد الحفظ",type:"green",buttons:{yes:{text:"نعم",btnClass:"btn-green",keys:["enter"],action:function(){e.$apply(function(){i.send()})}},cancel:{text:"لا"}}})},i.refresh=function(){i.statementsUrl=null,l(function(){isNull(i.actionId)?i.statementsUrl=null:i.statementsUrl="index.php/admin/ifrs/action/statement/"+i.actionId})},i.restForm=function(){i.form={},i.form._tt=uuid.v1(),i.refresh()},i.cancel=function(){i.restForm()},i.$onInit=function(){i.loaded||(i.loaded=!0),i.loading=!0,l(function(){i.restForm(),i.load(),i.refresh()})}}],bindings:{actionId:"<",type:"<",title:"=?",lineName:"<?",mainName:"<?",loaded:"=?"},template:'\n\n<div class=" card card-outline-danger m-0 p-1 ezz-card"  ng-show="!$ctrl.loading" >\n\x3c!--    <strong class="h4">--\x3e\n\x3c!--        <strong  class="mb-0 p-2 card-title label label-light-info text-black"><strong>{{$ctrl.action.name}} </strong></strong>--\x3e\n\n\x3c!--    </strong>--\x3e\n    <div class="box-body " ng-if="$ctrl.action">\n    \n      <table style=" height: 89vh;">\n\n    <tbody><tr ><td>\n      <div class="row col-lg-12 " >\n            <account-selector ng-model="$ctrl.form.lineAccount" title="{{$ctrl.lineName ||$ctrl.action.lHandler.name}}" ng-required="true" selector="$ctrl.action.lHandler.code"  default="$ctrl.action.lHandler.default"   class="col-lg-4 px-0 " ></account-selector>\n            <account-selector ng-model="$ctrl.form.mainAccount" title="{{$ctrl.mainName ||$ctrl.action.mHandler.name}}" ng-required="true" selector="$ctrl.action.mHandler.code"  default="$ctrl.action.mHandler.default"   class="col-lg-4  px-0" ></account-selector>\n   \n                      <ezz-date-edit required="true"  class="col-lg-2   px-0" title="التاريخ"   ng-model="$ctrl.form.add_at"></ezz-date-edit>\n  \n      <input-field class="col-lg-2 px-0 " field-type="integer"\n                                       name="reference" ng-model="$ctrl.form.reference"\n                                       title="رقم المرجع" placeholder="____"></input-field>\n    <input-field class="col-lg-6 px-0 " field-type="integer"\n                                       name="reference" ng-model="$ctrl.form.get_by"\n                                       title="مناولة" placeholder="____"></input-field>\n     <field-money show="true"   title="المبلغ" ng-model="$ctrl.form.amount" required="true"  class="col-lg-12  px-0 "></field-money>\n            \n<field-textarea  title="البيان (توضيح السبب)" ng-model="$ctrl.form.note"   class="col-lg-12  px-0 "></field-textarea>\n\n        </div>\n        <div class="modal-footer w-100  p-0  pb-1 pt-1 mt-2 mb-1">\n            <span class="label label-danger" ng-show="!$ctrl.isValidForm()">يرجى اكمال البيانات</span>\n            <button class="btn btn-success" ng-click="$ctrl.confirmSend()" ng-disabled="!$ctrl.isValidForm()" type="button" >موافق\n            </button>\n            <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n            <button class="btn btn-primary pointer" ng-click="$ctrl.refresh()" type="button">تحديث</button>\n        </div>\n\n</td></tr><tr style=" height: 80%;">\n        \n        <td ng-if="$ctrl.statementsUrl">\n       <iframe allowfullscreen class="statementsIframe" style="width: 100%;height: 100%; border-radius: 2px;" src="{{$ctrl.statementsUrl}}" ></iframe>\n\n</td><td class="text-center" ng-if="!$ctrl.statementsUrl">\nجاري التحميل\n</td>\n    </tr>\n</tbody>\n</table>\n  \n            <div class="modal-footer w-100 p-0 m-0" ng-if="$ctrl.statementsUrl">\n\n    \n   </div>\n    </div>\n</div>\n<div class=" card card-outline-danger m-0 p-1 ezz-card" ng-show="$ctrl.loading" >\n            <strong class="h4">\n                <strong class="mb-0  card-title label label-light-info text-black w-50  p-1"><strong>  <span class="content-placeholder cp-radius w-100 p-1">&nbsp;</span> </strong></strong>\n\n            </strong>\n            <div class="box-body " ng-if="!$ctrl.action">\n                <div class="row col-lg-12 " >\n\n                    <div class="  col-lg-6 pr-0 mt-1 cp-input">\n                        <span class="content-placeholder cp-radius w-100" >&nbsp;</span></div>\n                    <div class="  col-lg-6 pr-0 mt-1 cp-input">\n                        <span class="content-placeholder cp-radius w-100" >&nbsp;</span></div>\n                    <div class=" col-lg-12 pr-0 mt-1 cp-input">\n                        <span class="content-placeholder cp-radius w-100" >&nbsp;</span></div>\n\n                    <div class=" col-lg-12 pr-0 mt-1 cp-input">\n                        <span class="content-placeholder cp-radius w-100" >&nbsp;</span></div>\n                </div>\n                <div class="modal-footer w-100">\n                    <div class="btn btn-success"   style="width: 80px"  >\n                        <span class="content-placeholder cp-radius w-100" >&nbsp;</span>\n                    </div>\n                    <div class="btn btn-danger"   style="width: 80px">   <span class="content-placeholder cp-radius w-100" >&nbsp;</span></div>\n                </div>\n            \n            </div>\n\n        </div>\n\n                       '}).component("accountSelector",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.lastVal=null,i.optionsUrl=null,i.$onInit=function(){i.required||(i.required=!1),i.ngModel||(i.ngModel=i.default);try{i.optionsUrl="index.php/admin/ifrs/selector/"+i.selector}catch(e){}},e.$watch("$ctrl.default",function(e){try{isNull(i.ngModel)&&(i.ngModel=i.default)}catch(e){}}),e.$watch("$ctrl.ngModel",function(e){try{isNull(e)&&(i.ngModel=i.default)}catch(e){}}),e.$watch("$ctrl.selector",function(e){try{isNull(e)?i.optionsUrl=null:i.optionsUrl="index.php/admin/ifrs/selector/"+e}catch(e){}})}],bindings:{ngModel:"=?",required:"@?",selector:"<",default:"<?",viewMode:"<?",onChange:"<?",title:"@?",placeholder:"@?",name:"@?"},template:'\n\n                <div class=" mt-2 col-lg-12  row ezz-field"  ng-hide="$ctrl.viewMode">\n<div class="input-group ezz-datepicker" >\n                    <div class="input-group-prepend">\n                        <div class="input-group-text2 radius-start ">{{$ctrl.title}} </div>\n                    </div>\n                      <select-ezz class="px-0  form-control  input-sm  ezz-field-input radius-end"\n                                ng-model="$ctrl.ngModel"\n                             tabindex="-1"       on-select="$ctrl.onChange"\n                                ng-required="$ctrl.required"\n                                options="$ctrl.optionsUrl"\n                                title="{{$ctrl.title}}" style="padding: 0;margin: 0;" >\n                    </select-ezz>\n                </div>\n                </div>\n   <show-field  ng-if="$ctrl.viewMode"  title="{{$ctrl.title}}">  \n   <view-name ng-model="$ctrl.ngModel" options="$ctrl.optionsUrl"></view-name>\n                                        </show-field>\n\n  '}).component("accountStatements",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.lastVal=null,i.statementsUrl=null,i.$onInit=function(){i.required||(i.required=!1)},i.refresh=function(){try{i.statementsUrl=null,l(function(){if(isNull(i.ngModel))i.statementsUrl=null;else{var e=buildUrl("index.php/admin/report/asf/a/"+i.ngModel,i.form);i.statementsUrl=e}})}catch(e){logCatch(e)}},e.$watch("$ctrl.ngModel",function(e){if(isNull(e))i.statementsUrl=null;else{var t=buildUrl("index.php/admin/report/asf/a/"+i.ngModel,i.form);i.statementsUrl=t}})}],bindings:{ngModel:"=?",selector:"<",default:"<?",full:"<?",title:"@?",name:"@?"},template:'\n<style>\n</style>\n<div class=" card card-outline-danger m-0   p-1 ezz-card"  ng-show="!$ctrl.loading" >\n\n      <div  class="mb-0 p-0 card-title row" ng-if="$ctrl.selector">\n              <account-selector ng-model="$ctrl.ngModel" title="الحساب" ng-required="true" \n              selector="$ctrl.selector"  class="pull-left col  pr-0 mt-1" ></account-selector>\n              \n       <button class=" mt-2 btn col-auto  btn-primary pointer" ng-click="$ctrl.refresh()" type="button">تحديث</button>\n        </div>\n          <div class="row">\n                  \n                       <div class="col-lg-2  px-0"  >\n                        <ezz-date-edit  title="من تاريخ"   ng-model="$ctrl.form.fromDate"></ezz-date-edit>\n\n                        </div>\n<div class="col-lg-2 px-0"  >\n                        <ezz-date-edit  title="الى تاريخ"  ng-model="$ctrl.form.toDate"></ezz-date-edit>\n\n                        </div>\n\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.il"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض الاسطوانات بالتفصيل"\n                        >\n                    عرض الاسطوانات بالتفصيل\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.dn"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض السائق"\n                        >\n                        عرض السائق\n</check-field>\n    <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.un"\n\n                                t-value="1"\n                                f-value="0"\n                                title="عرض المستخدم"\n                        >\n                        عرض المستخدم\n</check-field>\n  <check-field\n\n                                them="info"\n                                class="col-auto mt-2 "\n                                name="ltr"\n                                ng-model="$ctrl.form.wBK"\n\n                                t-value="1"\n                                f-value="0"\n                                title="مع الخلفية الرسمية"\n                        >\n                    مع الخلفية الرسمية\n</check-field>\n                </div>\n    <div class="box-body mt-1" ng-if="$ctrl.statementsUrl">\n    <iframe allowfullscreen="true" class="statementsIframe" ng-class="{\'iframeFull\':$ctrl.full}" style="width: 100%; min-height: 80vh;" src="{{$ctrl.statementsUrl}}" ></iframe>\n    </div>\n</div>\n  '}).component("actionStatements",{controller:["$scope","$element","$attrs","$timeout","uibDateParser",function(e,t,n,l,o){var i=this;i.lastVal=null,i.statementsUrl=null,i.refresh=function(){i.statementsUrl=null,l(function(){isNull(i.action)?i.statementsUrl=null:i.statementsUrl="index.php/admin/ifrs/action/statement/"+i.action})},i.$onInit=function(){i.required||(i.required=!1),isNull(i.action)?i.statementsUrl=null:i.statementsUrl="index.php/admin/ifrs/action/statement/"+i.action}}],bindings:{action:"<",default:"<?",title:"@?",name:"@?"},template:'\n\n<div class=" card card-outline-danger m-0 p-1 ezz-card"  ng-show="!$ctrl.loading" >\n\n      <div  class="mb-0 p-0 card-title label" >\n            <button class="btn ezz-btn btn-info card-block-input-item mr-1" ng-click="$ctrl.refresh()"><i class="fa fa-refresh"></i>\n                 </button>\n        </div>\n    <div class="box-body " ng-if="$ctrl.statementsUrl">\n    <iframe allowfullscreen="true" class="statementsIframe" style="width: 100%" src="{{$ctrl.statementsUrl}}" ></iframe>\n    </div>\n</div>\n  '}).component("uuidTransactions",{controller:["$scope","$element","dataFactory","$timeout",function(e,t,n,l){var o=this;o.ids=[],o.load=function(){try{o.ids=[],n.httpRequest("index.php/admin/ifrs/uuidItems/"+o.uuid).then(function(e){apiResponse(e);try{o.ids=e}catch(e){logCatch(e)}})}catch(e){logCatch(e)}},o.$onInit=function(){l(function(){o.load()})}}],bindings:{uuid:"<"},template:'\n      <div  class="mb-0 p-0 card-title label" >\n            <button class="btn ezz-btn btn-info card-block-input-item mr-1" ng-click="$ctrl.load()"> تحديث <i class="fa fa-refresh"></i>\n                 </button>\n        </div>\n<div class="card card-outline-danger m-0 mt-1 p-1 ezz-card w-100"   ng-repeat="obj in $ctrl.ids">\n        <iframe allowfullscreen class="statementsIframe250 w-100" style="width: 100%" src="{{\'index.php/admin/ifrs/view/transaction/\'+obj+\'?noPrint=1\'}}" ></iframe>\n</div>\n<div class=" w-100 text-center" ng-show="!$ctrl.ids.length"><h3>لايوجد قيود محاسبية </h3></div>\n              \n  '}).component("actionModel",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$timeout","dataFactory","$loader",function(e,t,n){const l=this;l.$onInit=function(){try{l.action=l.resolve.action}catch(e){}try{l.resolve.forItem&&(l.action=l.resolve.forItem)}catch(e){}try{l.mainName=l.resolve.mainName,l.lineName=l.resolve.lineName}catch(e){}},l.cancel=function(){l.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-content ">\n               <div class="modal-header  py-1 px-2 ">\n            <h4 class="modal-title mb-0" id="modal-title">\n            {{$ctrl.title||\'الحسابات\'}}\n           </h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">اغلاق</button>\n\n        </div>\n        <div class="modal-body m-0  p-0 " id="modal-body" ng-if="$ctrl.action">\n        <employee-action  title="$ctrl.title" class="row col-lg-12 mt-2" action-id="$ctrl.action" main-name="$ctrl.mainName" line-name="$ctrl.lineName"></employee-action>\n\n        </div>\n        </div>\n    \n        '}).component("statementsModel",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$timeout","dataFactory","$loader",function(e,t,n){const l=this;l.$onInit=function(){try{l.resolve.forItem&&(l.action=l.resolve.forItem)}catch(e){}},l.cancel=function(){l.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-content ">\n               <div class="modal-header  py-1 px-2 ">\n            <h4 class="modal-title mb-0" id="modal-title">كشف حساب\n           </h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">اغلاق</button>\n\n        </div>\n        <div class="modal-body mx-2" id="modal-body" ng-if="$ctrl.action">\n  <account-statements class="row col-lg-12 mt-2 " style="height: 90vh" full="true" selector="$ctrl.action"></account-statements>\n        </div>\n        </div>\n    \n        '}).component("actionButton",{bindings:{action:"<",model:"@",title:"@",mainName:"@?",lineName:"@?"},controller:["$timeout","dataFactory","$loader",function(e,t,n){this.$onInit=function(){}}],template:'\n   <div class="card m-0">\n                <div class="card-block py-1">\n                    <div class="row p-0 m-0"  ng-click="$root.openModelForItem($ctrl.model,$ctrl.action,$ctrl.mainName,$ctrl.lineName)" style="cursor:pointer;">\n                        <div class="col-auto text-center">\n                            <div class="round-fix round align-self-center round-success reports_flex"><i class="fa fa-dollar-sign"></i>\n                            </div>\n                        </div>\n                        <div class=" col ">\n                            <span class="lh-32 m-b-0 text-dark">{{$ctrl.title}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    \n        '}).component("modelButton",{bindings:{item:"<",type:"<",parms:"<?",model:"@",title:"@",mainName:"@?",lineName:"@?"},controller:["$timeout","dataFactory","$loader",function(e,t,n){this.$onInit=function(){}}],template:'\n   <div class="card m-0">\n                <div class="card-block py-1">\n                    <div class="row p-0 m-0"  ng-click="$root.openModelType($ctrl.model,$ctrl.item,$ctrl.type,$ctrl.title,$ctrl.parms)" style="cursor:pointer;">\n                        <div class="col-auto text-center">\n                            <div class="round-fix round align-self-center round-info reports_flex"><i class="fa fa-vials "></i>\n                            </div>\n                        </div>\n                        <div class=" col ">\n                            <span class="lh-32 m-b-0 text-dark">{{$ctrl.title}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    \n        '}).component("model3Button",{bindings:{item:"<",type:"<",panel:"<",parms:"<?",model:"@",title:"@",mainName:"@?",lineName:"@?"},controller:["$timeout","dataFactory","$loader",function(e,t,n){this.$onInit=function(){}}],template:'\n   <div class="card m-0">\n                <div class="card-block py-1">\n                    <div class="row p-0 m-0"  ng-click="$root.openPanelType($ctrl.model,$ctrl.item,$ctrl.type,$ctrl.title,$ctrl.parms,$ctrl.panel)" style="cursor:pointer;">\n                        <div class="col-auto text-center">\n                            <div class="round-fix round align-self-center round-info reports_flex"><i class="fa fa-vials "></i>\n                            </div>\n                        </div>\n                        <div class=" col ">\n                            <span class="lh-32 m-b-0 text-dark">{{$ctrl.title}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    \n        '}).component("model2Button",{bindings:{item:"<",type:"<",parms:"<?",model:"@",title:"@",mainName:"@?",lineName:"@?"},controller:["$timeout","dataFactory","$loader",function(e,t,n){this.$onInit=function(){}}],template:'\n   <div class="card m-0">\n                <div class="card-block py-1">\n                    <div class="row p-0 m-0"  ng-click="$root.openModelType2($ctrl.model,$ctrl.item,$ctrl.type,$ctrl.title,$ctrl.parms)" style="cursor:pointer;">\n                        <div class="col-auto text-center">\n                            <div class="round-fix round align-self-center round-info reports_flex"><i class="fa fa-vials "></i>\n                            </div>\n                        </div>\n                        <div class=" col ">\n                            <span class="lh-32 m-b-0 text-dark">{{$ctrl.title}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    \n        '}).component("employeesAccounting",{bindings:{action:"<",title:"@"},template:'\n\n<panel  class="row col-lg-12 p-0 m-0 "     border="border-grey-1000 bg-grey-1000 pb-0" header="bg-grey-1000 " toggler="false">\n    <panel-title >حسابات الموظفين </panel-title>\n    <panel-body class="col-lg-12 row p-0 m-0">\n\n            <action-button class="col-sm-3 p-1 " title="سلفة على الموظف" action="10" ng-if="$root.can(\'ifrsAcAdd.ifrsa10\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1  " title="سند صرف (موظف)" action="11" ng-if="$root.can(\'ifrsAcAdd.ifrsa11\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="اضافة راتب للموظف" action="12"  ng-if="$root.can(\'ifrsAcAdd.ifrsa12\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="اضافة (مكافئة-حافز)" action="13"  ng-if="$root.can(\'ifrsAcAdd.ifrsa13\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="اضافة (خصم-عقوبة)" action="14"  ng-if="$root.can(\'ifrsAcAdd.ifrsa14\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="سند قبض (موظف)" action="18"  ng-if="$root.can(\'ifrsAcAdd.ifrsa18\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="كشف حساب موظف" action="\'employee\'"   model="statementsModel"></action-button>\n    </panel-body>\n</panel>\n    \n        '}).component("clientsAccounting",{bindings:{action:"<",title:"@"},template:'\n\n<panel  class="row col-lg-12 p-0 m-0 "      border="border-grey-1000 bg-grey-1000 pb-0" header="bg-grey-1000 "  toggler="false">\n    <panel-title >حسابات المبيعات والعملاء </panel-title>\n    <panel-body class="col-lg-12 row p-0 m-0">\n\n            <action-button  class="col-sm-3 p-1 " title="سند قبض (عميل)" action="4" ng-if="$root.can(\'ifrsAcAdd.ifrsa4\')" model="actionModel"></action-button>\n\x3c!--            <action-button class="col-sm-3 p-1  " title="مرتجع مبيعات (اجل)" action="5" ng-if="$root.can(\'ifrsAcAdd.ifrsa5\')" model="actionModel"></action-button>--\x3e\n            <action-button class="col-sm-3 p-1  " title="سند صرف (عميل)" action="17" ng-if="$root.can(\'ifrsAcAdd.ifrsa17\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1  " title="اضافة خصم/تخفيض مبيعات" ng-if="$root.can(\'ifrsAcAdd.ifrsa20\')" action="20" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="كشف حساب عميل" action="\'client\'"  model="statementsModel"></action-button>\n    </panel-body>\n</panel>\n    \n        '}).component("menuStatements",{bindings:{action:"<",title:"@"},controller:["$timeout","dataFactory","$loader",function(e,t){this.items=[{code:"all",title:"عام"},{code:"client",title:"العملاء"},{code:"supplier",title:"الموردين"},{code:"employee",title:"الموظفين"},{code:"bank",title:"الصناديق"},{code:"purchase",title:" المصروفات/المشتريات"}],this.$onInit=function(){}}],template:'\n <ul aria-expanded="false" class="collapse second-level">\n                                     \n                          \n   <li class="sidebar-item " ng-repeat="menu in $ctrl.items" >\n                <a class="sidebar-link  waves-effect waves-dark pointer"\n                   ng-click="$root.openModelForItem(\'statementsModel\',menu.code)" aria-expanded="false">\n                    <i class="fa fa-file-invoice-dollar"></i>\n                    <span class="hide-menu"> {{menu.title}} </span>\n                </a>\n            </li>\n   \n</ul>\n        '}).component("menuGetter",{bindings:{action:"<",title:"@"},controller:["$timeout","dataFactory","$loader",function(e,t){this.items=[{code:"17",title:"صرف عملاء"},{code:"11",title:"صرف موظفين"},{code:"8",title:"صرف موردين"}],this.$onInit=function(){}}],template:'\n <ul aria-expanded="false" class="collapse second-level">\n   <li class="sidebar-item " ng-repeat="menu in $ctrl.items" >\n                <a class="sidebar-link  waves-effect waves-dark pointer"\n                   ng-click="$root.openModelForItem(\'actionModel\',menu.code)" aria-expanded="false">\n                    <i class="fa fa-file-invoice-dollar"></i>\n                    <span class="hide-menu"> {{menu.title}} </span>\n                </a>\n            </li>\n   \n</ul>\n        '}).component("menuSetter",{bindings:{action:"<",title:"@"},controller:["$timeout","dataFactory","$loader",function(e,t){this.items=[{code:"4",title:"قبض عملاء"},{code:"18",title:"قبض موظفين"},{code:"19",title:"قبض موردين"}],this.$onInit=function(){}}],template:'\n <ul aria-expanded="false" class="collapse second-level">\n   <li class="sidebar-item " ng-repeat="menu in $ctrl.items" >\n                <a class="sidebar-link  waves-effect waves-dark pointer"\n                   ng-click="$root.openModelForItem(\'actionModel\',menu.code)" aria-expanded="false">\n                    <i class="fa fa-file-invoice-dollar"></i>\n                    <span class="hide-menu"> {{menu.title}} </span>\n                </a>\n            </li>\n   \n</ul>\n        '}).component("purchasesAccounting",{bindings:{action:"<",title:"@"},template:'\n\n<panel  class="row col-lg-12 p-0 m-0"      border="border-grey-1000 bg-grey-1000 pb-0" header="bg-grey-1000 " toggler="false">\n    <panel-title >حسابات المشتريات والموردين</panel-title>\n    <panel-body class="col-lg-12 row p-0 m-0">\n\n            <action-button class="col-sm-3 p-1 " title="مشتريات نقد" action="6"  ng-if="$root.can(\'ifrsAcAdd.ifrsa6\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="مشتريات اجل" action="7"  ng-if="$root.can(\'ifrsAcAdd.ifrsa7\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="سداد مورد (سند صرف)"  action="8"  ng-if="$root.can(\'ifrsAcAdd.ifrsa8\')" model="actionModel"></action-button>\n\x3c!--            <action-button class="col-sm-3 p-1 " title="مرتجع مشتريات (اجل)" action="9"  ng-if="$root.can(\'ifrsAcAdd.ifrsa9\')" model="actionModel"></action-button>--\x3e\n            <action-button class="col-sm-3 p-1 " title="سند قبض (مورد)" action="19"  ng-if="$root.can(\'ifrsAcAdd.ifrsa19\')" model="actionModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="كشف حساب مورد" action="\'supplier\'"  model="statementsModel"></action-button>\n            <action-button class="col-sm-3 p-1 " title="كشف حساب المشتريات" action="\'purchase\'"  model="statementsModel"></action-button>\n    </panel-body>\n</panel>\n    \n        '}).component("banksAccounting",{bindings:{action:"<",title:"@"},template:'\n\n<panel  class="row col-lg-12 p-0 m-0"    border="border-grey-1000 bg-grey-1000 pb-0" header="bg-grey-1000 " toggler="false">\n    <panel-title >حسابات اخرى</panel-title>\n    <panel-body class="col-lg-12 row p-0 m-0">\n\n            <action-button class="col-sm-4 p-1 " \n                        ng-if="$root.can(\'ifrsAcAdd.ifrsa1\')"\n main-name="الى حـ"\n              line-name="من حـ" \n              title="قيد بسيط" action="1" model="actionModel"></action-button>\n            <action-button class="col-sm-4 p-1 "\n              main-name="الى صندوق"\n              line-name="من صندوق" \n             title="تحويل بين الصناديق" action="16"  ng-if="$root.can(\'ifrsAcAdd.ifrsa16\')" model="actionModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title="اضافة مصروفات" action="15"  ng-if="$root.can(\'ifrsAcAdd.ifrsa15\')" model="actionModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title=" سند قبض" action="22"  ng-if="$root.can(\'ifrsAcAdd.ifrsa22\')" model="actionModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title=" سند صرف" action="23"  ng-if="$root.can(\'ifrsAcAdd.ifrsa23\')" model="actionModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title="رصيد افتتاحي" action="21"  ng-if="$root.can(\'ifrsAcAdd.ifrsa21\')" model="actionModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title="كشف حساب المصروفات/المشتريات" action="\'purchase\'"  model="statementsModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title="كشف حساب صندوق" action="\'bank\'"  model="statementsModel"></action-button>\n            <action-button class="col-sm-4 p-1 " title="كشف حساب عام" action="\'all\'"  model="statementsModel"></action-button>\n    </panel-body>\n</panel>\n    \n        '}).component("reportsPage",{bindings:{action:"<",title:"@",panel:"<"},controller:["$scope","dataFactory","$loader",function(e,t,n){this.$onInit=function(){}}],template:'\n\n<panel  class="row col-lg-12 p-0 m-0"    border="border-grey-1000 bg-grey-1000 pb-0" header="bg-grey-1000 " toggler="false">\n    <panel-title >التقارير </panel-title>\n    <panel-body class="col-lg-12 row p-0 m-0">\n        <model3-button panel="$ctrl.panel" class="col-auto p-1 " title="ارقام دفاتر الفواتير "  model="booksFor" size="large"></model3-button>\n        <model3-button panel="$ctrl.panel" class="col-auto p-1 " title="تصدير دفاتر الفواتير"  model="booksReport" size="large"></model3-button>\n        <model3-button ng-if="$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title=" حركة الانتاج العام "   type="1" model="countItems" parms="{size:\'lgx\'}"></model3-button>\n          <model3-button  ng-if="$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title="الجرد اليومي لاسطوانات العملاء "    type="5" model="countItems" parms="{size:\'lgx\'}"></model3-button>\n        <model3-button  ng-if="$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title="الجرد اليومي لاسطوانات المصنع "     item="2"  type="6" model="countItems" parms="{size:\'lgx\'}"></model3-button>\n        <model3-button  ng-if="!$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title="الجرد اليومي العهد "     item="2"  type="8" model="countItems" parms="{size:\'lgx\'}"></model3-button>\n  \n        <model3-button  ng-if="$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title=" حركة الانتاج لاسطوانات العملاء "  type="3"  model="countItems" parms="{size:\'lgx\'}"></model3-button>\n        <model3-button  ng-if="$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title=" حركة العهد التفصيلية لاسطوانات المصنع "   item="2" type="4" model="countItems" parms="{size:\'lgx\'}"></model3-button>\n        \n           <model3-button ng-if="$root.dashboardData.isFact" panel="$ctrl.panel" class="col-auto p-1 " title=" حركة التعبئة العام "   type="1" model="countFillItems" parms="{size:\'lgx\'}"></model3-button>\n    </panel-body>\n</panel>\n    \n        '}),angular.module("OraSchool").component("selectEzz",{controller:["$scope","$timeout","$uibModal","EzzFilter","EzzSelectApi",function(e,t,n,l,o){var i=this;i.editMode=!0,i.$onInit=function(){i.startInit(),i.isRequired||(i.isRequired=!1)},i.startInit=function(){is_undefined(i.title)&&(i.title="عنصر"),i.ngItem=null,i.loadOptions(),angular.isObject(i.settings)&&angular.isFunction(i.settings.api)&&i.settings.api(new o(i))},i.getDisabledItems=function(){if(angular.isObject(i.settings)){if(angular.isFunction(i.settings.disabledItems))return log(i.settings.disabledItems()),i.settings.disabledItems();if(angular.isArray(i.settings.disabledItems))return i.settings.disabledItems}return[]},i.loadModel=function(e,t){var n=!1;i.ngModel&&angular.forEach(i.items,function(e){i.ngModel+""==e.id+""&&(i.ngItemName=e.name,i.ngItem=e,n=!0)}),n||(i.ngItemName=null,i.ngItem=null)},i.loadOptions=function(e,n){l.searchAsync2(i.options).then(function(e){i.items=e,t(function(){i.loadModel()})})};var s=e.$watch("$ctrl.options",function(e,t){try{e&&i.loadOptions()}catch(e){}}),a=e.$watch("$ctrl.ngModel",function(e){try{i.items||i.loadOptions(),i.loadModel()}catch(e){}});i.clearModel=function(e){delete i.ngItem,delete i.ngModel,delete i.ngItemName;try{e.preventDefault(),e.stopPropagation()}catch(e){}try{i.onChange()}catch(e){}},i.openSelectModel=function(){try{if(i.disabled)return i.disabledMessage?showError(i.disabledMessage):showError("اكمل البيانات السابقة اولا")}catch(e){}n.open({animation:!1,keyboard:!1,component:"selectEzzDialog",resolve:{options:function(){return i.options},selected:function(){return i.ngModel},title:function(){return i.title},addModel:function(){return i.addModel},canAdd:function(){return i.canAdd},multiple:function(){return i.multiple},customFilter:function(){return i.customFilter},disabledItems:function(){return i.getDisabledItems()}}}).result.then(function(e){i.ngItem=e,i.ngModel=e.id,i.ngItemName=e.name;try{i.onSelect(e.id,e)}catch(e){}try{i.onChange(e.id,e)}catch(e){}},function(){})};try{var c=e.$on("$onAddSelectItem",function(e,t){try{t==i.options&&(i.loadOptions(),i.loadModel())}catch(e){}});e.$on("$destroy",function(){try{c()}catch(e){}try{a()}catch(e){}try{s()}catch(e){}})}catch(e){}}],bindings:{ngModel:"=",ngItem:"=?",options:"<?",customFilter:"<?",settings:"<?",canAdd:"<?",disabled:"<?",disabledMessage:"<?",onSelect:"<?",placeholder:"<?",isRequired:"<?",onChange:"<?",addModel:"@?",title:"@?"},template:'\n    <div class="form-control ezz-form-view pointer" ng-model="$ctrl.ngModel" ng-required="$ctrl.isRequired"\n                                       ng-click="$ctrl.openSelectModel()"  style="min-height: 29px;display:inline-block; background-color: #ffffff;"\n                                      >\n  <i class="pull-left fa fa-chevron-down px-1 no-print" style="font-size: 1em;"></i>\n     <span ng-if="$ctrl.ngModel"> {{$ctrl.ngItemName||$ctrl.ngItem.name||$ctrl.ngModel}}</span>\n     <span ng-if="!$ctrl.ngItem&&$ctrl.placeholder"  class="mr-1" style="color: #a6b1c9">{{$ctrl.placeholder}}</span>\n     <span ng-if="!$ctrl.ngItem&&!$ctrl.placeholder&&!$ctrl.ngModel"  class="mr-1" style="color: #a6b1c9"> حدد {{$ctrl.title}}</span>\n<div ng-if="$ctrl.ngModel" class="pull-right2 pr-2 pointer text-danger no-print" ng-click="$ctrl.clearModel($event)" ><i class="fa fa-trash" style="font-size: 1em;"></i></div>\n                                    </div>\n                       '}).component("selectEzzDialog",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","$rootScope",function(e,t){var n=this;n.$onInit=function(){n.options=n.resolve.options,n.title=n.resolve.title||"",n.selected=n.resolve.selected||null,n.addModel=n.resolve.addModel||null,n.canAdd=n.resolve.canAdd||!1;try{"editAddItem"==n.addModel&&(n.canAdd=t.can(n.options+".Add"))}catch(e){logCatch(e)}n.multiple=n.resolve.multiple||!1,n.customFilter=n.resolve.customFilter||{},n.disabledItems=n.resolve.disabledItems||[]},n.ok=function(){n.close({$value:n.selectedItem})},n.cancel=function(){n.dismiss({$value:"cancel"})},n.onCancel=function(){n.dismiss({$value:"cancel"})},n.onSelect=function(e,t){n.close({$value:t})}}],template:'\n\n        <div class="modal-body mx-2" id="modal-body">\n          <one-selector add-model="{{$ctrl.addModel}}"\n                          can-add="$ctrl.canAdd"\n                          ng-item="$ctrl.selectedItem"\n                          ng-model="$ctrl.selected"\n                          custom-filter="$ctrl.customFilter"\n                          on-select="$ctrl.onSelect"\n                          on-cancel="$ctrl.onCancel"\n                     disabled-items="$ctrl.disabledItems"         \n  \n                          options="$ctrl.options"\n                          cols="12"\n                          title="{{$ctrl.title}}"\n\n            ></one-selector>\n        </div>\n\n\n'}).component("oneSelector",{bindings:{ngModel:"=",ngItem:"=?",disabledItems:"<?",options:"=",onSelect:"<?",useScroll:"<?",onCancel:"<?",customFilter:"<?",refresh:"@?",btnOk:"@?",cols:"<?",canAdd:"<?",addModel:"@?",title:"@"},controller:["$scope","$rootScope","EzzFilter","$uibModal",function(e,t,n,l){var o=this;o.$onInit=function(){o.startInit()},o.startInit=function(){o.loadingOptions=!1,o.items=[],is_undefined(o.title)&&(o.title="عنصر"),is_undefined(o.cols)&&(o.cols=6),o.ngItem=null,o.loadOptions()},o.manger=function(e){o.restForm(),o.form.selectedType=e,o.activatedTab="selectItem"},o.loadOptions=function(e){try{o.loadingOptions=!0,e?(o.items=[],n.searchAsyncRefresh(o.options).then(function(e){o.loadingOptions=!1,o.items=e,o.ngModel&&angular.forEach(o.items,function(e){o.ngModel+""==e.id+""&&(o.ngItem=e)})})):n.searchAsync2(o.options).then(function(e){o.loadingOptions=!1,o.items=e,o.ngModel&&angular.forEach(o.items,function(e){o.ngModel+""==e.id+""&&(o.ngItem=e)})})}catch(e){o.loadingOptions=!1}},o.onSelectItem=function(e,t){try{o.ngModel=e,o.ngItem=t}catch(e){logCatch(e)}try{o.onSelect&&o.onSelect(e,t)}catch(e){logCatch(e)}},o.onAdd=function(){try{if("editAddItem"==o.addModel)return o.onAddAll()}catch(e){logCatch(e)}try{if(o.useScroll)var e=l.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,windowTemplateUrl:"assets/templates/wind.html",component:o.addModel,resolve:{customFilter:function(){return o.customFilter}}});else e=l.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:o.addModel,resolve:{customFilter:function(){return o.customFilter}}});try{e.result.then(function(e){o.loadOptions(!0);try{t.$broadcast("$onAddSelectItem",o.options)}catch(e){}},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},o.onAddAll=function(){try{var e=l.open({animation:!1,size:"lg modal-lgx",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:"editAddItem",resolve:{customFilter:function(){return o.customFilter},viewType:function(){return"add"},modelUrl:function(){return"index.php/admin/"+o.options},methodName:function(){return o.options},templateUrl:function(){return"assets/views/"+o.options+".html"}}});try{e.result.then(function(e){try{showHideLoad(!0)}catch(e){}if("success"==e.status){try{o.loadOptions(!0)}catch(e){}try{t.$broadcast("$onAddSelectItem",o.options)}catch(e){}}},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},o.onRefresh=function(){try{o.loadOptions(!0)}catch(e){o.loadingOptions=!1,logCatch(e)}},o.onSelectItemOne=function(e,t){try{o.onSelect&&o.onSelect(e,t)}catch(e){logCatch(e)}},o.cancel=function(){try{o.onCancel&&o.onCancel()}catch(e){logCatch(e)}},e.$watch("$ctrl.options",function(e){try{isNull(e)?o.items=[]:o.loadOptions(o.refresh)}catch(e){logCatch(e)}})}],template:'\n <div class="my-2"></div>\n\n                <one-check-input  \n                class="mt-2"\n                cols="{{$ctrl.cols}}"\n                 custom-filter="$ctrl.customFilter"\n                 dbl-select="$ctrl.onSelectItem"\n                 one-select="$ctrl.onSelectItemOne"\n               disabled-items="$ctrl.disabledItems"         \n                    title="اختر {{$ctrl.title}}"\n                  ng-model="$ctrl.ngModel"\n                  ng-item="$ctrl.ngItem"         \n                  on-add="$ctrl.onAdd"         \n                  is-loading="$ctrl.loadingOptions"         \n                  on-refresh="$ctrl.onRefresh"         \n                  can-add="$ctrl.canAdd && $ctrl.addModel"         \n                 options="$ctrl.items"></one-check-input>\n\n                <div class="modal-footer">\n                    <button class="btn btn-success" \n                    ng-click="$ctrl.onSelectItem($ctrl.ngModel,$ctrl.ngItem)" \n                    ng-disabled="!$ctrl.ngModel"\n                            type="button">{{$ctrl.btnOk||\'موافق\'}}\n                    </button>\n                    <button  ng-show="$ctrl.onCancel" class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n        '}).component("multiSelector",{bindings:{ngModel:"=",ngItems:"=?",disabledItems:"<?",options:"=",onSelect:"<?",onCancel:"<?",refresh:"@?",btnOk:"@?",cols:"<?",canAdd:"<?",addModel:"@?",title:"@"},controller:["$scope","EzzFilter","$uibModal",function(e,t,n){var l=this;l.$onInit=function(){l.startInit()},l.startInit=function(){l.loadingOptions=!1,l.items=[],is_undefined(l.title)&&(l.title="عنصر"),is_undefined(l.cols)&&(l.cols=6),l.ngItem=null,l.loadOptions()},l.manger=function(e){l.restForm(),l.form.selectedType=e,l.activatedTab="selectItem"},l.loadOptions=function(e){try{l.loadingOptions=!0,e?(l.items=[],t.searchAsyncRefresh(l.options).then(function(e){l.loadingOptions=!1,l.items=e,l.ngModel})):t.searchAsync2(l.options).then(function(e){l.loadingOptions=!1,l.items=e,l.ngModel})}catch(e){l.loadingOptions=!1}},l.onSelectItem=function(e,t){try{l.ngModel=e,l.ngItems=t}catch(e){logCatch(e)}try{l.onSelect&&l.onSelect(e,t)}catch(e){logCatch(e)}},l.onAdd=function(){try{var e=n.open({animation:!1,size:"lg",backdrop:"static",keyboard:!1,component:l.addModel,resolve:{}});try{e.result.then(function(e){l.loadOptions(!0)},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},l.onRefresh=function(){try{l.loadOptions(!0)}catch(e){l.loadingOptions=!1,logCatch(e)}},l.onSelectItemOne=function(e,t){try{l.onSelect&&l.onSelect(e,t)}catch(e){logCatch(e)}},l.cancel=function(){try{l.onCancel&&l.onCancel()}catch(e){logCatch(e)}},e.$watch("$ctrl.options",function(e){try{isNull(e)?l.items=[]:l.loadOptions(l.refresh)}catch(e){logCatch(e)}})}],template:'\n <div class="my-2"></div>\n\n                <multi-check-input\n                class="mt-2"\n                cols="{{$ctrl.cols}}"\n                 disabled-items="$ctrl.disabledItems"         \n                 title="اختر {{$ctrl.title}}"\n                  ng-model="$ctrl.ngModel"\n                  ng-items="$ctrl.ngItems"         \n                  on-add="$ctrl.onAdd"         \n                  is-loading="$ctrl.loadingOptions"         \n                  on-refresh="$ctrl.onRefresh"         \n                  can-add="$ctrl.canAdd && $ctrl.addModel"         \n                 options="$ctrl.items"></multi-check-input>\n\n                <div class="modal-footer">\n                    <button class="btn btn-success" \n                    ng-click="$ctrl.onSelectItem($ctrl.ngModel,$ctrl.ngItems)" \n                    ng-disabled="!$ctrl.ngModel"\n                            type="button">{{$ctrl.btnOk||\'موافق\'}}\n                    </button>\n                    <button  ng-show="$ctrl.onCancel" class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n        '}),angular.module("OraSchool").component("addSalesExports",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.hideTabSelectType=!1,n.hideTabSelectUser=!1,n.hideTabSelectOrder=!1,n.hideTabAdd=!1,n.forModel=null,n.setActivatedTab=function(e){n.activatedTab=e},n.selectType=function(e){n.restForm(),n.form.selectedType=e,n.activatedTab="selectItem"},n.onSelectCustomer=function(e,t){n.activatedTab="customerReceiveOrder",goTop()},n.onSelectDriver=function(e,t){n.activeAddTab=!0,n.activatedTab="addData",goTop()},n.onSelectOrder=function(e,t){log("onSelectOrder"),log(n.form),log(n.data),n.activatedTab="addData",n.activeAddTab=!0;try{n.form.receive_no=t.receive_no||null}catch(e){}},n.onSelect=function(e,t){n.activatedTab="addData"},n.$onInit=function(){n.methodName="sales_exports",n.startInit(),n.checkOpener()},n.checkOpener=function(){try{var e=n.resolve.forModel||{};if("receive"==e.action&&0==e.status){try{n.forModel=e,n.form.driver=e.driver||null,n.form.receive_id=e.id||null,n.form.receive_no=e.receive_no||null,n.form.selectedType=e.selectedType||null,n.form.forUser=e.forUser||null}catch(e){}n.openCustomer()}}catch(e){}},n.openCustomer=function(e){n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.form.selectedType="customer"},n.startInit=function(){n.restForm()},n.restForm=function(){n.data={},n.form={},n.form.items_list=[{itemId:1}],n.activeAddTab=!1,n.form.selectedType="customer"},n.restAddTab=function(){n.activeAddTab=!1;try{delete n.form.receive_id,delete n.data.receiveOrder}catch(e){}n.form.selectedType="customer"},n.showConfirmForm=function(e){try{n.data.confirmForm=!0,n.data.showInvoices=!1,n.data.showItemsBack=!1,n.data.showItemsList=!1,n.data.showExportItemsList=!1}catch(e){}try{angular.forEach(n.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},n.hideConfirmForm=function(){n.data.confirmForm=!1},n.saveAdd=function(){n.close({$value:n.selected})},n.getModelUrl=function(){return"index.php/admin/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"===t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n<div class="modal-content ">\n    <div class="modal-header  py-1 px-2 hidden-sm-down">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة اذن الخروج\n\n            <span\n                    class=" h4 m-0"><label  class="py-2 label label-success">عميل او موزع</label> </span>\n            :</h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">اضافة اذن الخروج\n\n            <span\n                    class=" h5 m-0"><label  class="py-2 label label-success">عميل او موزع</label> </span>\n            :</h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-body mx-2 modal-overflow" id="modal-body">\n        <div class="customtab2 smallTabs ezz-tabs ">\n            <uib-tabset active="$ctrl.activatedTab" >\n                <uib-tab  ng-if="!$ctrl.hideTabSelectUser" heading="العميل" index="\'selectItem\'">\n\n                    <one-selector add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-item="$ctrl.data.selectedItem"\n                                  ng-model="$ctrl.form.forUser"\n                                  on-select="$ctrl.onSelectCustomer"\n                             \n                                  options="\'sales_customers\'"\n                                  title="العميل"\n\n                    ></one-selector>\n\n\n                </uib-tab>\n                <uib-tab  ng-if="!$ctrl.hideTabSelectOrder" disable="!$ctrl.form.forUser" heading="طلب الدخول"\n                          select="$ctrl.restAddTab()"      index="\'customerReceiveOrder\'" ng-hide="!$ctrl.form.forUser">\n                    <one-selector\n                            add-model="addSalesReceives"\n                            use-scroll="true"\n                            can-add="$root.can(\'sales_receives.Add\')"\n                            ng-if="$ctrl.form.forUser"\n                            ng-item="$ctrl.data.receiveOrder"\n                            ng-model="$ctrl.form.receive_id"\n                            on-select="$ctrl.onSelectOrder"\n                            refresh="true"\n                            options="\'sales_receives_new/customer/\'+$ctrl.form.forUser"\n                            title="طلب الدخول"\n\n                    ></one-selector>\n                </uib-tab>\n                <uib-tab ng-if="!$ctrl.hideTabAdd"  disable="!$ctrl.activeAddTab" ng-hide="!$ctrl.activeAddTab" heading="اضافة" index="\'addData\'">\n\n                    <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n\n                       <form-export form="$ctrl.form" view-mode="$ctrl.data.confirmForm"></form-export>\n\n                        <div class="col-lg-12 ezzbtn m-0 mb-2 " style="position: sticky;text-align: left;">\n                           <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                            <button class="btn btn-info  waves-effect waves-light" ng-hide="$ctrl.data.confirmForm"  ng-click="$ctrl.showConfirmForm($event)" ng-disabled="addForm.$invalid"\n                                    type="button"> مراجعة اذن الخروج\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light" ng-show="$ctrl.data.confirmForm" ng-disabled="addForm.$invalid"\n                                    type="submit"> اضافة اذن الخروج\n                            </button>\n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل</div>\n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n                        \n                    </form>\n\n                </uib-tab>\n\n            </uib-tabset>\n\n        </div>\n\n\n    </div>\n</div>\n    \n        '}).component("addSalesExportsV2",{bindings:{resolve:"<",close:"&",dismiss:"&",onAdd:"<?",onCancel:"<?",isModel:"<?"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.hideTabAdd=!1,n.forModel=null,n.setActivatedTab=function(e){n.activatedTab=e},n.selectType=function(e){n.restForm(),n.form.selectedType=e,n.activatedTab="selectItem"},n.onSelectCustomer=function(e,t){n.activatedTab="customerReceiveOrder",goTop()},n.onSelectDriver=function(e,t){n.activeAddTab=!0,n.activatedTab="addData",goTop()},n.onSelectOrder=function(e,t){log("onSelectOrder"),log(n.form),log(n.data),n.activatedTab="addData",n.activeAddTab=!0;try{n.form.receive_no=t.receive_no||null}catch(e){}},n.onSelect=function(e,t){n.activatedTab="addData"},n.$onInit=function(){n.methodName="sales_exports",n.startInit(),n.checkOpener()},n.checkOpener=function(){try{var e=n.resolve.forModel||{};if("receive"==e.action&&0==e.status)try{n.forModel=e,n.form.driver=e.driver||null,n.form.receive_id=e.id||null,n.form.receive_no=e.receive_no||null,n.form.selectedType=e.selectedType||null,n.form.forUser=e.forUser||null}catch(e){}n.openCustomer()}catch(e){}},n.openCustomer=function(e){n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.form.selectedType="customer"},n.startInit=function(){n.restForm()},n.restForm=function(){n.data={},n.form={},n.form.items_list=[{itemId:1}],n.form.saleType=1,n.activeAddTab=!1,n.form.selectedType="customer"},n.restAddTab=function(){n.activeAddTab=!1;try{delete n.form.receive_id,delete n.data.receiveOrder}catch(e){}n.form.selectedType="customer"},n.showConfirmForm=function(e){try{n.data.confirmForm=!0,n.data.showInvoices=!1,n.data.showItemsBack=!1,n.data.showItemsList=!1,n.data.showExportItemsList=!1}catch(e){}try{angular.forEach(n.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},n.hideConfirmForm=function(){n.data.confirmForm=!1},n.saveAdd=function(){n.close({$value:n.selected})},n.getModelUrl=function(){return"index.php/admin/v2/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"===t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة بيع نقد\n\n            :</h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">اضافة بيع نقد\n\n         \n            :</h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n <div id="fhdffggd" dir="rtl" ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n\n                       <form-export sale-type="1" active-v2="true" form="$ctrl.form" view-mode="$ctrl.data.confirmForm"></form-export>\n\n                        <div class="col-lg-12 ezzbtn m-0 mb-2 " style="position: sticky;text-align: left;">\n                           <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                            <button class="btn btn-info  waves-effect waves-light" ng-hide="$ctrl.data.confirmForm"  ng-click="$ctrl.showConfirmForm($event)" ng-disabled="addForm.$invalid"\n                                    type="button"> مراجعة اذن الخروج\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light" ng-show="$ctrl.data.confirmForm" ng-disabled="addForm.$invalid"\n                                    type="submit"> اضافة اذن الخروج\n                            </button>\n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل</div>\n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n                        \n                    </form>\n\n\n\n    </div>\n</div>\n    \n        '}).component("addSalesExportsV2Later",{bindings:{resolve:"<",close:"&",dismiss:"&",onAdd:"<?",onCancel:"<?",isModel:"<?"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.hideTabAdd=!1,n.forModel=null,n.setActivatedTab=function(e){n.activatedTab=e},n.selectType=function(e){n.restForm(),n.form.selectedType=e,n.activatedTab="selectItem"},n.onSelectCustomer=function(e,t){n.activatedTab="customerReceiveOrder",goTop()},n.onSelectDriver=function(e,t){n.activeAddTab=!0,n.activatedTab="addData",goTop()},n.onSelectOrder=function(e,t){log("onSelectOrder"),log(n.form),log(n.data),n.activatedTab="addData",n.activeAddTab=!0;try{n.form.receive_no=t.receive_no||null}catch(e){}},n.onSelect=function(e,t){n.activatedTab="addData"},n.$onInit=function(){n.methodName="sales_exports",n.startInit(),n.checkOpener()},n.checkOpener=function(){try{var e=n.resolve.forModel||{};if("receive"==e.action&&0==e.status)try{n.forModel=e,n.form.driver=e.driver||null,n.form.receive_id=e.id||null,n.form.receive_no=e.receive_no||null,n.form.selectedType=e.selectedType||null,n.form.forUser=e.forUser||null}catch(e){}n.openCustomer()}catch(e){}},n.openCustomer=function(e){n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.form.selectedType="customer"},n.startInit=function(){n.restForm()},n.restForm=function(){n.data={},n.form={},n.form.items_list=[{itemId:1}],n.form.saleType=2,n.activeAddTab=!1,n.form.selectedType="customer"},n.restAddTab=function(){n.activeAddTab=!1;try{delete n.form.receive_id,delete n.data.receiveOrder}catch(e){}n.form.selectedType="customer"},n.showConfirmForm=function(e){try{n.data.confirmForm=!0,n.data.showInvoices=!1,n.data.showItemsBack=!1,n.data.showItemsList=!1,n.data.showExportItemsList=!1}catch(e){}try{angular.forEach(n.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},n.hideConfirmForm=function(){n.data.confirmForm=!1},n.saveAdd=function(){n.close({$value:n.selected})},n.getModelUrl=function(){return"index.php/admin/v2/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"===t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة بيع اجل\n\n            :</h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">اضافة بيع اجل\n\n         \n            :</h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n <div id="fhffggd" dir="rtl" ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n\n                       <form-export sale-type="2" active-v2="true" form="$ctrl.form" view-mode="$ctrl.data.confirmForm"></form-export>\n\n                        <div class="col-lg-12 ezzbtn m-0 mb-2 " style="position: sticky;text-align: left;">\n                           <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                            <button class="btn btn-info  waves-effect waves-light" ng-hide="$ctrl.data.confirmForm"  ng-click="$ctrl.showConfirmForm($event)" ng-disabled="addForm.$invalid"\n                                    type="button"> مراجعة اذن الخروج\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light" ng-show="$ctrl.data.confirmForm" ng-disabled="addForm.$invalid"\n                                    type="submit"> اضافة اذن الخروج\n                            </button>\n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل</div>\n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n                        \n                    </form>\n\n\n\n    </div>\n</div>\n    \n        '}).component("addSalesExportsEmpty",{bindings:{resolve:"<",close:"&",dismiss:"&",onAdd:"<?",onCancel:"<?",isModel:"<?"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.hideTabAdd=!1,n.forModel=null,n.setActivatedTab=function(e){n.activatedTab=e},n.selectType=function(e){n.restForm(),n.form.selectedType=e,n.activatedTab="selectItem"},n.onSelectCustomer=function(e,t){n.activatedTab="customerReceiveOrder",goTop()},n.onSelectDriver=function(e,t){n.activeAddTab=!0,n.activatedTab="addData",goTop()},n.onSelectOrder=function(e,t){log("onSelectOrder"),log(n.form),log(n.data),n.activatedTab="addData",n.activeAddTab=!0;try{n.form.receive_no=t.receive_no||null}catch(e){}},n.onSelect=function(e,t){n.activatedTab="addData"},n.$onInit=function(){n.methodName="sales_exports",n.startInit(),n.checkOpener()},n.checkOpener=function(){try{var e=n.resolve.forModel||{};if("receive"==e.action&&0==e.status)try{n.forModel=e,n.form.driver=e.driver||null,n.form.receive_id=e.id||null,n.form.receive_no=e.receive_no||null,n.form.selectedType=e.selectedType||null,n.form.forUser=e.forUser||null}catch(e){}n.openCustomer()}catch(e){}},n.openCustomer=function(e){n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.form.selectedType="customer"},n.startInit=function(){n.restForm()},n.restForm=function(){n.data={},n.form={},n.form.items_list=[{itemId:1}],n.activeAddTab=!1,n.form.selectedType="customer"},n.restAddTab=function(){n.activeAddTab=!1;try{delete n.form.receive_id,delete n.data.receiveOrder}catch(e){}n.form.selectedType="customer"},n.showConfirmForm=function(e){try{n.data.confirmForm=!0,n.data.showInvoices=!1,n.data.showItemsBack=!1,n.data.showItemsList=!1,n.data.showExportItemsList=!1}catch(e){}try{angular.forEach(n.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},n.hideConfirmForm=function(){n.data.confirmForm=!1},n.saveAdd=function(){n.close({$value:n.selected})},n.getModelUrl=function(){return"index.php/admin/empty/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"===t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})}}],template:'\n <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة اذن خروج فارغ\n\n            :</h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">اضافة خروج فارغ\n\n         \n            :</h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n <div id="fhffggd" dir="rtl" ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                          <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n\n                       <form-export hide-invoice="true" active-v2="true" form="$ctrl.form" view-mode="$ctrl.data.confirmForm"></form-export>\n\n                        <div class="col-lg-12 ezzbtn m-0 mb-2 " style="position: sticky;text-align: left;">\n                           <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                            <button class="btn btn-info  waves-effect waves-light" ng-hide="$ctrl.data.confirmForm"  ng-click="$ctrl.showConfirmForm($event)" ng-disabled="addForm.$invalid"\n                                    type="button"> مراجعة اذن الخروج\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light" ng-show="$ctrl.data.confirmForm" ng-disabled="addForm.$invalid"\n                                    type="submit"> اضافة اذن الخروج\n                            </button>\n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل</div>\n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n                        \n                    </form>\n\n\n\n    </div>\n</div>\n    \n        '}).component("formExport",{bindings:{form:"=",viewMode:"=",hideReceive:"<?",activeV2:"<?",saleType:"<?",hideInvoice:"<?"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.lastReceive="",n.onSelectCustomerV2=function(e){n.lastReceive="",showHideLoad(),t.httpRequest("index.php/admin/getLastReceive/"+e,"GET").then(function(e){apiResponse(e,"add"),e.lastReceive&&(n.lastReceive=e.lastReceive),e.lastReceiveId&&(n.lastReceiveId=e.lastReceiveId),showHideLoad(!0)})},n.changeSaleType=function(){}}],template:'\n          <div class="form-horizontal row  ezz-fields no-f-lp no-i-lp  " dir="rtl">\n\n                       <show-field\n                                class="col-lg-4 col-sm-6 "\n                                name="forUser"\n                                ng-if="$ctrl.form.forUser&&!$ctrl.activeV2"\n                                title="العميل">\n                             <a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',$ctrl.form.forUser,\'c\')">\n                                   <view-name ng-model="$ctrl.form.forUser" options="\'sales_customers\'">\n                            </view-name>\n\n                                </a>\n\n                        </show-field>\n                           <select-ezz-field add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-if="$ctrl.activeV2"\n                                  ng-item="$ctrl.data.selectedItem"\n                                  ng-model="$ctrl.form.forUser"\n                                on-select="$ctrl.onSelectCustomerV2"\n                                  options="\'sales_customers\'"\n                                  is-required="true"\n                                          class="col-lg-3 col-sm-6 px-0"\n\n                                          title="العميل"\n                                          view-mode="$ctrl.viewMode">\n                                          \n</select-ezz-field> \n\n\n\n\x3c!--                        <view-field class="col-lg-4 px-0 " field-type="integer"--\x3e\n\x3c!--                                    name="receive_id" ng-model="$ctrl.form.receive_id"--\x3e\n\x3c!--                                    title="رقم طلب الدخول"></view-field>--\x3e\n\n                     \n                        <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6  "\n                                          custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                          ng-model="$ctrl.form.driver"\n                                          view-mode="$ctrl.viewMode"\n                                          options="\'sales_drivers\'"\n                                          title="السائق"></select-ezz-field>\n   <view-field class="col-lg-3 col-sm-4  " field-type="integer"\n                                    name="receive_no" ng-model="$ctrl.form.receive_no"\n                              ng-if="!$ctrl.activeV2"\n                                     title="طلب الدخول "></view-field>\n   <show-field class="col-lg-3 col-sm-4  "\n                                    name="lastReceive" \n                              ng-if="$ctrl.activeV2"\n                                     title="اخر طلب الدخول "  >\n                                           <a  href class="pointer" ng-click="$root.openModelViewer(\'viewReceive\',$ctrl.lastReceiveId,\'تفاصيل \')">\n                                  {{$ctrl.lastReceive}}\n\n                                </a>\n                                     \n</show-field>\n                \n\n                            <ezz-date-edit class="col-lg-2 col-sm-4   " ng-required="true" title="التاريخ"  view-mode="$ctrl.viewMode"  ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        <input-field class="col-lg-3 col-sm-4  " field-type="integer"\n                         view-mode="$ctrl.viewMode" ng-if="$root.dashboardData.useExportNo"  name="export_no" ng-model="$ctrl.form.export_no"\n                                    ng-required="$root.dashboardData.useBooks" title="اذن الخروج يدوي"></input-field>\n                        <radios-field    ng-if="!$ctrl.hideInvoice && !$ctrl.saleType " class="col-auto  px-0  " required="true"\n                                     on-change="$ctrl.changeSaleType()" ng-hide="$ctrl.viewMode" name="saleType" ng-model="$ctrl.form.saleType"\n                                      options="$root.dashboardData.saleTypes"\n                                      title="الفاتورة"></radios-field>\n                       \n                        <show-field\n                               ng-if="!$ctrl.hideInvoice" ng-show="$ctrl.viewMode"      class="col-lg-3 col-sm-4 "\n                                title="الفاتورة">{{$root.dashboardData.saleTypes[$ctrl.form.saleType].name}}\n                        </show-field>\n                    \n                            <input-field class="col-lg-3 col-sm-4  " ng-show="$ctrl.form.saleType!=3" field-type="integer"\n                                  ng-required="$root.dashboardData.useBooks" \n                 \n                                    view-mode="$ctrl.viewMode"   name="bill_id" ng-model="$ctrl.form.bill_id"\n                                       title="فاتورة يدوي"></input-field>\n\n                    \n                      \n               <account-selector ng-if="$ctrl.form.saleType==1" ng-model="$ctrl.form.bank_account" \n                   title="الصندوق" ng-required="true" selector="\'bank\'" view-mode="$ctrl.viewMode" \n                      class="col-lg-3 col-sm-4 " ></account-selector>\n\n                    \n                        <div class="col-lg-12 mt-2 ">\n\n                            <export-list ng-model="$ctrl.form.items_list" view-broken="$ctrl.hideInvoice" view-price="!$ctrl.hideInvoice"\n                                      view-mode="$ctrl.viewMode"\n                            ></export-list>\n                        </div>\n                          <panel  ng-hide="$ctrl.hideReceive" default="true"\n                           ng-if="$ctrl.form.receive_id" class="mt-2 row col-lg-12 p-0 m-0" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title > قائمة طلب الدخول: </panel-title>\n                            <panel-body class="col-lg-12  p-0 m-0">\n                           <items-for\n                                    ng-if="$ctrl.form.receive_id"\n                                    ng-model="$ctrl.form.receive_id"\n                                    type="\'receives\'"\n                                    view-price="0" no-total="true"></items-for>\n                            </panel-body>\n                        </panel>\n</div>\n\n\n                  \n                  \n\n    \n        '}).component("viewExport",{bindings:{item:"<?",resolve:"<",close:"&",dismiss:"&",hideReceive:"<?"},controller:["$scope","EzzFilter","dataFactory",function(e,t,n){var l=this;l.$onInit=function(){l.resolve&&(!l.item&&l.resolve.forId&&(l.item=l.resolve.forId||null),l.title=l.resolve.title||"تفاصيل الحركة",l.isModel=!1|l.resolve.isModel),l.item&&l.load()},l.close=function(){l.dismiss({$value:"cancel"})},l.load=function(){showHideLoad(),n.httpRequest("index.php/admin/sales_exports/"+l.item||0,"GET",{viewer:!0}).then(function(e){showHideLoad(!0),apiResponse(e,"add"),l.data=e})}}],template:'\n          <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n            <h4 class="modal-title mb-0" id="modal-title">\n                {{$ctrl.title}}\n            </h4>\n            <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.close()">اغلاق</button>\n\n        </div>\n        <div id="modal-body" ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                     <form-export form="$ctrl.data" view-mode="true" hide-receive="$ctrl.hideReceive"></form-export>\n        </div>\n    </div>\n                  \n\n    \n        '}).component("exportsSearch",{bindings:{form:"=?",onHide:"<?",onClear:"<?",onSearch:"<?"},controller:["$timeout","dataFactory",function(e,t){var n=this;n.$onInit=function(){},n.doSearch=function(){try{n.onSearch(2)}catch(e){}},n.clearForm=function(){try{n.onClear()}catch(e){}},n.closeSearch=function(){try{n.onHide()}catch(e){}};var l=null;n.searchChangeCustomer=function(){try{delete n.form.driver}catch(e){}n.searchChange()},n.searchChange=function(t){try{e.cancel(l)}catch(e){}l=e(function(){try{n.onSearch(1)}catch(e){}},500)}}],template:'\n\n        <div class=" card card-outline-danger m-0" style="\n    background-color: #ffffff;\n    border: 1px solid #2e323b;\n    ">\n\n            <div class="card-block pt-0 pb-2 px-0">\n\n                <form class=" col-lg-12 px-0 text-center" name="searchForm" ng-submit="$ctrl.doSearch(1)" novalidate\n                      role="form">\n                    <div class="row ">\n          <div class=" mt-2   row ezz-field col-lg-2  px-0" >\n                             <div class="input-group ezz-datepicker" >\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">بحث</div>\n                    </div>\n\n              \n <input class="form-control radius-end"   ng-model="$ctrl.form.text" ng-change="$ctrl.searchChange()"\n                        placeholder="بحث" \n                           type=\'text\'\n                          \n                           >\n\n                </div>\n\n                     \n                            </div>\n                     \n                        <select-ezz-field\n                                          ng-model="$ctrl.form.forUser"\n                                          options="\'sales_customers\'"\n                                         on-change="$ctrl.searchChangeCustomer"     class="col-lg-2 px-0"\n                                          title="العميل"\n                                         >\n\n                        </select-ezz-field>\n                        <select-ezz-field\n                                          class="col-lg-2 px-0"\n                                          disabled="!$ctrl.form.forUser"\n                                          disabled-message="\'حدد العميل اولا\'"\n\n\n                                          ng-model="$ctrl.form.driver"\n                                        custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                       on-change="$ctrl.searchChange"       options="\'sales_drivers\'"\n                                          title="السائق"\n                                      ></select-ezz-field>\n\n\n                        <ezz-date-edit class="col-lg-2   px-0" title="التاريخ"\n                                   on-change="$ctrl.searchChange"       ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n\n                    <radios-field class="col-lg-2 px-0  " \n                                     name="saleType" ng-model="$ctrl.form.saleType"\n                            on-change="$ctrl.searchChange"            options="$root.dashboardData.saleTypes"\n                                      title="نوع البيع"></radios-field>\n\n\n\n                        <div class="form-group col-auto m-0 p-0 mt-2 ">\n                            <div class=" input-sm2  ">\n                                <button class=" card-block-input-item btn btn-info   " style="height: 30px" type="submit">بحث <i\n                                        class="fa fa-search"></i></button>\n                                <a class=" card-block-input-item btn btn-danger  "  style="height: 30px"\n                                   ng-click="$ctrl.clearForm();">\n                                    X</a>\n                                <a class="btn  btn-danger  card-block-input-item" \n                                 style="height: 30px" ng-click="$ctrl.closeSearch()"\n                                      >اخفاء البحث\n                                </a>\n\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n\n\n            </div>\n\n        </div>\n  \n\n\n                  \n                  \n\n    \n        '}).component("editExport",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.forId=s.resolve.forId||null,s.load()},s.load=function(){showHideLoad(),s.loading=!0,o.httpRequest("index.php/admin/sales_exports/"+s.forId||0,"GET",{editor:!0}).then(function(e){s.loading=!1,showHideLoad(!0),s.form=e})},s.saveData=function(){s.loading=!0,o.httpRequest("index.php/admin/super/edExp/"+s.forId||0,"POST",{},s.form).then(function(e){s.loading=!1,apiResponse(e,"add")})},s.cancel=function(){s.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Edit Export:</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n             \n                <div class="row" ng-if="$ctrl.form">\n                  \n           <select-ezz-field add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-model="$ctrl.form.forUser"\n                                  options="\'sales_customers\'"\n                                  is-required="true"\n                                          class="col-lg-3 col-sm-6 px-0"\n\n                                          title="العميل"\n                                       >\n                                          \n</select-ezz-field> \n          \n                              \n             <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6 px-0"\n                                          custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                          ng-model="$ctrl.form.driver"\n\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                     ></select-ezz-field> \n\n                      \n                            <ezz-date-edit class="col-lg-2 col-sm-4   px-0"\n                               ng-required="true"  title="التاريخ" \n                                \n                                ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        \n                          <input-field class="col-lg-3 col-sm-4  " field-type="integer"\n                                name="export_no" ng-model="$ctrl.form.export_no"\n                                title="اذن الخروج"></input-field>\n\n                    \n                            <input-field class="col-lg-3 col-sm-4  " field-type="integer"\n                                     name="bill_id" ng-model="$ctrl.form.bill_id"\n                                      title="فاتورة البيع"></input-field>\n\n       \n                </div>\n                \n                <div class="modal-footer">\n                        <button\n                                      \n                                       class="btn btn-danger  "\n                                        ng-click="$ctrl.saveData()"\n                                        >تعديل \n                                    <i class="fa fa-save"></i>\n                                </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n                   <div class="row">\n                <view-receive ng-if="!$ctrl.loading && $ctrl.form.receive_id" item="$ctrl.form.receive_id"></view-receive>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}),angular.module("OraSchool").component("addSalesReceives",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.onSelectCustomer=function(e,t){n.activatedTab="addData",n.activeAddTab=!0;try{delete n.data.confirmForm,delete n.data.exportOrder}catch(e){}},n.closeModal=function(){n.close({$value:"cancel"})},n.dismissModel=function(){n.dismiss({$value:"cancel"})},n.cancel=function(){try{n.dismiss({$value:"cancel"})}catch(e){}}}],template:'\n<div class="modal-content ">\n    <div class="modal-header py-1 px-2 hidden-sm-down">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة طلب دخول\n\n            <span class=" h4 m-0"\n            ><label\n                    class="py-2 m-0 label label-success">عميل او موزع</label> </span>\n\n        </h4>\n        <button class="btn btn-danger pull-right" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n    </div>\n    <div class="modal-header py-1 px-2 hidden-md-up" style="background-color: #00bcd417;">\n        <h6 class="modal-title mb-0 ">طلب دخول\n\n            <span class=" h5 m-0"\n            ><label\n                    class="py-2 m-0 label label-success">عميل او موزع</label> </span>\n        </h6>\n        <button class="btn btn-danger btn-sm pull-right" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n    </div>\n    <div class="modal-body mx-2 modal-overflow" id="modal-body">\n        <div class="customtab2 smallTabs ezz-tabs ">\n            <uib-tabset active="$ctrl.activatedTab">\n                \x3c!--            <uib-tab heading="test" index="\'test\'">--\x3e\n\n                \x3c!--            </uib-tab>--\x3e\n\n                <uib-tab heading="تحديد" index="\'selectItem\'"\n\n                         ng-if="!$ctrl.hideTabSelectUser">\n                    <one-selector add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-item="$ctrl.data.selectedItem"\n                                  ng-model="$ctrl.form.forUser"\n                                  on-select="$ctrl.onSelectCustomer"\n                                  options="\'sales_customers\'"\n                                  title="العميل"\n\n                    ></one-selector>\n\n                </uib-tab>\n                <uib-tab disable="!$ctrl.activeAddTab" heading="اضافة" index="\'addData\'" ng-hide="!$ctrl.activeAddTab"\n                         ng-if="!$ctrl.hideTabAdd">\n                         <add-receive form="$ctrl.form" data="$ctrl.data" close="$ctrl.closeModal()" \n                        active-add-tab="$ctrl.activeAddTab" dismiss="$ctrl.dismissModel()"  is-model="true"></add-receive>\n\n\n\n                </uib-tab>\n\n            </uib-tabset>\n\n        </div>\n        <json-viewr ng-model="$ctrl.form"></json-viewr>\n    </div>\n</div>\n    \n        '}).component("formReceive",{bindings:{form:"=",isModel:"<?",viewMode:"="},controller:["EzzFilter","dataFactory",function(e,t){}],template:'\n          <div class="form-horizontal row  ezz-fields no-f-lp no-i-lp m-1" dir="rtl">\n\n                        <show-field\n                                class="col-lg-3 col-sm-6 px-0 "\n                                name="forUser"\n                                ng-show="$ctrl.viewMode && $ctrl.form.forUser"\n                                title="العميل">\n                                   <a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',$ctrl.form.forUser,\'c\')">\n                                   <view-name ng-model="$ctrl.form.forUser" options="\'sales_customers\'">\n                            </view-name>\n\n                                </a>\n                          \n                        </show-field>\n\n\n                                <select-ezz-field add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                ng-if="!$ctrl.isModel"\n                                  ng-item="$ctrl.data.selectedItem"\n                                  ng-model="$ctrl.form.forUser"\n                                  options="\'sales_customers\'"\n                                  is-required="true"\n                                          class="col-lg-3 col-sm-6 px-0"\nng-hide="$ctrl.viewMode"\n\n                                          title="العميل"\n                                          view-mode="$ctrl.viewMode">\n                                          \n</select-ezz-field> \n             <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6 px-0"\n                                          custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                          ng-model="$ctrl.form.driver"\n\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                          view-mode="$ctrl.viewMode"></select-ezz-field> \n\n\x3c!--                        <datetime-field    ng-required="true"  class="col-lg-3 col-sm-3 --\x3e\n\x3c!--                             px-0" title="التاريخ"   --\x3e\n\x3c!--                           view-mode="$ctrl.viewMode" ng-model="$ctrl.form.add_at"></datetime-field>--\x3e\n\n                            <ezz-date-edit class="col-lg-2 col-sm-4   px-0"   ng-required="true"  title="التاريخ"  view-mode="$ctrl.viewMode" ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        \n                        <input-field class="col-lg-2 col-sm-4  px-0" field-type="integer"\n                                     name="receive_no" ng-model="$ctrl.form.receive_no"\n                                     title="رقم طلب الدخول"\n                                 ng-required="true"    placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n\n                        <car-field class="col-lg-2 col-sm-4  px-0" field-type="integer"\n                                     name="carNo" \n                                     ng-model="$ctrl.form.carNo"\n                                     sub-model="$ctrl.form.carCityNo"\n                                     title="رقم السيارة"\n                                     view-mode="$ctrl.viewMode"></car-field>\n       \n                                            \n                                            <row-list class="col-lg-12 px-0 m-0 mt-2" ng-model="$ctrl.form.items_list" \n                                            view-mode="$ctrl.viewMode"\n                                      view-price="0"></row-list>\n                      \n</div>\n\n\n                  \n                  \n\n    \n        '}).component("viewReceive",{bindings:{item:"<?",byExport:"<?",resolve:"<",close:"&",dismiss:"&"},controller:["$scope","$uibModal","EzzFilter","dataFactory","$timeout",function(e,t,n,l,o){var i=this;i.$onInit=function(){i.resolve&&(!i.item&&i.resolve.forId&&(i.item=i.resolve.forId||null),i.title=i.resolve.title||"تفاصيل الحركة",i.isModel=!1|i.resolve.isModel),i.item&&i.load()},i.close=function(){i.dismiss({$value:"cancel"})},i.print=function(){try{i.todayDate=moment()}catch(e){}o(function(){try{$.print("#fhffggd")}catch(e){}})},i.openAddModelFull=function(e,n){try{var l=t.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forModel:function(){return n}}});try{l.result.then(function(){i.load()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.load=function(){showHideLoad(),i.loading=!0,i.byExport?l.httpRequest("index.php/admin/viewByExport/"+i.item||0,"GET",{viewer:!0}).then(function(e){i.loading=!1,showHideLoad(!0),apiResponse(e,"add"),i.data=e}):l.httpRequest("index.php/admin/sales_receives/"+i.item||0,"GET",{viewer:!0}).then(function(e){i.loading=!1,showHideLoad(!0),apiResponse(e,"add"),i.data=e})}}],template:'\n          <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n            <h4 class="modal-title mb-0" id="modal-title">\n                {{$ctrl.title}}\n            </h4>\n                       <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.print()">طباعة</button>\n <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.close()">اغلاق</button>\n\n        </div>\n        <div id="fhffggd" dir="rtl" ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                    \n                     \n                         <panel  class="mt-2 row col-12 p-0 m-0" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title >  طلب الدخول: </panel-title>\n                           <panel-body  class="col-lg-12  p-0 m-0">\n                            <form-receive form="$ctrl.data" view-mode="true"></form-receive>\n</panel-body>\n                        </panel>\n              \n<div class="col-12 text-center " >\n    <button\n                                        ng-if="$root.can(\'sales_exports.Add\') && $ctrl.data.status==0"\n                                        ng-show="$ctrl.data.status==0" class="btn btn-success  "\n                                        ng-click="$ctrl.openAddModelFull(\'addSalesExports\',$ctrl.data)"\n                                        >اضافة اذن الخروج\n                                    <i class="fa fa-plus"></i>\n                                </button>\n</div>\n                         <panel  ng-if="$ctrl.data.export_id"  class="mt-2 row col-12 p-0 m-0" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title >  طلب الخروج: </panel-title>\n                           <panel-body  class="col-lg-12  p-0 m-0">\n                             <view-export  item="$ctrl.data.export_id"  hide-receive="true"></view-export>\n</panel-body>\n                        </panel>\n                        <panel  class="row col-12 p-0 m-0" default="false" ng-if="$ctrl.data.for_uuid&& !$ctrl.loading"  >\n    <panel-title >القيود المحاسبية   </panel-title>\n    <panel-body class="col-12 row p-0 m-0">\n        <uuid-transactions uuid="$ctrl.data.for_uuid" class="row col-12 mt-2" ></uuid-transactions>\n\n    </panel-body>\n</panel>\n  <div dir="ltr" class=" px-2 only-print" ng-if="$ctrl.todayDate">\n                    طبع بتاريخ\n                     :{{$ctrl.todayDate|dateFormat}}\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   المستخدم\n                     :{{$root.dashboardData.baseUser.fullName}}\n                             &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   م.العملية\n                     :{{$ctrl.data.id|| $ctrl.item}}\n                     </div>\n</div>\n        </div>\n    </div>\n                  \n\n    \n        '}).component("addReceive",{bindings:{add:"<?",data:"=?",isModel:"<?",activeAddTab:"=?",form:"=?",resolve:"<",onAdd:"<?",onCancel:"<?",close:"&",dismiss:"&"},controller:["$scope","$uibModal","EzzFilter","dataFactory",function(e,t,n,l){var o=this;o.hideTabSelectType=!1,o.hideTabSelectUser=!1,o.hideTabSelectOrder=!1,o.hideTabAdd=!1,o.$onInit=function(){o.methodName="sales_receives",o.startInit(),o.checkOpener()},o.checkOpener=function(){try{var e=o.resolve.forModel||o.forModel||{};if("export"==e.action&&0==e.status){try{o.form.driver=e.driver||null,o.form.export_id=e.id||null,o.form.export_no=e.export_no||null,o.form.selectedType=e.selectedType||null}catch(e){}o.openDriver()}}catch(e){}},o.openDriver=function(e){o.hideTabSelectType=!0,o.hideTabSelectUser=!0,o.hideTabSelectOrder=!0},o.startInit=function(){o.restForm(),o.activeAddTab=!1},o.addDone=function(){try{log("onAdd"),o.onAdd()}catch(e){}try{o.close({$value:data})}catch(e){}try{o.restForm(),o.activeAddTab=!1}catch(e){}},o.closeAdd=function(){try{log("onCancel"),o.onCancel()}catch(e){}try{o.dismiss({$value:data})}catch(e){}try{o.close({$value:data})}catch(e){}},o.restForm=function(){o.data={},o.form={},o.form.items_list=[{itemId:1}],o.activeAddTab=!1;try{o.form.reqUuid=uuid.v1()}catch(e){}o.form.selectedType="customer"},o.restAddTab=function(){o.activeAddTab=!1;try{delete o.form.export_id,delete o.form.export_no,delete o.data.exportOrder,delete o.data.confirmForm}catch(e){}o.form.selectedType="customer"},o.clearDriver=function(){o.data.exportOrder,delete o.form.driver},o.clearCustomer=function(){},o.getModelUrl=function(){return"index.php/admin/"+o.methodName},o.saveAdd=function(){showHideLoad(),l.httpRequest(o.getModelUrl()+"","POST",{},o.form).then(function(e){if(apiResponse(e,"add"),"success"===e.status)try{showHideLoad(),n.refreshAsync(o.methodName).then(function(){showHideLoad(!0);try{o.addDone()}catch(e){}}).catch(function(){showHideLoad(!0);try{o.addDone()}catch(e){}})}catch(e){showHideLoad(!0);try{o.addDone()}catch(e){}}showHideLoad(!0)})},o.showConfirmForm=function(e){try{o.data.confirmForm=!0,o.data.showInvoices=!1,o.data.showItemsBack=!1,o.data.showItemsList=!1,o.data.showExportItemsList=!1}catch(e){}try{angular.forEach(o.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},o.hideConfirmForm=function(){o.data.confirmForm=!1}}],template:'\n    \n\n                        <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm"\n                          ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n<form-receive form="$ctrl.form" view-mode="$ctrl.data.confirmForm" is-model="$ctrl.isModel"></form-receive>\n\n\n                       \n\n\n\n\n                        <panel   ng-if="0&&$root.can(\'sales_receives.addDriverItemsBack\') && $ctrl.form.forUser" class="mt-2 row col-lg-12 p-0 m-0" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title >مرتجع مبيعات </panel-title>\n                            <panel-body class="col-lg-12  p-0 m-0">\n                                <row-list color="red"\n                                          multi="true"\n                                          ng-model="$ctrl.form.itemsBack" view-mode="$ctrl.data.confirmForm"\n                                          view-price="0" back-price="1"></row-list>\n                            </panel-body>\n                        </panel>\n                        <div class="modal-footer row col-lg-12 px-0 form-group m-b-0 "\n                        >\n                                                    <div\n                                class="col-lg-12  m-0  " style="position: sticky;text-align: left;">\n                            <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                                 <button class="btn btn-info  waves-effect waves-light" ng-click="$ctrl.showConfirmForm($event)"\n                                    ng-disabled="addForm.$invalid" ng-hide="$ctrl.data.confirmForm"\n                                    type="button"> مراجعة طلب الدخول\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light"\n                                    ng-disabled="addForm.$invalid" ng-show="$ctrl.data.confirmForm"\n                                    type="submit"> اضافة طلب الدخول\n                            </button>\n                           \n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل\n                            </div>\n                            <div class="btn btn-danger" ng-click="$ctrl.closeAdd()" type="button">الغاء الاضافة</div>\n\n                        </div>\n\n                        </div>\n                    </form>\n\n        '}).component("editReceive",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.forId=s.resolve.forId||null,s.load()},s.load=function(){showHideLoad(),s.loading=!0,o.httpRequest("index.php/admin/sales_receives/"+s.forId||0,"GET",{editor:!0}).then(function(e){s.loading=!1,showHideLoad(!0),s.form=e})},s.saveData=function(){s.loading=!0,o.httpRequest("index.php/admin/super/edRev/"+s.forId||0,"POST",{},s.form).then(function(e){s.loading=!1,apiResponse(e,"add")})},s.cancel=function(){s.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Edit Receive:</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n             \n                <div class="row" ng-if="$ctrl.form">\n                  \n           <select-ezz-field add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-model="$ctrl.form.forUser"\n                                  options="\'sales_customers\'"\n                                  is-required="true"\n                                          class="col-lg-3 col-sm-6 px-0"\n\n                                          title="العميل"\n                                       >\n                                          \n</select-ezz-field> \n                              \n             <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6 px-0"\n                                          custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                          ng-model="$ctrl.form.driver"\n\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                     ></select-ezz-field> \n\n                      \n                            <ezz-date-edit class="col-lg-2 col-sm-4   px-0"\n                               ng-required="true"  title="التاريخ" \n                                \n                                ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        \n                        <input-field class="col-lg-2 col-sm-4  px-0" field-type="integer"\n                                     name="receive_no" ng-model="$ctrl.form.receive_no"\n                                     title="رقم طلب الدخول"\n                                 ng-required="true"    placeholder="_____"\n                                  ></input-field>\n\n                        <car-field class="col-lg-2 col-sm-4  px-0" field-type="integer"\n                                     name="carNo" \n                                     ng-model="$ctrl.form.carNo"\n                                     sub-model="$ctrl.form.carCityNo"\n                                     title="رقم السيارة"\n                                     view-mode="$ctrl.viewMode"></car-field>\n       \n                </div>\n                \n                <div class="modal-footer">\n                        <button\n                                      \n                                       class="btn btn-danger  "\n                                        ng-click="$ctrl.saveData()"\n                                        >تعديل \n                                    <i class="fa fa-save"></i>\n                                </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n                   <div class="row">\n                <view-receive ng-if="!$ctrl.loading" item="$ctrl.forId"></view-receive>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}).component("receivesSearch",{bindings:{form:"=?",onHide:"<?",onClear:"<?",onSearch:"<?"},controller:["$timeout","dataFactory",function(e,t){var n=this;n.$onInit=function(){},n.doSearch=function(){try{n.onSearch(1)}catch(e){}},n.searchChangeCustomer=function(){try{delete n.form.driver}catch(e){}n.searchChange()};var l=null;n.searchChange=function(t){try{e.cancel(l)}catch(e){}l=e(function(){try{n.onSearch(1)}catch(e){}},500)},n.clearForm=function(){try{n.onClear()}catch(e){}},n.closeSearch=function(){try{n.onHide()}catch(e){}}}],template:'\n\n        <div class=" card card-outline-danger m-0" style="\n    background-color: #ffffff;\n    border: 1px solid #2e323b;\n    ">\n\n            <div class="card-block pt-0 pb-2 px-0">\n\n                <form class=" col-lg-12 px-0 text-center"  name="searchForm" ng-submit="$ctrl.doSearch(1)" novalidate\n                      role="form">\n                    <div class="row ">\n                     <div class=" mt-2   row ezz-field col-lg-2  px-0" >\n                             <div class="input-group ezz-datepicker" >\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">بحث</div>\n                    </div>\n\n              \n <input class="form-control radius-end" ng-change="$ctrl.searchChange()"   ng-model="$ctrl.form.text" ng-enter="$ctrl.doSearch(1)"\n                        placeholder="بحث" \n                           type=\'text\'\n                          \n                           >\n\n                </div>\n\n                     \n                            </div>\n                     \n                        <select-ezz-field\n                                          ng-model="$ctrl.form.forUser"\n                                          options="\'sales_customers\'"\n                                          class="col-lg-3 px-0"\n                                           on-change="$ctrl.searchChangeCustomer" \n                                          title="العميل"\n                                         >\n\n                        </select-ezz-field>\n                        <select-ezz-field\n                                          class="col-lg-3 px-0"\n\n                                          ng-model="$ctrl.form.driver"\n                                          options="\'sales_drivers\'"\n                                                  custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                              on-change="$ctrl.searchChange" \n                                          title="السائق"\n                                      ></select-ezz-field>\n\n\n                        <ezz-date-edit class="col-lg-2   px-0" title="التاريخ"\n                                      on-change="$ctrl.searchChange" \n                                           ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n\n\n\n\n\n                        <div class="form-group col-auto m-0 p-0 mt-2 ">\n                            <div class=" input-sm2  ">\n                                <button class=" card-block-input-item btn btn-info   " style="height: 30px" type="submit">بحث <i\n                                        class="fa fa-search"></i></button>\n                                <a class=" card-block-input-item btn btn-danger  "  style="height: 30px"\n                                   ng-click="$ctrl.clearForm();">\n                                    X</a>\n                                <a class="btn  btn-danger  card-block-input-item" \n                                 style="height: 30px" ng-click="$ctrl.closeSearch()"\n                                      >اخفاء البحث\n                                </a>\n\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n\n\n            </div>\n\n        </div>\n  \n\n\n                  \n                  \n\n    \n        '}),angular.module("OraSchool").component("addSalesInvoice",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory","$timeout",function(e,t,n){var l=this;l.$onInit=function(){l.methodName="sales_invoices",l.data={},l.form={},l.startInit();try{store.has("addSalesInvoice#defPrice")&&(l.defPrice=store.get("addSalesInvoice#defPrice")),store.has("addSalesInvoice#defPriceSmall")&&(l.defPriceSmall=store.get("addSalesInvoice#defPriceSmall"))}catch(e){}},l.startInit=function(){n(function(){l.restForm()})},l.restForm=function(){delete l.form.bill_id,l.data.confirmForm=!1,l.form.items_list=[{itemId:1,price:l.defPrice||null}],l.activeAddTab=!1},l.showConfirmForm=function(e){try{l.data.confirmForm=!0}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},l.hideConfirmForm=function(){l.data.confirmForm=!1},l.getModelUrl=function(){return"index.php/admin/"+l.methodName},l.saveAdd=function(){showHideLoad(),l.form.day=l.defDay,l.form.saleType=l.saleType,l.form.month=l.defMonth,t.httpRequest(l.getModelUrl()+"","POST",{},l.form).then(function(e){apiResponse(e,"add"),"success"==e.status?(showHideLoad(!0),l.startInit({$value:e})):l.data.confirmForm=!1,showHideLoad(!0)})},l.cancel=function(){l.close({$value:l.form})}}],template:'\n<div class="modal-content ">\n    <div class="modal-header  py-1 px-2 hidden-sm-down">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة فاتورة\n        </h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">اضافة فاتورة </h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-body mx-2" id="modal-body">\n        <div class="customtab2 smallTabs ezz-tabs ">\n\n            <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()"\n                  novalidate role="form">\n                <input default="0"   group="\'addSalesInvoice\'" ng-model="$ctrl.defDay" store-value="defDay" type="hidden">\n                <input default="0"   group="\'addSalesInvoice\'" ng-model="$ctrl.saleType" store-value="saleType" type="hidden">\n                <input default="0"   group="\'addSalesInvoice\'" ng-model="$ctrl.defMonth" store-value="defMonth" type="hidden">\n                <input default="0"   group="\'addSalesInvoice\'" ng-model="$ctrl.defPrice" store-value="defPrice" type="hidden">\n                <select-ezz-field add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-item="$ctrl.data.selectedItem"\n                                  ng-model="$ctrl.form.forUser"\n                                  class="col-lg-3"\n                                  view-mode="$ctrl.data.confirmForm"\n                                  options="\'sales_customers\'"\n                                  title="العميل"></select-ezz-field>\n\n\n\n                <number2-field class="col-lg-2 " required="true" field-type="integer"\n\n                               view-mode="$ctrl.data.confirmForm"\n                               name="bill_id" ng-model="$ctrl.form.bill_id"\n                               title="فاتورة"></number2-field>\n\n                <number2-field class="col-lg-2  " required="true" field-type="integer"\n\n                               view-mode="$ctrl.data.confirmForm"\n                               name="day" ng-model="$ctrl.defDay"\n                               title="يوم"></number2-field>\n\n                <number2-field class="col-lg-2  " required="true" field-type="integer"\n                               view-mode="$ctrl.data.confirmForm"\n                               name="day" ng-model="$ctrl.defMonth"\n                               title="شهر"></number2-field>\n\n\n                <radios-field class="col-lg-3  " required="true"\n                              ng-hide="$ctrl.data.confirmForm" name="saleType" ng-model="$ctrl.saleType"\n                              options="$root.dashboardData.saleTypes"\n                              title="نوع البيع"></radios-field>\n                <show-field\n                        ng-show="$ctrl.data.confirmForm"\n                        class="col-lg-3  "\n                        title="نوع البيع">{{$root.dashboardData.saleTypes[$ctrl.saleType].name}}\n                </show-field>\n                <div class="col-lg-12 mt-2 px-0">\n                    <row-list-invoice ng-model="$ctrl.form.items_list" view-price="true"\n                                      view-mode="$ctrl.data.confirmForm"\n                    ></row-list-invoice>\n                </div>\n\n\n                <div class="modal-footer row col-lg-12 px-0 form-group m-b-0 mt-2">\n                    <h4 class="col m-0 mb-2 text-center" ng-show="addForm.$invalid">\n                        <label class="py-0 mt-2 label bg-100 bg-red-100 bold">\n                            يرجى اكمال البيانات من اجل تفعيل الاضافة\n                        </label>\n                    </h4>\n\n                    <number2-field class="col-lg-2  " field-type="integer"\n\n                                   name="defPrice" ng-model="$ctrl.defPrice"\n                                   title="السعر كبير الافتراضي"></number2-field>\n                    <div class="ezzbtn m-0 mb-2 text-center">\n\n                        <button class="btn btn-info  waves-effect waves-light" ng-hide="$ctrl.data.confirmForm"  ng-click="$ctrl.showConfirmForm($event)" ng-disabled="addForm.$invalid"\n                                type="button"> مراجعة الفاتورة\n                        </button>\n\n                        <button class="btn btn-success  waves-effect waves-light" ng-show="$ctrl.data.confirmForm" ng-disabled="addForm.$invalid"\n                                type="submit"> اضافة الفاتورة\n                        </button>\n                        <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                             ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل</div>\n                        <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n                    </div>\n\n                </div>\n            </form>\n\n\n        </div>\n\n    </div>\n</div>\n    \n        '}).component("checkSalesInvoice",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory","$timeout",function(e,t,n){var l=this;l.$onInit=function(){l.methodName="sales_invoices",l.form={},l.startInit()},l.startInit=function(){l.forId=l.resolve.forId||null,l.forModel=l.resolve.forModel||null,l.loadData()},l.restForm=function(){},l.getModelUrl=function(){return"index.php/admin/"+l.methodName},l.saveAdd=function(){showHideLoad(),t.httpRequest(l.getModelUrl()+"/transfer/"+l.forId,"POST",{}).then(function(e){apiResponse(e,"add"),"success"===e.status&&(showHideLoad(!0),l.close({$value:e.data||{}})),showHideLoad(!0)})},l.loadData=function(){showHideLoad(),t.httpRequest(l.getModelUrl()+"/"+l.forId,"GET",{transfer:!0}).then(function(e){apiResponse(e,"add"),is_undefined(e.id)||(l.form=e),showHideLoad(!0)})},l.cancel=function(){l.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-content ">\n  <div class="modal-header  py-1 px-2 hidden-sm-down">\n            <h4 class="modal-title mb-0" id="modal-title">عرض/ترحيل فاتورة \n           </h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n        </div>\n  <div class="modal-header  py-1 px-2 hidden-md-up">\n            <h6 class="modal-title mb-0">عرض/ترحيل فاتورة  </h6>\n                <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n        </div>\n        <div class="modal-body mx-2" id="modal-body">\n                     <div class="customtab2 smallTabs ezz-tabs ">\n   \n                        <div ng-if="$ctrl.form.id" class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm"\n                       role="form">\n                        <show-field\n                                class="col-lg-3 "\n                                name="forUser"\n                                ng-if="$ctrl.form.forUser"\n                                title="العميل">\n                            <view-name ng-model="$ctrl.form.forUser" options="\'sales_customers\'">\n                            </view-name>\n\n                        </show-field>\n              <view-field\n                                class="col-lg-2 px-0"\n                                name="bill_id"\n                                ng-model="$ctrl.form.bill_id"\n                                      ng-if="$ctrl.form.bill_id"\n                                title="فاتورة"></view-field>\n\n                 <show-field class="col-lg-3 px-0 "\n                                                    title="نوع البيع">{{$root.dashboardData.saleTypes[$ctrl.form.saleType].name}}\n                                            </show-field>\n\n\n                 <show-field class="col-lg-3 px-0 "\n                                                    title="بتاريخ">{{$ctrl.form.add_at|dateSmallFormat}}\n                                            </show-field>\n\n     \n           \n\n                    <div class="col-lg-12 mt-2 px-0">\n                        <items-view hide-back="true"  ng-model="$ctrl.form.items" view-price="true"\n                        ></items-view>\n                    </div>\n\n\n                </div>\n\n              \n                        <div class="col-lg-12 ezzbtn m-0 mb-2 mt-3 pull-left" style="position: sticky;text-align: left;">\n                            \n                                \n                             \n                            <button  ng-show="!$ctrl.form.transaction" ng-if="$ctrl.form.id"  class="btn btn-success  waves-effect waves-light"  \n                                    type="button"  ng-click="$ctrl.saveAdd()"> ترحيل الفاتورة\n                            </button>\n                       \n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n\n</div>\n\n        </div>\n  </div>\n    \n        '}).component("itemsBackModel",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory","$timeout",function(e,t,n){var l=this;l.$onInit=function(){l.form={},l.startInit()},l.startInit=function(){l.forId=l.resolve.forId||null,l.forModel=l.resolve.forModel||null,l.loadData()},l.restForm=function(){},l.saveAdd=function(){showHideLoad(),t.httpRequest("index.php/admin/exportsItemsBack/"+l.forId,"POST",{},l.form).then(function(e){apiResponse(e,"add"),"success"===e.status&&(showHideLoad(!0),l.close({$value:e.data||{}})),showHideLoad(!0)})},l.loadData=function(){showHideLoad(),t.httpRequest("index.php/admin/salesExportsItems/"+l.forId,"GET",{transfer:!0}).then(function(e){apiResponse(e,"add"),is_undefined(e.id)||(l.form=e),showHideLoad(!0)})},l.cancel=function(){l.dismiss({$value:"cancel"})}}],template:'\n<div class="modal-content ">\n    <div class="modal-header  py-1 px-2 hidden-sm-down">\n        <h4 class="modal-title mb-0" id="modal-title">مرتجع مبيعات اسطوانات (مليان)\n        </h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">مرتجع مبيعات اسطوانات (مليان) </h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-body mx-2" id="modal-body">\n        <div class="customtab2 smallTabs ezz-tabs ">\n\n            <div ng-if="$ctrl.form.id" class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm"\n                 role="form">\n                <show-field\n                        class="col-lg-3 "\n                        name="forUser"\n                        ng-if="$ctrl.form.forUser"\n                        title="العميل">\n                    <view-name ng-model="$ctrl.form.forUser" options="\'sales_customers\'">\n                    </view-name>\n\n                </show-field>\n\n\n                <show-field class="col-lg-3 px-0 "\n                            title="نوع البيع">{{$root.dashboardData.saleTypes[$ctrl.form.saleType].name}}\n                </show-field>\n\n\n              \n\n\n  \n  \n                        <input-field class="col-lg-3   pr-0" field-type="integer"\n                                     name="receive_no" ng-model="$ctrl.form.receive_no"\n                                     title="رقم طلب الدخول"\n                                 ng-required="true"    placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n                <div class="col-lg-12 mt-2 px-0">\n                    <back-list  ng-model="$ctrl.form.items_list" view-mode="$ctrl.viewMode" view-price="true"\n                    ></back-list>\n                </div>\n\n\n            </div>\n\n\n            <div class="col-lg-12 ezzbtn m-0 mb-2 mt-3 pull-left" style="position: sticky;text-align: left;">\n\n\n\n                <button  ng-show="!$ctrl.form.transaction" ng-if="$ctrl.form.id"  class="btn btn-success  waves-effect waves-light"\n                         type="button"  ng-click="$ctrl.saveAdd()">اضافة المرتجع\n                </button>\n\n                <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n            </div>\n\n        </div>\n\n    </div>\n</div>\n\n        '}),angular.module("OraSchool").component("addPurchaseModel",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.onSelectDriver=function(e,t){n.activeAddTab=!0,n.activatedTab="addData",goTop()},n.closeModal=function(){n.close({$value:"cancel"})},n.dismissModel=function(){n.dismiss({$value:"cancel"})},n.cancel=function(){try{n.dismiss({$value:"cancel"})}catch(e){}}}],template:'\n  <div class="modal-content ">\n  <div class="modal-header  py-1 px-2 hidden-sm-down">\n            <h4 class="modal-title mb-0" id="modal-title">اضافة مشتريات اسطوانات  \n    \n\n            :</h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n        </div>\n  <div class="modal-header  py-1 px-2 hidden-md-up">\n            <h6 class="modal-title mb-0">اضافة مشتريات اسطوانات\n       \n   \n            :</h6>\n                <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n        </div>\n        <div class="modal-body mx-2 modal-overflow" id="modal-body">\n                     <div class="customtab2 smallTabs ezz-tabs ">\n    <uib-tabset active="$ctrl.activatedTab" >\n        <uib-tab  ng-if="!$ctrl.hideTabSelectUser" ng-hide="!$ctrl.form.selectedType" heading="تحديد" index="\'selectItem\'">\n                    \n\n            <one-selector\n                    add-model="addDriver"\n                    can-add="$root.can(\'sales_drivers.Add\')"\n                    ng-item="$ctrl.data.selectedItem"\n                    ng-model="$ctrl.form.driver"\n                    ng-show="$ctrl.form.selectedType==\'driver\'"\n               \n                    on-select="$ctrl.onSelectDriver"\n                    options="\'sales_drivers\'"\n                    title="سائق"\n            ></one-selector>\n\n        </uib-tab>\n        <uib-tab ng-if="!$ctrl.hideTabAdd"  disable="!$ctrl.activeAddTab" ng-hide="!$ctrl.activeAddTab" heading="اضافة" index="\'addData\'">\n           \n                    <add-purchase form="$ctrl.form" data="$ctrl.data" close="$ctrl.closeModal()" \n                        active-add-tab="$ctrl.activeAddTab" dismiss="$ctrl.dismissModel()"  is-model="true"></add-purchase>\n\n        </uib-tab>\n\n    </uib-tabset>\n\n</div>\n\n\n        </div>\n  </div>\n    \n        '}).component("formPurchase",{bindings:{form:"=",isModel:"<?",viewMode:"="},controller:["EzzFilter","dataFactory",function(e,t){}],template:'\n          <div class="form-horizontal row  ezz-fields no-f-lp no-i-lp m-1">\n\n                    \n  <select-ezz-field add-model="editAddItem"\n                                   class="col-lg-3 col-sm-6  px-0"\n                                        ng-model="$ctrl.form.supplier"\n                                      options="\'suppliers\'"\n                                        view-mode="$ctrl.viewMode"\n                                      is-required="true"\n                                      title="مصنع/مورد"></select-ezz-field>\n\n                               <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6  px-0"\n                                          ng-model="$ctrl.form.driver"\n is-required="true"\n required="true"\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                          view-mode="$ctrl.viewMode"></select-ezz-field> \n          \n    \n      \n                         \n                           <ezz-date-edit    ng-required="true"  class="col-lg-3 col-sm-3   px-0" title="التاريخ"  \n                           view-mode="$ctrl.viewMode" ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        \n                        <input-field class="col-lg-3 col-sm-3  px-0" field-type="integer"\n                                     name="export_no" ng-model="$ctrl.form.export_no"\n                                     title="اذن الخروج"\n                                 ng-required="true"    placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n                   \n                        <input-field class="col-lg-3 col-sm-3  px-0" field-type="integer"\n                                     name="bill_id" ng-model="$ctrl.form.bill_id"\n                                     title="الفاتورة"\n                                 ng-required="true"    placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n                   \n\n\n   <radios-field class="col-auto  px-0" required="true" \n                                   ng-hide="$ctrl.viewMode" name="saleType" ng-model="$ctrl.form.saleType"\n                                  options="$root.dashboardData.saleTypes"\n                                  title="نوع الشراء"></radios-field>\n                     <show-field \n                                            ng-show="$ctrl.viewMode"      class="col-lg-2 px-0 col-sm-3 "\n                                                title="نوع الشراء">{{$root.dashboardData.saleTypes[$ctrl.form.saleType].name}}\n                                        </show-field>\n\n                   <account-selector ng-if="$ctrl.form.saleType==1" ng-model="$ctrl.form.bank_account" \n                   title="الصندوق" ng-required="true" selector="\'bank\'"    class="col-lg-3 pr-0 " ></account-selector>\n\n                   \n                    \n\n                    <div class="col-lg-12 mt-2 px-0 "  ng-if="$ctrl.form.selectedType==\'driver\'">\n\n                        <row-list-pay ng-model="$ctrl.form.items_list"  view-price="true"\n                          view-mode="$ctrl.viewMode"\n                        ></row-list-pay>\n                    </div>\n\n                \n                      \n</div>\n\n\n                  \n                  \n\n    \n        '}).component("viewPurchase",{bindings:{item:"<?",resolve:"<",close:"&",dismiss:"&"},controller:["$timeout","$scope","$uibModal","EzzFilter","dataFactory",function(e,t,n,l,o){var i=this;i.$onInit=function(){i.resolve&&(!i.item&&i.resolve.forId&&(i.item=i.resolve.forId||null),i.title=i.resolve.title||"تفاصيل الحركة",i.isModel=!1|i.resolve.isModel),i.item&&i.load()},i.close=function(){i.dismiss({$value:"cancel"})},i.openAddModelFull=function(e,t){try{var l=n.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:e,resolve:{forModel:function(){return t}}});try{l.result.then(function(){i.load()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},i.print=function(){try{i.todayDate=moment()}catch(e){}e(function(){try{$.print("#fhffgxggd")}catch(e){}})},i.load=function(){showHideLoad(),i.loading=!0,o.httpRequest("index.php/admin/purchases/"+i.item||0,"GET",{viewer:!0}).then(function(e){i.loading=!1,showHideLoad(!0),apiResponse(e,"add"),i.data=e})}}],template:'\n          <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n            <h4 class="modal-title mb-0" id="modal-title">\n                {{$ctrl.title}}\n            </h4>\n                                  <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.print()">طباعة</button>\n <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.close()">اغلاق</button>\n\n        </div>\n        <div  id="fhffgxggd" dir="rtl"  ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                    \n                     \n                         <panel  class="mt-2 row col-lg-12 p-0 m-0" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title >  المشتريات: </panel-title>\n                           <panel-body  class="col-lg-12  p-0 m-0">\n                            <form-purchase form="$ctrl.data" view-mode="true"></form-purchase>\n</panel-body>\n                        </panel>\n              \n<div class="col-lg-12 text-center " >\n    <button\n                                        ng-if="$root.can(\'sales.Add\') && $ctrl.data.status==0"\n                                        ng-show="$ctrl.data.status==0" class="btn btn-danger  "\n                                        ng-click="$ctrl.openAddModelFull(\'addSaleModel\',$ctrl.data)"\n                                        >اضافة المبيعات\n                                    <i class="fa fa-plus"></i>\n                                </button>\n</div>\n                         <panel  ng-if="$ctrl.data.receive_id"  class="mt-2 row col-lg-12 p-0 m-0" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title >  المبيعات: </panel-title>\n                           <panel-body  class="col-lg-12  p-0 m-0 px-1">\n                             <view-sale  item="$ctrl.data.receive_id"  hide-receive="true"></view-sale>\n</panel-body>\n                        </panel>\n                        <panel  class="row col-lg-12 p-0 m-0" default="false" ng-if="$ctrl.data.for_uuid&& !$ctrl.loading"  >\n    <panel-title >القيود المحاسبة   </panel-title>\n    <panel-body class="col-lg-12 row p-0 m-0">\n        <uuid-transactions uuid="$ctrl.data.for_uuid" class="row col-lg-12 mt-2" ></uuid-transactions>\n\n    </panel-body>\n</panel>\n  <div dir="ltr" class=" px-2 only-print" ng-if="$ctrl.todayDate">\n                    طبع بتاريخ\n                     :{{$ctrl.todayDate|dateFormat}}\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   المستخدم\n                     :{{$root.dashboardData.baseUser.fullName}}\n                             &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                     &nbsp;\n                   م.العملية\n                     :{{$ctrl.item}}\n                     </div>\n        </div>\n    </div>\n                  \n\n    \n        '}).component("addPurchase",{bindings:{add:"<?",data:"=?",isModel:"<?",activeAddTab:"=?",form:"=?",resolve:"<",onAdd:"<?",onCancel:"<?",close:"&",dismiss:"&"},controller:["$scope","$uibModal","EzzFilter","dataFactory",function(e,t,n,l){var o=this;o.hideTabSelectType=!1,o.hideTabSelectUser=!1,o.hideTabSelectOrder=!1,o.hideTabAdd=!1,o.hideTabSelectType=!1,o.hideTabSelectUser=!1,o.hideTabSelectOrder=!1,o.hideTabAdd=!1,o.setActivatedTab=function(e){o.activatedTab=e},o.selectType=function(e){o.restForm(),o.form.selectedType=e,o.activatedTab="selectItem"},o.onSelectCustomer=function(e,t){o.activatedTab="customerReceiveOrder",goTop()},o.onSelectDriver=function(e,t){o.activeAddTab=!0,o.activatedTab="addData",goTop()},o.onSelect=function(e,t){o.activatedTab="addData"},o.$onInit=function(){o.methodName="purchases",o.startInit(),o.checkOpener()},o.checkOpener=function(){try{var e=o.resolve.forModel||{};if("sale"===e.action&&0==e.status){try{o.form.driver=e.driver||null,o.form.receive_id=e.id||null,o.form.receive_no=e.receive_no||null,o.form.selectedType=e.selectedType||null,o.form.forUser=e.forUser||null}catch(e){}o.openCustomer()}}catch(e){}},o.openCustomer=function(e){o.hideTabSelectType=!0,o.hideTabSelectUser=!0,o.hideTabSelectOrder=!0,o.form.selectedType="driver"},o.startInit=function(){o.restForm(),o.activeAddTab=!1},o.restForm=function(){o.data={},o.form={},o.form.items_list=[{itemId:1,itemsFor:2}],o.activeAddTab=!1,o.form.selectedType="driver",o.form.saleType=2},o.restAddTab=function(){o.activeAddTab=!1;try{delete o.form.receive_id,delete o.data.receiveOrder}catch(e){}o.form.selectedType="driver"},o.showConfirmForm=function(e){try{o.data.confirmForm=!0,o.data.showInvoices=!1,o.data.showItemsBack=!1,o.data.showItemsList=!1,o.data.showExportItemsList=!1}catch(e){}try{angular.forEach(o.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},o.hideConfirmForm=function(){o.data.confirmForm=!1},o.getModelUrl=function(){return"index.php/admin/"+o.methodName},o.cancel=function(){o.dismiss({$value:"cancel"})},o.startInit=function(){o.restForm(),o.activeAddTab=!1},o.addDone=function(){try{log("onAdd"),o.onAdd()}catch(e){}try{o.close({$value:data})}catch(e){}try{o.restForm(),o.activeAddTab=!1}catch(e){}},o.closeAdd=function(){try{log("onCancel"),o.onCancel()}catch(e){}try{o.dismiss({$value:data})}catch(e){}try{o.close({$value:data})}catch(e){}},o.saveAdd=function(){showHideLoad(),l.httpRequest(o.getModelUrl()+"","POST",{},o.form).then(function(e){if(apiResponse(e,"add"),"success"===e.status)try{showHideLoad(),n.refreshAsync(o.methodName).then(function(){showHideLoad(!0);try{o.addDone()}catch(e){}}).catch(function(){showHideLoad(!0);try{o.addDone()}catch(e){}})}catch(e){showHideLoad(!0);try{o.addDone()}catch(e){}}showHideLoad(!0)})},o.hideConfirmForm=function(){o.data.confirmForm=!1}}],template:'\n    \n\n                        <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm"\n                          ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n<form-purchase form="$ctrl.form" view-mode="$ctrl.data.confirmForm" is-model="$ctrl.isModel"></form-purchase>\n\n\n                       \n\n\n\n\n                       \n                        <div class="modal-footer row col-lg-12 px-0 form-group m-b-0 "\n                        >\n                                                    <div\n                                class="col-lg-12  m-0  " style="position: sticky;text-align: left;">\n                            <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                                 <button class="btn btn-info  waves-effect waves-light" ng-click="$ctrl.showConfirmForm($event)"\n                                    ng-disabled="addForm.$invalid" ng-hide="$ctrl.data.confirmForm"\n                                    type="button"> مراجعة المشتريات\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light"\n                                    ng-disabled="addForm.$invalid" ng-show="$ctrl.data.confirmForm"\n                                    type="submit"> اضافة المشتريات\n                            </button>\n                           \n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل\n                            </div>\n                            <div class="btn btn-danger" ng-click="$ctrl.closeAdd()" type="button">الغاء الاضافة</div>\n\n                        </div>\n\n                        </div>\n                    </form>\n\n        '}).component("purchasesSearch",{bindings:{form:"=?",onHide:"<?",onClear:"<?",onSearch:"<?"},controller:["$timeout","dataFactory",function(e,t){var n=this;n.$onInit=function(){},n.doSearch=function(){try{n.onSearch(1)}catch(e){}};var l=null;n.searchChange=function(t){try{e.cancel(l)}catch(e){}l=e(function(){try{n.onSearch(1)}catch(e){}},500)},n.searchChange2=function(t){try{e.cancel(l)}catch(e){}l=e(function(){try{n.onSearch(1)}catch(e){}})},n.clearForm=function(){try{n.onClear()}catch(e){}},n.closeSearch=function(){try{n.onHide()}catch(e){}}}],template:'\n\n        <div class=" card card-outline-danger m-0" style="\n    background-color: #ffffff;\n    border: 1px solid #2e323b;\n    ">\n\n            <div class="card-block pt-0 pb-2 px-0">\n <form class=" col-lg-12 px-0 text-center"  name="searchForm" ng-submit="$ctrl.doSearch(1)" novalidate\n                      role="form">\n                    <div class="row ">\n                     <div class=" mt-2   row ezz-field col-lg-2  px-0" >\n                             <div class="input-group ezz-datepicker" >\n                    <div class="input-group-prepend">\n                            <div class="input-group-text2 radius-start ">بحث</div>\n                    </div>\n\n              \n <input class="form-control radius-end" ng-change="$ctrl.searchChange()"   ng-model="$ctrl.form.text" ng-enter="$ctrl.doSearch(1)"\n                        placeholder="بحث" \n                           type=\'text\'\n                          \n                           >\n\n                </div>\n\n                     \n                            </div>\n                     \n                        <select-ezz-field\n                                          ng-model="$ctrl.form.forUser"\n                                          options="\'sales_customers\'"\n                                          class="col-lg-2 px-0"\n                                           on-change="$ctrl.searchChange" \n                                          title="العميل"\n                                         >\n\n                        </select-ezz-field>\n                        <select-ezz-field\n                                          class="col-lg-2 px-0"\n\n                                          ng-model="$ctrl.form.driver"\n                                          options="\'sales_drivers\'"\n                                                  custom-filter="{forId:$ctrl.form.forUser+\'\'}"\n                                              on-change="$ctrl.searchChange" \n                                          title="السائق"\n                                      ></select-ezz-field>\n\n                        <select-ezz-field\n                                          class="col-lg-2 px-0"\n\n                                          ng-model="$ctrl.form.supplier"\n                                          options="\'suppliers\'"\n                                              \n                                              on-change="$ctrl.searchChange" \n                                          title="المورد"\n                                      ></select-ezz-field>\n\n\n                        <ezz-date-edit class="col-lg-2   px-0" title="التاريخ"\n                                   \n                               on-change="$ctrl.searchChange2" \n                                           ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n\n\n\n\n\n                        <div class="form-group col-auto m-0 p-0 mt-2 ">\n                            <div class=" input-sm2  ">\n                                <button class=" card-block-input-item btn btn-info   " style="height: 30px" type="submit">بحث <i\n                                        class="fa fa-search"></i></button>\n                                <a class=" card-block-input-item btn btn-danger  "  style="height: 30px"\n                                   ng-click="$ctrl.clearForm();">\n                                    X</a>\n                                <a class="btn  btn-danger  card-block-input-item" \n                                 style="height: 30px" ng-click="$ctrl.closeSearch()"\n                                      >اخفاء البحث\n                                </a>\n\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n\n\n            </div>\n\n        </div>\n  \n\n\n                  \n                  \n\n    \n        '}).component("editPurchase",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.hideInfo=!0,s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.forId=s.resolve.forId||null,s.load()},s.load=function(){showHideLoad(),s.loading=!0,o.httpRequest("index.php/admin/purchases/"+s.forId||0,"GET",{editor:!0}).then(function(e){s.loading=!1,showHideLoad(!0),s.form=e})},s.saveData=function(){s.loading=!0,o.httpRequest("index.php/admin/super/editPurchase/"+s.forId||0,"POST",{},s.form).then(function(e){s.loading=!1,apiResponse(e,"add")})},s.cancel=function(){s.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Edit Export:</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n             \n                <div class="row" ng-if="$ctrl.form">\n                  \n          \n                    \n  <select-ezz-field add-model="editAddItem"\n                                   class="col-lg-3 col-sm-6  px-0"\n                                        ng-model="$ctrl.form.supplier"\n                                      options="\'suppliers\'"\n                                        view-mode="$ctrl.viewMode"\n                                      is-required="true"\n                                      title="مصنع/مورد"></select-ezz-field>\n\n                               <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6  px-0"\n                                          ng-model="$ctrl.form.driver"\n is-required="true"\n required="true"\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                          view-mode="$ctrl.viewMode"></select-ezz-field> \n          \n    \n      \n                           <ezz-date-edit    ng-required="true"  class="col-lg-3 col-sm-3   px-0" title="التاريخ"  \n                           view-mode="$ctrl.viewMode" ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        \n                        <input-field class="col-lg-3 col-sm-3  px-0" field-type="integer"\n                                     name="export_no" ng-model="$ctrl.form.export_no"\n                                     title="اذن الخروج"\n                                 ng-required="true"    placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n                   \n                        <input-field class="col-lg-3 col-sm-3  px-0" field-type="integer"\n                                     name="bill_id" ng-model="$ctrl.form.bill_id"\n                                     title="الفاتورة"\n                                 ng-required="true"    placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n                   \n\n\n   <radios-field class="col-auto  px-0" required="true" \n                                   ng-hide="$ctrl.viewMode" name="saleType" ng-model="$ctrl.form.saleType"\n                                  options="$root.dashboardData.saleTypes"\n                                  title="نوع الشراء"></radios-field>\n                     <show-field \n                                            ng-show="$ctrl.viewMode"      class="col-lg-2 px-0 col-sm-3 "\n                                                title="نوع الشراء">{{$root.dashboardData.saleTypes[$ctrl.form.saleType].name}}\n                                        </show-field>\n\n                   <account-selector ng-if="$ctrl.form.saleType==1" ng-model="$ctrl.form.bank_account" \n                   title="الصندوق" ng-required="true" selector="\'bank\'"    class="col-lg-3 pr-0 " ></account-selector>\n\n                   \n                    \n\n                    <div class="col-lg-12 mt-2 px-0 "  ng-if="$ctrl.form.selectedType==\'driver\'">\n\n                        <row-list-pay auto="false" can-add="false" ng-model="$ctrl.form.items"  view-price="true"\n                          view-mode="$ctrl.viewMode"\n                        ></row-list-pay>\n                    </div>\n                              \n           \n\n                      \n                    \n                </div>\n                \n                <div class="modal-footer">\n                        <button\n                                      \n                                       class="btn btn-danger  "\n                                        ng-click="$ctrl.saveData()"\n                                        >تعديل \n                                    <i class="fa fa-save"></i>\n                                </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n                  <panel  ng-if="$ctrl.form.id" default="true" hide="$ctrl.hideInfo" class="mt-2 row col-12 p-0 m-0" header="bg-blue-100"  border=""   >\n                            <panel-title > التفاصيل: </panel-title>\n                            <panel-body  class="col-lg-12  p-0 m-0">\n                                            <view-purchase ng-if="!$ctrl.hideInfo &&!$ctrl.loading && $ctrl.form.id" item="$ctrl.form.id"></view-purchase>\n                            </panel-body>\n                  </panel>\n                 \n    </div>\n\n </div>\n</div>\n\n'}),angular.module("OraSchool").component("addSaleModel",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory","$timeout",function(e,t,n){var l=this;l.hideTabSelectType=!1,l.hideTabSelectUser=!1,l.hideTabSelectOrder=!1,l.hideTabAdd=!1,l.setActivatedTab=function(e){l.activatedTab=e},l.selectType=function(e){l.restForm(),l.form.selectedType=e,l.activatedTab="selectItem"},l.onSelectCustomer=function(e,t){l.activatedTab="addData",l.activeAddTab=!0;try{delete l.data.confirmForm}catch(e){}l.clearDriver()},l.onSelectDriver=function(e,t){l.activatedTab="driverExportOrder",l.clearCustomer()},l.onSelectOrder=function(e,t){l.activatedTab="addData",l.activeAddTab=!0;try{l.form.export_no=t.export_no||null}catch(e){}try{delete l.data.confirmForm}catch(e){}},l.$onInit=function(){l.methodName="sales",l.startInit();try{l.selectSettings={api:function(e){l.selectApi=e},disabledItems:function(){return[]}}}catch(e){logCatch(e)}l.checkOpener()},l.checkOpener=function(){try{var e=l.resolve.forModel||{};if("purchase"==e.action&&0==e.status){try{l.form.driver=e.driver||null,l.form.export_id=e.id||null,l.form.export_no=e.export_no||null,l.form.selectedType=e.selectedType||null}catch(e){}l.openDriver()}}catch(e){}},l.openDriver=function(e){l.hideTabSelectType=!0,l.hideTabSelectUser=!0,l.hideTabSelectOrder=!0,l.form.selectedType="driver"},l.startInit=function(){l.restForm(),l.activeAddTab=!1},l.restForm=function(){l.data={},l.form={},l.form.items_list=[{itemId:1,itemsFor:2}],l.activeAddTab=!1;try{l.form.reqUuid=uuid.v1()}catch(e){}l.form.selectedType="driver"},l.restAddTab=function(){l.activeAddTab=!1;try{delete l.form.export_id,delete l.form.export_no,delete l.data.exportOrder,delete l.data.confirmForm,delete l.form.invoices,delete l.form.itemsBack}catch(e){}l.form.selectedType="driver"},l.saveAdd=function(){l.close({$value:l.selected})},l.clearDriver=function(){l.exportOrder=null,delete l.form.driver},l.clearCustomer=function(){l.exportOrder=null,delete l.form.forUser},l.getModelUrl=function(){return"index.php/admin/"+l.methodName},l.saveAdd=function(){showHideLoad(),t.httpRequest(l.getModelUrl()+"","POST",{},l.form).then(function(t){if(apiResponse(t,"add"),"success"==t.status)try{showHideLoad(),e.refreshAsync(l.methodName).then(function(){showHideLoad(!0),l.close({$value:t})}).catch(function(){showHideLoad(!0),l.close({$value:t})})}catch(e){showHideLoad(!0),l.close({$value:t})}showHideLoad(!0)})},l.cancel=function(){l.dismiss({$value:"cancel"})},l.showConfirmSkipInvoices=function(e){l.form.skipInvoices=!0},l.showConfirmForm=function(e){try{l.data.confirmForm=!0,l.data.showInvoices=!1,l.data.showItemsBack=!1,l.data.showItemsList=!1,l.data.showExportItemsList=!1}catch(e){}try{angular.forEach(l.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},l.hideConfirmForm=function(){l.data.confirmForm=!1},l.deleteRow=function(e){if(1==confirm("هل تريد حذف العميل من فواتير البيع ؟")){var t=l.form.invoices.indexOf(e);-1!==t&&l.form.invoices.splice(t,1)}},l.onSelectItem=function(e,t){n(function(){l.addRow()})},l.addRow=function(){if(!l.rowAdd||isNull(l.rowAdd.forUser)){try{if(l.selectApi)return l.selectApi.open()}catch(e){return log(e),showError("يرجى تحديد عميل")}return showError("يرجى تحديد عميل")}l.form.invoices||(l.form.invoices=[]);try{var e=!1;if(angular.forEach(l.form.invoices,function(t){t.forUser==l.rowAdd.forUser&&(e=!0),e=!1}),e)return void apiResponse("تم اضافة العميل من قبل لهذا الطلب")}catch(e){}l.rowAdd.items=[{itemId:1,itemsFor:2}],l.rowAdd.saleType=2,l.form.invoices.push(l.rowAdd),l.rowAdd={}}}],template:'\n<div class="modal-content ">\n    <div class="modal-header py-1 px-2 hidden-sm-down">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة مبيعات \n            <span class=" h4 m-0"\n            ></span>\n\n\n        </h4>\n        <button class="btn btn-danger pull-right" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n    </div>\n    <div class="modal-header py-1 px-2 hidden-md-up" style="background-color: #00bcd417;">\n        <h6 class="modal-title mb-0 ">طلب دخول\n            <span class=" h5 m-0"\n            ><label\n                    class="py-2 m-0 label label-info">شاحنة المصنع</label></span>\n\n        </h6>\n        <button class="btn btn-danger btn-sm pull-right" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n    </div>\n    <div class="modal-body mx-2 modal-overflow" id="modal-body">\n        <div class="customtab2 smallTabs ezz-tabs ">\n            <uib-tabset active="$ctrl.activatedTab">\n                \x3c!--            <uib-tab heading="test" index="\'test\'">--\x3e\n\n                \x3c!--            </uib-tab>--\x3e\n                <uib-tab heading="تحديد" index="\'selectItem\'"\n\n                         ng-if="!$ctrl.hideTabSelectUser">\n                    <one-selector\n                            add-model="addDriver"\n                            can-add="$root.can(\'sales_drivers.Add\')"\n                            ng-if="$ctrl.form.selectedType==\'driver\'"\n                            ng-item="$ctrl.data.selectedItem"\n                            ng-model="$ctrl.form.driver"\n                            on-select="$ctrl.onSelectDriver"\n                            options="\'sales_drivers\'"\n                            title="سائق"\n                    ></one-selector>\n                </uib-tab>\n                <uib-tab disable="!$ctrl.form.driver" heading="المشتريات" index="\'driverExportOrder\'"\n                         ng-hide="!$ctrl.form.driver || $ctrl.form.selectedType!=\'driver\'" ng-if="!$ctrl.hideTabSelectOrder"\n                         select="$ctrl.restAddTab()">\n                    <one-selector\n                            use-scroll="true"\n                            add-model="addPurchaseModel"\n                            can-add="$root.can(\'purchases.Add\')"\n                            ng-if="$ctrl.form.driver && $ctrl.form.selectedType==\'driver\'"\n                            ng-item="$ctrl.data.exportOrder"\n                            ng-model="$ctrl.form.export_id"\n                            on-select="$ctrl.onSelectOrder"\n                            options="\'purchases_new/driver/\'+$ctrl.form.driver"\n                            refresh="true"\n                            title="اذن الخروج"\n\n                    ></one-selector>\n                </uib-tab>\n                <uib-tab disable="!$ctrl.activeAddTab" heading="اضافة" index="\'addData\'" ng-hide="!$ctrl.activeAddTab"\n                         ng-if="!$ctrl.hideTabAdd">\n\n                    <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm"\n                          ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n\n  <form-sale form="$ctrl.form" data="$ctrl.data" view-mode="$ctrl.data.confirmForm"></form-sale>\n\n                        <div class="modal-footer row col-lg-12 px-0 form-group m-b-0 mt-2"\n                        >\n                            <h4 class="col-lg-12 m-0 mb-2 text-center" ng-show="addForm.$invalid">\n                                <label class="py-0 mt-2 label bg-100 bg-red-100 bold">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                            </h4>\n                            <h4 class="col-lg-12 m-0 mb-2 text-center"\n                                ng-show="!$ctrl.form.invoices.length>0 && !$ctrl.form.skipInvoices">\n                                <div class="py-0 mt-2  p-2 label bg-light-danger  bold">\n\n                                    يرجى اضافة عملاء\n\n                                    <div class="btn btn-primary  btn-sm "\n                                         ng-click="$ctrl.showConfirmSkipInvoices()"\n                                         ng-disabled="addForm.$invalid"\n                                         ng-hide=" $ctrl.data.confirmForm|| $ctrl.form.skipInvoices" ng-if="$root.canUse(\'addReceiveNullInvoices\')"\n                                         type="button"> الاضافة بدون عملاء\n                                    </div>\n                                </div>\n                            </h4>\n                            \x3c!--                            <div class="ezzbtn ">--\x3e\n\n                            \x3c!--                                 </div>--\x3e\n                        </div>\n                        <div   ng-if="$ctrl.form.selectedType==\'driver\'"\n                               class="col-lg-12 ezzbtn m-0 mb-2 mt-3" style="position: sticky;text-align: left;">\n                            <button class="btn btn-info  waves-effect waves-light" ng-click="$ctrl.showConfirmForm($event)"\n                                    ng-disabled="addForm.$invalid || (!($ctrl.form.invoices.length>0)&&!$ctrl.form.skipInvoices)"\n                                    ng-hide="$ctrl.data.confirmForm"\n\n                                    type="button"> مراجعة فواتير البيع\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light"\n                                    ng-disabled="addForm.$invalid" ng-show="$ctrl.data.confirmForm"\n                                    type="submit"> اضافة فواتير البيع\n                            </button>\n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل\n                            </div>\n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n                    </form>\n\n                </uib-tab>\n\n            </uib-tabset>\n\n        </div>\n    </div>\n</div>\n    \n        '}).component("addSaleModels",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["EzzFilter","dataFactory",function(e,t){var n=this;n.hideTabSelectType=!1,n.hideTabSelectUser=!1,n.hideTabSelectOrder=!1,n.hideTabAdd=!1,n.setActivatedTab=function(e){n.activatedTab=e},n.selectType=function(e){n.restForm(),n.form.selectedType=e,n.activatedTab="selectItem"},n.onSelectCustomer=function(e,t){n.activatedTab="addData",n.activeAddTab=!0;try{delete n.data.confirmForm}catch(e){}n.clearDriver()},n.onSelectDriver=function(e,t){n.activatedTab="driverExportOrder",n.clearCustomer()},n.onSelectOrder=function(e,t){n.activatedTab="addData",n.activeAddTab=!0;try{n.form.export_no=t.export_no||null}catch(e){}try{delete n.data.confirmForm}catch(e){}},n.$onInit=function(){n.methodName="sales",n.startInit();try{n.selectSettings={api:function(e){n.selectApi=e},disabledItems:function(){return[]}}}catch(e){logCatch(e)}n.checkOpener()},n.checkOpener=function(){try{var e=n.resolve.forModel||{};if("purchase"==e.action&&0==e.status){try{n.form.driver=e.driver||null,n.form.export_id=e.id||null,n.form.export_no=e.export_no||null,n.form.selectedType=e.selectedType||null}catch(e){}n.openDriver()}}catch(e){}},n.openDriver=function(e){n.hideTabSelectType=!0,n.hideTabSelectUser=!0,n.hideTabSelectOrder=!0,n.form.selectedType="driver"},n.startInit=function(){n.restForm(),n.activeAddTab=!1},n.restForm=function(){n.data={},n.form={},n.form.items_list=[{itemId:1,itemsFor:2}],n.activeAddTab=!1;try{n.form.reqUuid=uuid.v1()}catch(e){}n.form.selectedType="driver"},n.restAddTab=function(){n.activeAddTab=!1;try{delete n.form.export_id,delete n.form.export_no,delete n.data.exportOrder,delete n.data.confirmForm,delete n.form.invoices,delete n.form.itemsBack}catch(e){}n.form.selectedType="driver"},n.saveAdd=function(){n.close({$value:n.selected})},n.clearDriver=function(){n.exportOrder=null,delete n.form.driver},n.clearCustomer=function(){n.exportOrder=null,delete n.form.forUser},n.getModelUrl=function(){return"index.php/admin/"+n.methodName},n.saveAdd=function(){showHideLoad(),t.httpRequest(n.getModelUrl()+"","POST",{},n.form).then(function(t){if(apiResponse(t,"add"),"success"==t.status)try{showHideLoad(),e.refreshAsync(n.methodName).then(function(){showHideLoad(!0),n.close({$value:t})}).catch(function(){showHideLoad(!0),n.close({$value:t})})}catch(e){showHideLoad(!0),n.close({$value:t})}showHideLoad(!0)})},n.cancel=function(){n.dismiss({$value:"cancel"})},n.showConfirmSkipInvoices=function(e){n.form.skipInvoices=!0},n.showConfirmForm=function(e){try{n.data.confirmForm=!0,n.data.showInvoices=!1,n.data.showItemsBack=!1,n.data.showItemsList=!1,n.data.showExportItemsList=!1}catch(e){}try{angular.forEach(n.form.invoices,function(e){e.hide=!1})}catch(e){}try{e.preventDefault(),e.stopPropagation()}catch(e){}},n.hideConfirmForm=function(){n.data.confirmForm=!1},n.deleteRow=function(e){if(1==confirm("هل تريد حذف العميل من فواتير البيع ؟")){var t=n.form.invoices.indexOf(e);-1!==t&&n.form.invoices.splice(t,1)}},n.onSelectItem=function(e,t){$timeout(function(){n.addRow()})},n.addRow=function(){if(!n.rowAdd||isNull(n.rowAdd.forUser)){try{if(n.selectApi)return n.selectApi.open()}catch(e){return log(e),showError("يرجى تحديد عميل")}return showError("يرجى تحديد عميل")}n.form.invoices||(n.form.invoices=[]);try{var e=!1;if(angular.forEach(n.form.invoices,function(t){t.forUser==n.rowAdd.forUser&&(e=!0),e=!1}),e)return void apiResponse("تم اضافة العميل من قبل لهذا الطلب")}catch(e){}n.rowAdd.items=[{itemId:1,itemsFor:2}],n.rowAdd.saleType=2,n.form.invoices.push(n.rowAdd),n.rowAdd={}}}],template:'\n<div class="modal-content ">\n    <div class="modal-header  py-1 px-2 hidden-sm-down">\n        <h4 class="modal-title mb-0" id="modal-title">اضافة اذن الخروج\n\n            <span\n                    class=" h4 m-0"><label  class="py-2 label label-success">عميل او موزع</label> </span>\n            :</h4>\n        <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-header  py-1 px-2 hidden-md-up">\n        <h6 class="modal-title mb-0">اضافة اذن الخروج\n\n            <span\n                    class=" h5 m-0"><label  class="py-2 label label-success">عميل او موزع</label> </span>\n            :</h6>\n        <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n    </div>\n    <div class="modal-body mx-2 modal-overflow" id="modal-body">\n        <div class="customtab2 smallTabs ezz-tabs ">\n            <uib-tabset active="$ctrl.activatedTab" >\n                <uib-tab  ng-if="!$ctrl.hideTabSelectUser" heading="العميل" index="\'selectItem\'">\n\n                    <one-selector add-model="addCustomer"\n                                  can-add="$root.can(\'sales_customers.Add\')"\n                                  ng-item="$ctrl.data.selectedItem"\n                                  ng-model="$ctrl.form.forUser"\n                                  on-select="$ctrl.onSelectCustomer"\n                             \n                                  options="\'sales_customers\'"\n                                  title="العميل"\n\n                    ></one-selector>\n\n\n                </uib-tab>\n                <uib-tab  ng-if="!$ctrl.hideTabSelectOrder" disable="!$ctrl.form.forUser" heading="طلب الدخول"\n                          select="$ctrl.restAddTab()"      index="\'customerReceiveOrder\'" ng-hide="!$ctrl.form.forUser">\n                    <one-selector\n                            add-model="addSalesReceives"\n                            use-scroll="true"\n                            can-add="$root.can(\'sales_receives.Add\')"\n                            ng-if="$ctrl.form.forUser"\n                            ng-item="$ctrl.data.receiveOrder"\n                            ng-model="$ctrl.form.receive_id"\n                            on-select="$ctrl.onSelectOrder"\n                            refresh="true"\n                            options="\'sales_receives_new/customer/\'+$ctrl.form.forUser"\n                            title="طلب الدخول"\n\n                    ></one-selector>\n                </uib-tab>\n                <uib-tab ng-if="!$ctrl.hideTabAdd"  disable="!$ctrl.activeAddTab" ng-hide="!$ctrl.activeAddTab" heading="اضافة" index="\'addData\'">\n\n                    <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()"\n                          novalidate role="form">\n\n\n                       <form-sale form="$ctrl.form" view-mode="$ctrl.data.confirmForm"></form-sale>\n\n                        <div class="col-lg-12 ezzbtn m-0 mb-2 " style="position: sticky;text-align: left;">\n                           <label class="py-1 mt-2 label bg-100 bg-red-100 bold" ng-show="addForm.$invalid">\n                                    يرجى اكمال البيانات من اجل تفعيل الاضافة\n                                </label>\n                            <button class="btn btn-info  waves-effect waves-light" ng-hide="$ctrl.data.confirmForm"  ng-click="$ctrl.showConfirmForm($event)" ng-disabled="addForm.$invalid"\n                                    type="button"> مراجعة اذن الخروج\n                            </button>\n\n                            <button class="btn btn-success  waves-effect waves-light" ng-show="$ctrl.data.confirmForm" ng-disabled="addForm.$invalid"\n                                    type="submit"> اضافة اذن الخروج\n                            </button>\n                            <div class="btn btn-primary" ng-click="$ctrl.hideConfirmForm()"\n                                 ng-show="$ctrl.data.confirmForm" type="button">رجوع للتعديل</div>\n                            <div class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</div>\n\n                        </div>\n                        \n                    </form>\n\n                </uib-tab>\n\n            </uib-tabset>\n\n        </div>\n\n\n    </div>\n</div>\n    \n        '}).component("formSale",{bindings:{form:"=",viewMode:"=",data:"=?",hideReceive:"<?"},controller:["$timeout","dataFactory",function(e,t){var n=this;n.$onInit=function(){try{n.selectSettings={api:function(e){n.selectApi=e},disabledItems:function(){return[]}}}catch(e){logCatch(e)}},n.deleteRow=function(e){if(1==confirm("هل تريد حذف العميل من فواتير البيع ؟")){var t=n.form.invoices.indexOf(e);-1!==t&&n.form.invoices.splice(t,1)}},n.onSelectItem=function(t,l){e(function(){n.addRow()})},n.addRow=function(){if(!n.rowAdd||isNull(n.rowAdd.forUser)){try{if(n.selectApi)return n.selectApi.open()}catch(e){return log(e),showError("يرجى تحديد عميل")}return showError("يرجى تحديد عميل")}n.form.invoices||(n.form.invoices=[]);try{var e=!1;if(angular.forEach(n.form.invoices,function(t){t.forUser==n.rowAdd.forUser&&(e=!0),e=!1}),e)return void apiResponse("تم اضافة العميل من قبل لهذا الطلب")}catch(e){}n.rowAdd.items=[{itemId:1,itemsFor:2}],n.rowAdd.saleType=2,n.form.invoices.push(n.rowAdd),n.rowAdd={}}}],template:'\n          <div class="form-horizontal row  ezz-fields no-f-lp no-i-lp  " dir="rtl">\n\n                    \n                        <show-field\n                                class="col-lg-3 col-sm-6 px-0 "\n                                name="driver"\n\n                                ng-if="$ctrl.form.selectedType==\'driver\'  && $ctrl.form.driver"\n                                title="السائق">\n                            <view-name ng-model="$ctrl.form.driver" options="\'sales_drivers\'">\n                            </view-name>\n                        </show-field>\n                        <input-field class="col-lg-2 col-sm-3  px-0" field-type="integer"\n                                     name="receive_no" ng-model="$ctrl.form.receive_no"\n                                     title=" طلب الدخول "\n                                     ng-required="true"\n                                     placeholder="_____"\n                                     view-mode="$ctrl.viewMode"></input-field>\n\n                \n                        <view-field\n                                class="col-lg-2 col-sm-3 px-0"\n                                name="driver"\n                                ng-model="$ctrl.form.export_no"\n                                ng-show="$ctrl.form.export_no && $ctrl.form.selectedType==\'driver\'"\n                                title="اذن الخروج "></view-field>\n\n\n                            <ezz-date-edit    ng-required="true"  class="col-lg-3 col-sm-3   px-0" \n                            title="تاريخ الدخول"  \n                           view-mode="$ctrl.viewMode" ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n\n\n                      \n                        <span class="h4  m-0 col-lg-12 ezz-expand-label" ng-if="$ctrl.form.selectedType==\'driver\'">\n                                        <label class="py-1 mt-2 label bg-100 bg-cyan-100 bold"\n                                        >\n                                            <toggle-show class="py-1 " default="false" hide="$ctrl.data.showInvoices"\n                                                         small="true">\n                                            </toggle-show>\n                                             فواتير البيع/العملاء :\n                                         </label>\n                                </span>\n\n                        <div class="col-lg-12 m-0  row   px-0 border-cyan-100 ezz-expand"\n                             ng-class="{\'bg-white\':$ctrl.viewMode}" ng-hide="$ctrl.data.showInvoices"\n                             ng-if="$ctrl.form.selectedType==\'driver\'" style="background-color: #8bc34a1c;">\n\n                            <div class="col  res-px-0 mx-0  mb-2 row"\n                                 ng-hide="$ctrl.data.showInvoices || $ctrl.viewMode">\n                                <select-ezz-field\n                                        add-model="addCustomer"\n                                        can-add="$root.can(\'sales_customers.Add\')"\n                                        class="col px-0 "\n                                        name="forUser"\n                                        on-select="$ctrl.onSelectItem"\n                                        ng-model="$ctrl.rowAdd.forUser"\n                                        options="\'sales_customers\'"\n                                        settings="$ctrl.selectSettings"\n                                        style="min-width: 60%;"\n                                        title="العميل">\n                                </select-ezz-field>\n                                <div class="col-lg-auto mt-2 px-0">\n                                    <div class="btn btn-primary bold w-100 "\n                                         ng-class="{\'btn-info\':$ctrl.rowAdd.forUser}"\n                                         ng-click="$ctrl.addRow()"\n                                         ng-disabled="!$ctrl.rowAdd.forUser">\n                                        <span ng-show="$ctrl.rowAdd.forUser"> اضافة العميل</span>\n                                        <span ng-show="!$ctrl.rowAdd.forUser"> اختيار عميل </span>\n                                        <i class="fa fa-plus-circle"></i>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 res-px-0  mb-2 no-f-lp no-i-lp " ng-hide="$ctrl.data.showInvoices">\n\n                                <div class="card   px-0 mx-0 mb-2"\n                                     ng-repeat="(key, row) in $ctrl.form.invoices | orderBy:undefined:true">\n                                    <div class="card-header p-1" ng-hide="$ctrl.viewMode">\n                                        <h4 class="p-0 m-0 modal-title ">\n                                           <span class="h4 m-0">\n                                               <label class="py-1 label label-primary">\n                                                   <view-name ng-model="row.forUser" options="\'sales_customers\'">\n                                                   </view-name>\n                                               </label>\n                                           </span>\n                                            <toggle-show class="pull-left" hide="row.hide" small="true"></toggle-show>\n                                            <div class="pull-left btn btn-outline-danger btn-sm"\n                                                 ng-click="$ctrl.deleteRow(row)">\n                                                <i class="fa fa-trash-alt"></i>\n                                            </div>\n                                        </h4>\n                                    </div>\n                                    <div class="card-body  px-0 mx-0 p-2 row" ng-hide="row.hide">\n                                        <div class="row col-lg-12 m-0 p-0" ng-hide="$ctrl.viewMode">\n                                           \n                                          <input-field class="col-lg-3 px-0 " field-type="integer"\n                                                         name="bill_id" ng-model="row.bill_id"\n                                                         placeholder="رقم الفاتورة"\n                                                         required="true"\n                                                         title="الفاتورة"></input-field>\n                                            <radios-field class="col-auto pr-0  "\n                                                          name="saleType" ng-model="row.saleType"\n                                                          options="$root.dashboardData.saleTypes"\n                                                          required="true"\n                                                          small="true"\n                                                          title="نوع البيع"></radios-field>\n                                             <ezz-date-edit  \n                                               ng-required="true"  class="col-lg-3 col-sm-4 px-0"\n                                                title="تاريخ الفاتورة"  \n                                                view-mode="$ctrl.viewMode" ng-model="row.add_at">\n                                              </ezz-date-edit>\n\n\n                                            <input-autosize-field class="col-lg px-0 "\n                                                                  name="note" ng-model="row.note"\n                                                                  title="ملاحظات"></input-autosize-field>\n                                        </div>\n                                        <div class="row col-lg-12 m-0 p-0" ng-show="$ctrl.viewMode">\n                                            <show-field\n                                                    class="col-lg-3 col-sm-8 px-0 "\n                                                    title="العميل">\n                                                <view-name ng-model="row.forUser"\n                                                           options="\'sales_customers\'"></view-name>\n                                            </show-field>\n                                           \n                                            <show-field\n                                                    class="col-lg-2 col-sm-4 px-0  "\n                                                    title="الفاتورة">\n                                                {{row.bill_id}}\n                                            </show-field>\n                                            <show-field\n                                                    class="col-lg-2 col-sm-4 px-0 "\n                                                    title="نوع البيع">{{$root.dashboardData.saleTypes[row.saleType].name}}\n                                            </show-field>\n                                                   <show-field\n                                                    class="col-lg-2 col-sm-4 px-0  "\n                                                    title="التاريخ">\n                                                {{row.add_at}}\n                                            </show-field>\n                                            <show-field\n                                                    class="col-lg-3 col-sm-4 px-0 "\n                                                    title="ملاحظات">\n                                                {{row.note}}\n                                            </show-field>\n                                      \n                                        </div>\n\n                                        \x3c!--                                <input-field--\x3e\n                                        \x3c!--                                        class="col-lg-4 px-0 "--\x3e\n                                        \x3c!--                                        field-type="integer"--\x3e\n                                        \x3c!--                                        name="cachAmount"--\x3e\n                                        \x3c!--                                        ng-model="row.cachAmount" ng-show="row.saleType==\'2\'"--\x3e\n                                        \x3c!--                                        title="المبلغ المدفوع"></input-field>--\x3e\n                                        <div class="col-lg-12 mt-2 px-0">\n                                            <row-invoice-list\n                                                    ng-model="row.items"\n                                                    view-mode="$ctrl.viewMode"></row-invoice-list>\n                                        </div>\n\n                                        \x3c!--                                        <div class="col-lg-12 mt-2 px-0">--\x3e\n                                        \x3c!--                                            <row-invoice-list ng-model="row.items" view-mode="true"></row-invoice-list>--\x3e\n                                        \x3c!--                                        </div>--\x3e\n\n                                    </div>\n                                    \x3c!--                                      <div class="card-body  px-0 mx-0 p-2 row" ng-show="$ctrl.viewMode">--\x3e\n                                    \x3c!--                                       --\x3e\n                                    \x3c!--                                        <div class="col-lg-12 mt-2 px-0">--\x3e\n                                    \x3c!--                                            <items-list-view items="row.items" view-price="1"></items-list-view>--\x3e\n                                    \x3c!--                                        </div>--\x3e\n                                    \x3c!--                                    </div>--\x3e\n\n                                </div>\n                                <h3 class="text-danger text-center my-3" ng-show="!$ctrl.form.invoices.length">لم يتم\n                                    اضافة عملاء بعد</h3>\n                            </div>\n\n                        </div>\n                      \n                        <panel   ng-if="$ctrl.form.selectedType" class="row col-lg-12 p-0 m-0 mt-2" header="bg-red-100"  border="border-red-100"   >\n                            <panel-title dir="ltr">(مليان)المشتريات/مرتجع مشتريات </panel-title>\n                            <panel-body class="col-lg-12  p-0 m-0 my-1">\n                                <backs-for\n                       \n                                        ng-if="$ctrl.form.export_id"\n                                        ng-model="$ctrl.form.export_id"\n                                        items="$ctrl.form.itemsBack"\n                                        view-mode="$ctrl.viewMode"\n                                        type="\'purchases\'"></backs-for>\n\n                            </panel-body>\n                        </panel>\n\n</div>\n\n\n                  \n                  \n\n    \n        '}).component("viewSale",{bindings:{item:"<?",resolve:"<",close:"&",dismiss:"&",hideReceive:"<?"},controller:["$scope","EzzFilter","dataFactory",function(e,t,n){var l=this;l.$onInit=function(){l.resolve&&(!l.item&&l.resolve.forId&&(l.item=l.resolve.forId||null),l.title=l.resolve.title||"تفاصيل الحركة",l.isModel=!1|l.resolve.isModel),l.item&&l.load()},l.close=function(){l.dismiss({$value:"cancel"})},l.load=function(){showHideLoad(),n.httpRequest("index.php/admin/sales/"+l.item||0,"GET",{viewer:!0}).then(function(e){showHideLoad(!0),apiResponse(e,"add"),l.data=e})}}],template:'\n          <div class=" " ng-class="{\'modal-content\':$ctrl.isModel}">\n        <div class="modal-header  py-1 px-2 " ng-if="$ctrl.isModel">\n            <h4 class="modal-title mb-0" id="modal-title">\n                {{$ctrl.title}}\n            </h4>\n            <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.close()">اغلاق</button>\n\n        </div>\n        <div id="modal-body" ng-class="{\'modal-body px-2\':$ctrl.isModel}" >\n                     <form-sale form="$ctrl.data" view-mode="true" hide-receive="$ctrl.hideReceive"></form-sale>\n        </div>\n    </div>\n                  \n\n    \n        '}).component("editSale",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$rootScope","EzzFilter","$loader","$timeout","dataFactory","ArabicNumbers",function(e,t,n,l,o,i){var s=this;try{s.loader=n.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.form={},s.forId=s.resolve.forId||null,s.load()},s.load=function(){showHideLoad(),s.loading=!0,o.httpRequest("index.php/admin/sales/"+s.forId||0,"GET",{editor:!0}).then(function(e){s.loading=!1,showHideLoad(!0),s.form=e})},s.saveData=function(){s.loading=!0,o.httpRequest("index.php/admin/super/editSale/"+s.forId||0,"POST",{},s.form).then(function(e){s.loading=!1,apiResponse(e,"add")})},s.cancel=function(){s.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-header">\n            <h3 class="modal-title" id="modal-title">Edit Sale:</h3>\n        </div>\n<div class="modal-body mx-2" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class="customtab2 smallTabs ezz-tabs">\n             \n                <div class="row" ng-if="$ctrl.form">\n                  \n          \n                              \n             <select-ezz-field add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="col-lg-3 col-sm-6 px-0"\n                                          ng-model="$ctrl.form.driver"\n\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                     ></select-ezz-field> \n\n                      \n                            <ezz-date-edit class="col-lg-2 col-sm-4   px-0"\n                               ng-required="true"  title="التاريخ" \n                                \n                                ng-model="$ctrl.form.add_at"></ezz-date-edit>\n\n                        \n                          <input-field class="col-lg-3 col-sm-4  " field-type="integer"\n                                name="receive_no" ng-model="$ctrl.form.receive_no"\n                                    ng-required="true" title="اذن الدخول"></input-field>\n\n                    \n                            <input-field class="col-lg-3 col-sm-4  " field-type="integer"\n                                     name="bill_id" ng-model="$ctrl.form.bill_id"\n                                      title="فاتورة البيع"></input-field>\n\n       \n                </div>\n                \n                <div class="modal-footer">\n                        <button\n                                      \n                                       class="btn btn-danger  "\n                                        ng-click="$ctrl.saveData()"\n                                        >تعديل \n                                    <i class="fa fa-save"></i>\n                                </button>\n                    <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n                </div>\n                   <div class="row">\n                <view-receive ng-if="!$ctrl.loading && $ctrl.form.receive_id" item="$ctrl.form.receive_id"></view-receive>\n                </div>\n    </div>\n\n </div>\n</div>\n\n'}),angular.module("OraSchool").component("addOilRead",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$filter","EzzFilter","dataFactory",function(e,t,n){var l=this;l.hasId=!1,l.$onInit=function(){l.methodName="sales_readers",l.startInit()},l.startInit=function(){l.form={},l.resolve.forId&&(l.form.forId=l.resolve.forId||void 0,l.form.forId&&(l.hasId=!0))},l.saveAdd=function(){l.close({$value:l.selected})},l.getModelUrl=function(){return"index.php/admin/"+l.methodName+"/reads/add"},l.saveAdd=function(){showHideLoad(),n.httpRequest(l.getModelUrl()+"","POST",{},l.form).then(function(e){if(apiResponse(e,"add"),"success"==e.status)try{showHideLoad(),t.refreshAsync(l.methodName).then(function(){showHideLoad(!0),l.close({$value:e})}).catch(function(){showHideLoad(!0),l.close({$value:e})})}catch(t){showHideLoad(!0),l.close({$value:e})}showHideLoad(!0)})},l.cancel=function(){l.dismiss({$value:"cancel"})},l.usedAll=function(){let e=0,t=0;try{l.readerModel&&(t=l.readerModel.new_read||0)}catch(e){}try{e=l.form.new_read||0}catch(e){}return parseFloat(e)-parseFloat(t)},l.usedOthers=function(){const e=l.form.used_cars||0,t=l.form.used_other||0;return parseFloat(t)+parseFloat(e)}}],template:'\n<div class="modal-header">\n    <h3 class="modal-title" id="modal-title">اضافة قرائه :</h3>\n</div>\n<div class="modal-body mx-2" id="modal-body">\n    <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()" novalidate\n          role="form">\n        <select-ezz-field class="col-lg-12 px-0 "\n                          name="forId"\n                          ng-if="!$ctrl.hasId"\n                          ng-item="$ctrl.readerModel"\n                          ng-model="$ctrl.form.forId"\n                          options="\'sales_readers\'"\n                          title="الطرمبة"></select-ezz-field>\n\n        <show-field class="col-lg-12 px-0 " title="الطرمبة">\n            <view-name\n                    ng-item="$ctrl.readerModel"\n                    ng-model="$ctrl.form.forId"\n                    options="\'sales_readers\'">\n            </view-name>\n        </show-field>\n        <show-field class="col-lg-12 px-0 " ng-show="$ctrl.readerModel.id"\n                    title="القراءة السابقة">\n            {{$ctrl.readerModel.new_read}}\n        </show-field>\n      \n        <number-field class="col-lg-12 px-0" field-type="number"\n                     name="new_read" ng-model="$ctrl.form.new_read" required="true" title="اخر قراءة"></number-field>\n\n\n        <show-field class="col-lg-12 px-0 " ng-show="$ctrl.form.new_read>$ctrl.readerModel.new_read"\n                    title="الاستهلاك الكلي">\n                      {{$ctrl.usedAll() | number:2}}\n        </show-field>\n        <show-field class="col-lg-12 px-0 " ng-show="$ctrl.form.new_read>$ctrl.readerModel.new_read"\n                    title="استهلاك المصنع">\n             {{($ctrl.usedAll()-$ctrl.usedOthers())| number:2}}\n\n        </show-field>\n        <number-field class="col-lg-12 px-0" field-type="number"\n                         name="used_cars" ng-model="$ctrl.form.used_cars"\n                          title="استهلاك الدينات"></number-field>\n        <div class="col-lg-12 row mx-0  pr-0">\n            <number-field class="col-7 px-0" field-type="number"\n                         name="new_read" ng-model="$ctrl.form.used_other"\n                          title="اخرى" placeholder="الاستهلاك"></number-field>\n            <input-autosize-edit class="col px-0 mt-2" field-type="text"\n                         name="new_read" ng-model="$ctrl.form.other_note"\n                          title="التوضيح"></input-autosize-edit>\n\n        </div>\n        \n        <input-autosize-field class="col-lg-12  px-0" field-type="text"\n                     name="note" ng-model="$ctrl.form.note"  title="ملاحظات"></input-autosize-field>\n        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n           <button class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid" type="submit">\n                    اضافة\n                </button>\n                <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n\n        </div>\n    </form>\n\n</div>\n    \n        '}).component("addOilReadOther",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$filter","EzzFilter","dataFactory",function(e,t,n){var l=this;l.hasId=!1,l.$onInit=function(){l.methodName="sales_readers",l.startInit()},l.startInit=function(){l.form={},l.resolve.forId&&(l.form.forId=l.resolve.forId||void 0,l.form.forId&&(l.hasId=!0))},l.saveAdd=function(){l.close({$value:l.selected})},l.getModelUrl=function(){return"index.php/admin/"+l.methodName+"/reads/addOther"},l.saveAdd=function(){showHideLoad(),n.httpRequest(l.getModelUrl()+"","POST",{},l.form).then(function(e){if(apiResponse(e,"add"),"success"==e.status)try{showHideLoad(),t.refreshAsync(l.methodName).then(function(){showHideLoad(!0),l.close({$value:e})}).catch(function(){showHideLoad(!0),l.close({$value:e})})}catch(t){showHideLoad(!0),l.close({$value:e})}showHideLoad(!0)})},l.cancel=function(){l.dismiss({$value:"cancel"})},l.usedAll=function(){let e=0,t=0;try{l.readerModel&&(t=l.readerModel.new_read||0)}catch(e){}try{e=l.form.new_read||0}catch(e){}return parseFloat(e)-parseFloat(t)}}],template:'\n<div class="modal-header">\n    <h3 class="modal-title" id="modal-title">استخدام خارجي للطرمبة :</h3>\n</div>\n<div class="modal-body mx-2" id="modal-body">\n    <form class="form-horizontal row  ezz-fields no-f-lp no-i-lp" name="addForm" ng-submit="$ctrl.saveAdd()" novalidate\n          role="form">\n        <select-ezz-field class="col-lg-12 px-0 "\n                          name="forId"\n                          ng-if="!$ctrl.hasId"\n                          ng-item="$ctrl.readerModel"\n                          ng-model="$ctrl.form.forId"\n                          options="\'sales_readers\'"\n                          title="الطرمبة"></select-ezz-field>\n\n        <show-field class="col-lg-12 px-0 " title="الطرمبة">\n            <view-name\n                    ng-item="$ctrl.readerModel"\n                    ng-model="$ctrl.form.forId"\n                    options="\'sales_readers\'">\n            </view-name>\n        </show-field>\n        <div class="col-12 row mx-0  pr-0">\n            <show-field class="col px-0 " ng-show="$ctrl.readerModel.id"\n                    title="القراءة السابقة">\n            {{$ctrl.readerModel.new_read | number:2}}\n            </show-field>\n         \n\n            <div class="col-auto  mt-2 px-0  " ng-show="$ctrl.form.forId">\n                <a class="btn btn-info " \n                 ng-click="$root.openAddModel(\'addOilRead\',$ctrl.form.forId)"\n                style="padding: 4px 6px;font-size: 18px;vertical-align: middle;min-height: 38px;" type="button">\n\x3c!--                اضافة اخر قرائه--\x3e\n\x3c!--                <b style="vertical-align: middle;">&nbsp;</b>--\x3e\n                <i class="fa fa-plus-circle" style="vertical-align: bottom;"></i>\n                </a>\n            </div>\n        </div>\n        <number-field class="col-lg-12  px-0" field-type="number"\n                     name="new_read" ng-model="$ctrl.form.new_read" required="true" title="اخر قراءة"></number-field>\n\n\n\n\n        <show-field class="col-lg-12 px-0 " ng-show="$ctrl.form.new_read>$ctrl.readerModel.new_read"\n                    title="الاستهلاك الكلي">\n                      {{$ctrl.usedAll() | number:2}}\n        </show-field>\n\n        <input-autosize-field class="col-lg-12  px-0" field-type="text"\n                     name="note" ng-model="$ctrl.form.note"  title="ملاحظات"></input-autosize-field>\n        <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n           <button class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid" type="submit">\n                    اضافة\n                </button>\n                <button class="btn btn-danger" ng-click="$ctrl.cancel()" type="button">الغاء</button>\n\n        </div>\n    </form>\n\n</div>\n    \n        '}),function(){"use strict";angular.module("OraSchool").directive("rangeSpinner",function(){return{restrict:"AE",scope:{rangeMin:"@",rangeStep:"@",rangeMax:"@",rangeDefaultValue:"@",acceptDecimal:"@",rangeModel:"=",isRequired:"=!",isDisabled:"=!",nameOfField:"@",idOfField:"@",rangeDecimalPrecision:"@"},templateUrl:"tmpl/rangeSpinner.html",controller:["$scope","$element","$attrs",function(e,t,n){if(e.minRange=+(angular.isDefined(n.rangeMin)?n.rangeMin:0),e.step=+(angular.isDefined(n.rangeStep)?n.rangeStep:0),e.maxRange=+(angular.isDefined(n.rangeMax)?n.rangeMax:0),e.rangeDecPrec=+(angular.isDefined(n.rangeDecimalPrecision)?n.rangeDecimalPrecision:1),angular.isDefined(e.rangeDefaultValue)&&!isNaN(e.rangeDefaultValue)){var l=parseFloat(e.rangeDefaultValue);l>=e.minRange&&l<=e.maxRange?e.rangeModel=parseFloat(e.rangeDefaultValue).toFixed(e.rangeDecPrec):e.rangeModel=parseFloat(e.minRange).toFixed(e.rangeDecPrec)}e.rangePlusFunc=function(){angular.isUndefined(e.rangeModel)||isNaN(e.rangeModel)||""===e.rangeModel?e.rangeModel=e.minRange:e.rangeModel<e.maxRange&&("true"==e.acceptDecimal?e.rangeModel=parseFloat(parseFloat(e.rangeModel)+parseFloat(e.step)).toFixed(e.rangeDecPrec):e.rangeModel=parseInt(parseInt(e.rangeModel)+parseInt(e.step)))},e.rangeMinusFunc=function(){angular.isUndefined(e.rangeModel)||isNaN(e.rangeModel)||""===e.rangeModel?e.rangeModel=e.minRange:e.rangeModel>e.minRange&&("true"==e.acceptDecimal?e.rangeModel=parseFloat(parseFloat(e.rangeModel)-parseFloat(e.step)).toFixed(e.rangeDecPrec):e.rangeModel=parseInt(parseInt(e.rangeModel)-parseInt(e.step)))},e.$watch(function(){return e.rangeModel},function(t,n){if(angular.isDefined(e.rangeModel))if(isNaN(e.rangeModel))e.rangeModel=n;else if(e.rangeModel>e.maxRange)e.rangeModel=e.maxRange;else if(e.rangeModel<e.minRange)e.rangeModel=e.minRange;else if("true"==e.acceptDecimal){var l=String(e.rangeModel).split(".");l.length>1&&l[1].length>e.rangeDecPrec&&(e.rangeModel=parseFloat(e.rangeModel).toFixed(e.rangeDecPrec))}else e.rangeModel=parseInt(e.rangeModel)},!0)}]}}).run(["$templateCache",function(e){e.put("tmpl/rangeSpinner.html",'<div class="rangespinner">                     <div>                         <button type="button" ng-click="rangeMinusFunc()">-</button>                         <input ng-disabled="isDisabled" ng-required="isRequired" name="{{nameOfField}}" id="{{idOfField}}" type="text" range-min="{{rangeMin}}" range-step="{{rangeStep}}" range-max="{{rangeMax}}" ng-model="rangeModel" required>                         <button type="button" ng-click="rangePlusFunc()">+</button>                    </div>                 </div>')}])}(),angular.module("OraSchool").component("viewListItems",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$scope","$rootScope","$loader","dataFactory","EzzFilter","$uibModal","$location",function(e,t,n,l,o,i,s){var a=this;e.fffiles="",e.form={},e.EzzFilter=o,e.views={},e.items={},e.filters={},e.searchInput={},e.$on("$locationChangeStart",function(e,t,n){}),e.listParams={};var c="";try{a.loader=n.createNew(!1),a.loader.showClose(!1)}catch(e){}a.showLoader=function(e){try{a.loader.open(e)}catch(e){showHideLoad()}},a.closeLoader=function(){try{a.loader.close()}catch(e){showHideLoad(!0)}},e.showLoader=function(e){try{a.loader.open(e)}catch(e){showHideLoad()}},e.closeLoader=function(){try{a.loader.close()}catch(e){showHideLoad(!0)}},e.getModelUrl=function(){return a.modelUrl||"index.php/admin/"+e.methodName},a.$onInit=function(){log("resolve"),log(a.resolve),a.forId=a.resolve.forId||null,a.forModel=a.resolve.forModel||null,a.title=a.resolve.title||"",a.modelUrl=a.resolve.modelUrl||void 0,e.modelUrl=a.modelUrl,e.forId=a.forId,a.templateUrl=a.resolve.templateUrl||null,c=a.resolve.methodName||"non",e.methodName=a.methodName=a.resolve.methodName||"non",e.methodName=c,a.methodName=c,e.withParams=a.resolve.withParams||{},e.views.list=!0,e.isViewListItems=!0,a.initPage();try{e.phrase=t.dashboardData.language}catch(e){}},a.initPage=function(){e.totalItems=0,e.pageMax="20";try{if(store.has(e.methodName+".pageMax")){var t=store.get(e.methodName+".pageMax");parseInt(t,10)>9&&(e.pageMax=t)}}catch(t){logCatch(t),e.pageMax="20"}try{e.showSearch=store.get(e.methodName+".showSearch"),e.$watch("showSearch",function(t){store.put(e.methodName+".showSearch",t)})}catch(e){}e.getResultsPage(-1)},e.openAddModel=function(t,n,l,o){try{var s=i.open({animation:!1,size:"fullscreen",backdrop:"static",windowTemplateUrl:"assets/templates/wind.html",keyboard:!1,component:t,resolve:{forId:function(){return n},forModel:function(){return l},forItemId:function(){return o}}});try{s.result.then(function(t){e.getResultsPage()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},e.openAddModelFull=function(t,n){try{var l=i.open({animation:!1,size:"fullscreen",windowTemplateUrl:"assets/templates/wind.html",backdrop:"static",keyboard:!1,component:t,resolve:{forModel:function(){return n}}});try{l.result.then(function(t){e.getResultsPage()},function(){})}catch(e){logCatch(e)}}catch(e){logCatch(e)}},e.listItems=function(t){a.showLoader("جاري التحميل"),e.searchPageText="";var n=e.listParams;n.tab=e.acdMain||1,-1==t?(t=1,n.init=1):delete n.init,a.forId&&(n.forId=a.forId),n.pageMax=e.pageMax,l.httpRequest(e.getModelUrl()+"List/listAll/"+t,"GET",n).then(function(t){void 0!==t&&(e.items=t.items,void 0!==t.filters&&(e.filters=t.filters),void 0!==t.init&&(e.init=t.init),void 0!==t.totalItems&&(e.totalItems=t.totalItems),void 0!==t.showSearch&&(e.showSearch=t.showSearch)),a.closeLoader()})},e.viewDetailsDialog=function(t){e.showLoader(),l.httpRequest(e.getModelUrl()+"/view/"+t).then(function(n){var l=i.open({animation:!1,size:"lg res-fullscreen",windowTemplateUrl:"assets/templates/wind.html",component:"viewDetails",resolve:{itemView:function(){return n.rows},itemTitle:function(){return n.title},forId:function(){return t},forUrl:function(){return e.getModelUrl()+"/view/"+t},methodName:function(){return e.methodName}}});try{l.result.then(function(e){},function(){})}catch(e){logCatch(e)}e.closeLoader()})},e.searchDB=function(t){a.showLoader("جاري التحميل"),e.cur_page=t,e.searchPageText="";var n=e.listParams;n.tab=e.acdMain||1,n.pageMax=e.pageMax,delete n.init,a.forId&&(n.forId=a.forId),l.httpRequest(e.getModelUrl()+"List/listAll/"+t,"POST",n,{searchInput:e.searchInput}).then(function(t){void 0!==t&&(e.items=t.items,void 0!==t.totalItems&&(e.totalItems=t.totalItems)),a.closeLoader()})},e.searchDB2=function(t){e.currentPage=t,e.getResultsPage(t)},e.$watch("listParams.withCount",function(t){t&&e.getResultsPageCheck()}),e.getResultsPageCheck=function(t){e.totalItems&&e.getResultsPage()},e.onChangeItems=function(){try{o.refreshAsync(e.methodName)}catch(e){}},e.getResultsPage=function(t){void 0===t&&(t=e.cur_page),e.cur_page=-1==t?1:t,jQuery.isEmptyObject(e.searchInput)?e.listItems(t):e.searchDB(t)},e.pageChanged=function(t){e.getResultsPage(t)},a.getTemplate=function(){return a.templateUrl},e.setMax=function(){e.listItems(1);try{store.put(e.methodName+".pageMax",e.pageMax)}catch(e){logCatch(e)}},a.ok=function(){a.close({$value:a.itemView})},a.cancel=function(){a.dismiss({$value:"cancel"})},a.dblSelect=function(){a.ok()},e.changeView=function(e){a.dismiss({$value:"cancel"})}}],template:'\n       <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n\n  <div class="modal-content ">\n  <div class="modal-header  py-1 px-2 hidden-md-up">\n            <h6 class="modal-title mb-0">\n         {{$ctrl.title}}\n             </h6>\n                <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">رجوع\n                               <i class="fa fa-arrow-left"></i>\n</button>\n\n        </div>\n          <div class="modal-header  py-1 px-2 hidden-sm-down">\n            <h4 class="modal-title mb-0" id="modal-title">\n              {{$ctrl.title}}\n</h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">\n                رجوع\n               <i class="fa fa-arrow-left"></i>\n      </button>\n\n        </div>\n  <div class="modal-body " id="modal-body" >\n\n  <div ng-include="$ctrl.getTemplate()" ng-if="$ctrl.templateUrl"></div>\n  </div>\n  </div>\n\n'}),angular.module("OraSchool").directive("ezzResponsiveTable",[function(){return{restrict:"A",controller:["$element",function(e){angular.extend(this,{contains:function(t){var n=e[0],l=t;do{if(l===n)return!0;if("TABLE"===l.tagName)return!1;l=l.parentElement}while(l);throw new Error("Table element not found for "+t)},getHeader:function(t){var n=getFirstHeaderInRowWs(t.parentElement);if(n)return n;var l=getTRHeaders(e);if(l.length){var o=t.parentElement,i=0;return Array.prototype.some.call(o.children,function(e,n){return"TD"===e.tagName&&(e===t||void(i+=wscolspan(e)))})?l[i]:null}}})}],compile:function(e,t){e.addClass("responsive");var n=getTRHeaders(e);if(n.length){var l=[].filter.call(e.children(),function(e){return"TBODY"===e.tagName})[0].children;Array.prototype.forEach.call(l,function(e){var t=0;[].forEach.call(e.children,function(e,l){if("TD"===e.tagName){var o=getFirstHeaderInRowWs(e.parentElement);trUpdateTitle(e,o=o||n[t]),t+=wscolspan(e)}})})}}}}]).directive("td",[function(){return{restrict:"E",require:"?^^ezzResponsiveTable",link:function(e,t,n,l){l&&l.contains(t[0])&&setTimeout(function(){[].forEach.call(t[0].parentElement.children,function(e){"TD"===e.tagName&&trUpdateTitle(e,l.getHeader(e))})},0)}}}]),angular.module("OraSchool").component("addFilling",{bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$scope","$rootScope","EzzFilter","$loader","$timeout","dataFactory",function(e,t,n,l,o,i){var s=this;try{s.loader=l.createNew(!1),s.loader.showClose(!1)}catch(e){}s.showLoader=function(e){try{s.loader.open(e)}catch(e){showHideLoad()}},s.closeLoader=function(){try{s.loader.close()}catch(e){showHideLoad(!0)}},s.$onInit=function(){s.methodName="sales_filling_networks",s.form={},s.forId=s.resolve.forId||null,s.forItemId=s.resolve.forItemId||null,s.forId&&(s.form.forId=s.forId),s.startInit()},s.startInit=function(){s.forItemId&&(s.showLoader(),i.httpRequest(s.getModelUrl()+"/"+s.forItemId,"GET").then(function(e){apiResponse(e,"add"),is_object(e)&&(s.form=e,s.activatedTab="startTime"),s.closeLoader(!0)}))},s.saveAdd=function(){s.showLoader(),s.forItemId?i.httpRequest(s.getModelUrl()+"/"+s.forItemId,"POST",{},s.form).then(function(e){apiResponse(e,"add"),"success"==e.status&&s.close({$value:e}),s.closeLoader(!0)}):i.httpRequest(s.getModelUrl()+"","POST",{},s.form).then(function(e){apiResponse(e,"add"),"success"==e.status&&s.close({$value:e}),s.closeLoader(!0)})},s.getModelUrl=function(){return"index.php/admin/"+s.methodName},s.onSelectCustomers=function(e,t){s.addCustomers(t),s.activatedTab="startTime"},s.clearTemp=function(){},s.selectItems=function(){s.activatedTab="customers"},s.customersArray=function(){try{return s.form.customers.filter(function(e){try{return!e.deleted}catch(e){return!0}})}catch(e){return[]}},s.addFactory=function(e){is_array(s.form.customers)||(s.form.customers=[]);try{if(s.form.customers.filter(function(e){try{return e.is_factory}catch(e){return!1}}).length>0)return}catch(e){}s.form.customers.push({is_factory:!0})},s.diffTimed=function(){try{if(!angular.isDefined(s.form))return"";if(!angular.isDefined(s.form.to))return"";if(!angular.isDefined(s.form.from))return"";if(!angular.isDefined(s.form.from.hours)||!angular.isNumber(s.form.from.hours))return"";if(!angular.isDefined(s.form.from.minutes)||!angular.isNumber(s.form.from.minutes))return"";if(!angular.isDefined(s.form.to.hours)||!angular.isNumber(s.form.to.hours))return"";if(!angular.isDefined(s.form.to.minutes)||!angular.isNumber(s.form.to.minutes))return""}catch(e){}try{var e=s.form.from.hours,t=s.form.from.minutes,n=s.form.to.hours,l=s.form.to.minutes;e>n&&(n+=12);var o=moment({y:2020,M:1,d:1,h:e,m:t}),i=moment({y:2020,M:1,d:1,h:n,m:l});moment.duration(o.diff(i));return humanizeDuration(o.diff(i),{round:!0,language:"ar",halfUnit:!1,delimiter:" و",units:["hours","minutes"]})}catch(e){logCatch(e)}},s.addCustomers=function(e){is_array(s.form.customers)||(s.form.customers=[]),angular.forEach(e,function(e){try{if(s.form.customers.filter(function(t){try{if(t.is_factory)return!1}catch(e){}try{if(t.deleted)return!1}catch(e){}try{var n=t.customer+""==e.id+"";if(n)try{if(t.deleted)return delete t.deleted,!0}catch(e){}return n}catch(e){return!1}}).length>0)return}catch(e){}s.form.customers.push({customer:e.id,name:e.name})})},s.ok=function(){s.close({$value:s.selected})},s.cancel=function(){s.dismiss({$value:"cancel"})}}],template:'\n  <div class="modal-content ">\n\n<div class="modal-header  py-1 px-2 hidden-sm-down">\n            <h4 class="modal-title mb-0" id="modal-title">\n             <span ng-hide="$ctrl.form.id"> اضافة شبكة</span>\n           <span ng-show="$ctrl.form.id"> تعديل الشبكة</span> \n   \n\x3c!--            <span  class=" h4 m-0"><label  class="py-2 label label-success"></label> </span>--\x3e\n            </h4>\n                <button class="btn btn-danger pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n </div>\n  <div class="modal-header  py-1 px-2 hidden-md-up">\n            <h6 class="modal-title mb-0">\n           <span ng-hide="$ctrl.form.id"> اضافة شبكة</span>\n           <span ng-show="$ctrl.form.id"> تعديل الشبكة</span>\n      </h6>\n                <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n        </div>\n<div class="modal-body mx-0 res-p-0" id="modal-body">\n    <div >\n        <preloader class="preloaderFixed" loader="$ctrl.loader"></preloader>\n           <div class=" customtab2 smallTabs ezz-tabs">\n                   <uib-tabset active="$ctrl.activatedTab">\n        <uib-tab class="px-2" heading="تحديد العملاء" index="\'customers\'" select="$ctrl.clearTemp()">\n        \n            \n               <div class="mb-0 mt-3 text-center"\n                                   >\n                                <div class="btn btn-outline-info   text-center" ng-click="$ctrl.addFactory()"\n                                   >\n                                        اضافة المصنع \n                                        <i class="fa fa-plus"></i> \n                                        </div>\n             </div>\n             <multi-selector \n          add-model="addCustomer"\n                          can-add="$root.can(\'sales_customers.Add\')"\n                             class="mt-1"\n                     ng-items="$ctrl.data.customersIds"\n                     ng-model="$ctrl.data.customersModels"\n                     on-select="$ctrl.onSelectCustomers"\n                      options="\'sales_customers\'"\n                          cols="4"\n                          btn-ok="موافق ,التالي"\n                          title="العملاء"\n\n            ></multi-selector>\n\n\n        </uib-tab>\n        <uib-tab heading="الوقت والعملاء" index="\'startTime\'">\n        \n       \n      <form  name="addForm" role="form" ng-submit="$ctrl.saveAdd()" novalidate>\n      \n <div class="row px-1 mx-0 mt-1 text-center " >\n <div class="col-6 px-0 text-center border-cyan-100" >\n  <table class="w-100">\n        <tr>\n        <td style="text-align: -webkit-center;">\n               <time-edit required="true" hours="$ctrl.form.from.hours" minutes="$ctrl.form.from.minutes" title="من"></time-edit>\n</td>\n \n</tr>\n</table>\n</div>\n <div class="col-6 px-0 text-center border-red-100" >\n  <table class="w-100">\n        <tr>\n   \n  <td style="text-align: -webkit-center;">\n              <time-edit hours="$ctrl.form.to.hours" minutes="$ctrl.form.to.minutes" title="الى"></time-edit>\n</td>\n</tr>\n</table>\n</div>\n</div>\n      <div class="row p-0 mx-2  mb-0 mt-1 text-center"\n                                   >\n                                <div class="row col-lg-6 p-0 m-0">\n                                     <label-value\n                                            class="col p-0"\n                                         full="true"   color="teal"\n                                            size="5" title="من">\n                                        {{$ctrl.form.from|objToTime}}\n                                    </label-value>\n                                     <label-value\n                                            class="col p-0"\n                                        full="true"    color="red"\n                                            size="5" title="الى">\n                                        {{$ctrl.form.to|objToTime}}\n                                    </label-value>\n                                </div>\n                                     <label-value\n                                            class="col-lg-6"\n                                           full="true" color="green"\n                                            size="5" title="الفارق">\n                                          {{$ctrl.form.from|diffTime:$ctrl.form.to}}\n                                    </label-value>\n                            \n             </div>\n                   <input-autosize-field class="col-lg-12  " field-type="text"\n                                     name="note" ng-model="$ctrl.form.note" title="ملاحظات"></input-autosize-field>\n\n<filling-list ng-model="$ctrl.form.customers"></filling-list>\n     <div class="mb-1 mt-1 col"\n                                   >\n                                <div class="btn btn-outline-success  text-center" ng-click="$ctrl.selectItems()"\n                                   >\n                                        اضافة عملاء او المصنع\n                                        <i class="fa fa-plus"></i> \n                                        </div>\n             </div>\n    <div class="row col p-0 m-0 mt-1">\n                            <div class="col-auto p-0"> الاجمالي : </div>\n                   <label-value\n                                            class="col p-0"\n                                         full="true"   color="teal"\n                                            size="5" title="O كبير">\n                                        {{$ctrl.customersArray()|sum:\'i1\'}}\n                                    </label-value>\n                                     <label-value\n                                            class="col p-0"\n                                        full="true"    color="red"\n                                            size="5" title="O صغير">\n                                        {{$ctrl.customersArray()|sum:\'i2\'}}\n                                    </label-value>\n                   <label-value\n                                            class="col p-0"\n                                         full="true"   color="teal"\n                                            size="5" title="N كبير">\n                                        {{$ctrl.customersArray()|sum:\'i3\'}}\n                                    </label-value>\n                                     <label-value\n                                            class="col p-0"\n                                        full="true"    color="red"\n                                            size="5" title="N صغير">\n                                        {{$ctrl.customersArray()|sum:\'i4\'}}\n                                    </label-value>\n                                </div>\n\n \n\x3c!--            <div class="col text-center" --\x3e\n\x3c!--            >--\x3e\n\x3c!--       <time-edit hours="$ctrl.form.to.hours" minutes="$ctrl.form.to.minutes" title="الى"></time-edit>--\x3e\n\x3c!--</div>--\x3e\n\n\n\n          \n            <div class="modal-footer col-lg-12 px-0 form-group m-b-0 mt-2">\n                            <div class="offset-sm-2 col-sm-10">\n                                <button  type="submit" class="btn btn-success  waves-effect waves-light" ng-disabled="addForm.$invalid"> حفظ</button>\n                                          <button class="btn btn-danger" type="button" ng-click="$ctrl.cancel()">الغاء</button>\n\n                            </div>\n                        </div>\n</form>\n        </uib-tab>\n\n    </uib-tabset>\n              </div>\n\n    </div>\n\n </div>\n</div>\n</div>\n\n'}).component("fillingList",{controller:["$scope","$element","$attrs","$timeout",function(e,t,n,l){var o=this;o.autoAdd=!1,o.$onInit=function(){o.ngModel||(o.ngModel=[]),is_undefined(o.auto)&&(o.auto=!0),o.autoAdd=o.auto;try{t.attr("nexts","3")}catch(e){}},e.$watchCollection("$ctrl.ngModel",function(e){}),o.addRaw=function(e){o.ngModel.push({})},o.isDisabled=function(e,t){try{return!e.itemId}catch(e){return!1}},o.isRowEdited=function(e){var t=!1;try{angular.forEach(e,function(e,n){try{null!=e&&"$$hashKey"!==n&&(t||(t=e.length>0||e>0))}catch(e){}})}catch(e){}return t},o.removeRaw=function(e){try{if(o.isRowEdited(o.ngModel[e])){if(1==confirm(" هل تريد حذف العنصر من الجدول ؟"))return o.ngModel[e].id?o.removeRawSafe(e):o.ngModel.splice(e,1)}else o.ngModel.splice(e,1)}catch(t){logCatch(t),o.ngModel.splice(e,1)}},o.removeRawSafe=function(e){try{o.ngModel[e].deleted=!0}catch(e){logCatch(e)}},o.isValid=function(e){return!isNull(e)||"0"==e},o.change=function(e,t){}}],bindings:{ngModel:"=",ngChange:"<?",viewPrice:"<?",viewMode:"<?",color:"<?",auto:"<?",multi:"<?"},template:'\n\n<div class="px-1" ng-hide="$ctrl.viewMode">\n<table  class="w-100 noTitle rowSpace bg-white">\n\x3c!--responsive--\x3e\n    <thead>\n    <tr>\n\n\n        <td colspan="3" data-title="العميل" class="res-w-50" style="width: 30%">\n         \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;"></div>\n\n        </td>\n           <td data-title="السائق"  class="res-w-25" style="width: 20%" >\n   \n<div class="ezz-form-title form-control  " \n      ng-class="$ctrl.color" style="display: flow-root;">السائق</div>\n\n        </td>\n        <td data-title="كبير O"  class="res-w-25" >\n   \n<div class="ezz-form-title form-control"    dir="ltr"\n      ng-class="$ctrl.color" style="display: flow-root;">كبير O</div>\n\n        </td>\n     \n        <td data-title="صغير O"  class="res-w-25"  >\n   \n<div class="ezz-form-title form-control  "    dir="ltr"\n      ng-class="$ctrl.color" style="display: flow-root;">صغير O</div>\n\n        </td>\n        <td data-title="صغير O"  class="res-w-25" >\n   \n<div class="ezz-form-title form-control  "    dir="ltr"\n      ng-class="$ctrl.color" style="display: flow-root;">كبير N</div>\n\n        </td>\n        <td data-title="صغير N"  class="res-w-25"  >\n   \n<div class="ezz-form-title form-control  "  dir="ltr"\n      ng-class="$ctrl.color" style="display: flow-root;">صغير N</div>\n\n        </td>\n     \n\n      \n\n     <td data-title=" "  class="hidden-sm-down" ng-hide="!$ctrl.ngModel.length">\n\n\n            <a class="  btn btn-danger "\n               style="padding: 4px 6px;font-size: 18px; cursor: default;\n    opacity: 0!important;"\n               type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n\n\n        </td>\n\n    </tr>\n\n    </thead>\n    <tbody>\n    <tr class="row-add" ng-hide="item.deleted" ng-repeat-start="item in $ctrl.ngModel"\n    >\n\n    \n<td  colspan="3" data-title="العميل" class="p-0 label   " \nstyle="display: revert;text-align: center;font-weight: bold;font-size: medium;vertical-align: middle;border: 1px solid rgba(0,0,0,.15);">\n\x3c!--{{item.name}}--\x3e\n<div ng-if="item.is_factory">المصنع</div>\n<div ng-if="!item.is_factory">\n <a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',item.customer,\'c\')">\n{{item.name}}\n         <view-name ng-if="!item.name" ng-model="item.customer" options="\'sales_customers\'"> </view-name>\n                               </a>\n</div>\n</td>\n\n        <td data-title="السائق" >\n     <select-ezz-edit add-model="addDriver"\n                                          can-add="$root.can(\'sales_drivers.Add\')"\n                                          class="row px-0 mx-0"\n                                          custom-filter="{forId:item.customer+\'\'}"\n                                          ng-model="item.driver"\n\n                                          options="\'sales_drivers\'"\n                                          title="السائق"\n                                        ></select-ezz-edit> \n     </td>\n        <td data-title="O كبير" ng-class="{\'has-danger\':  !item.i1 && !item.i2 && !item.i3 && !item.i4}">\n <div class="row px-0 mx-0"> \n\x3c!--           <label class="col-auto control-label ezz-field-label hidden-md-up">كبير</label>--\x3e\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner" \n            dir="ltr" name="i1"\n              onclick="this.select();"     ng-change="$ctrl.change(item,$index)" ng-integer\n                   ng-required="!item.i1 && !item.i2 && !item.i3 && !item.i4"\n                   ng-model="item.i1" placeholder="O كبير" type="text"/>\n\n              </div>\n     </td>\n        <td data-title="O صغير" ng-class="{\'has-danger\':  !item.i1 && !item.i2 && !item.i3 && !item.i4}">\n <div class="row px-0 mx-0"> \n\x3c!--           <label class="col-auto control-label ezz-field-label hidden-md-up">صغير</label>--\x3e\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner"\n             dir="ltr" name="i2"\n                 ng-integer      ng-required="!item.i1 && !item.i2 && !item.i3 && !item.i4"\n               onclick="this.select();"       ng-change="$ctrl.change(item,$index)"\n                   ng-model="item.i2" placeholder="O صغير" type="text"/>\n\n              </div>\n     </td>\n\n        <td data-title="N كبير" ng-class="{\'has-danger\': !item.i1 && !item.i2 && !item.i3 && !item.i4}">\n <div class="row px-0 mx-0"> \n\x3c!--           <label class="col-auto control-label ezz-field-label hidden-md-up">كبير</label>--\x3e\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner" \n            dir="ltr" name="i3"\n              onclick="this.select();"     ng-change="$ctrl.change(item,$index)"\n                  ng-integer   ng-required="!item.i1 && !item.i2 && !item.i3 && !item.i4"\n                   ng-model="item.i3" placeholder="N كبير" type="text"/>\n\n              </div>\n     </td>\n        <td data-title="N صغير" ng-class="{\'has-danger\': !item.i1 && !item.i2 && !item.i3 && !item.i4}">\n <div class="row px-0 mx-0"> \n\x3c!--           <label class="col-auto control-label ezz-field-label hidden-md-up">صغير</label>--\x3e\n            <input autocomplete="off" class="col  form-control text-center formcore-disable-spinner"\n             dir="ltr" name="i4"\n              ng-integer       ng-required="!item.i1 && !item.i2 && !item.i3 && !item.i4"\n               onclick="this.select();"       ng-change="$ctrl.change(item,$index)"\n                   ng-model="item.i4" placeholder="N صغير" type="text"/>\n\n              </div>\n     </td>\n\n\n   \n        <td data-title=" "  class="hidden-sm-down" ng-hide="!$ctrl.ngModel.length">\n\n\n            <a class="  btn btn-danger "\n               ng-click="$ctrl.removeRaw($index)" \n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i>\n            </a>\n\n        </td>\n\n    </tr>\n    <tr ng-repeat-end class="hidden-md-up">\n        <td data-title="ملاحظات"  colspan="4">\n          <div class="row px-0 mx-0"> \n              <input class="col  form-control  " name="note"\n                   ng-change="$ctrl.change(item,$index)" ng-model="item.note"\n                   placeholder="ملاحظات" type="text"/>\n\n\n                  </div>\n </td>\n\n   <td data-title=" "  class=" " colspan="1">\n\n         <div class="row px-0 mx-0"> \n      \n   <div class="col btn btn-danger "\n               ng-click="$ctrl.removeRaw($index)"\n               style="padding: 4px 6px;font-size: 18px;" type="button"><i class="fa fa-minus-circle"></i> حذف \n            </div>\n \n          \n\n\n          </div>\n          </td>\n    </tr>\n    </tbody>\n</table>\n\n</div>\n\n\n '}),angular.module("OraSchool").component("viewReceives",{bindings:{forId:"=?",type:"@?"},controller:["$filter","$loader","dataFactory",function(e,t,n){var l=this;l.hasId=!1;try{l.loader=t.createNew(!1),l.loader.showClose(!1)}catch(e){}l.showLoader=function(e){try{l.loader.open(e)}catch(e){showHideLoad()}},l.closeLoader=function(){try{l.loader.close()}catch(e){showHideLoad(!0)}},l.$onInit=function(){l.methodName="sales_readers",l.startInit()},l.startInit=function(){l.form={},l.load()},l.load=function(){l.showLoader(),n.httpRequest("index.php/admin/orderFor/"+l.type+"/"+l.forId).then(function(e){if(apiResponse(e,"add"),"success"==e.status)try{l.closeLoader(),l.form=e.data,l.closeLoader()}catch(e){l.closeLoader()}else l.closeLoader()})}}],template:'\n        <preloader  loader="$ctrl.loader"></preloader>\n\n\n    <div class="row p-0 m-0" ng-if="$ctrl.form.id" >\n           \n\n                        <show-field\n                                class="col-lg-4 "\n                                name="forUser"\n                                ng-if="$ctrl.form.forUser"\n                                title="العميل">\n                            <view-name ng-model="$ctrl.form.forUser" options="\'sales_customers\'">\n                            </view-name>\n\n                        </show-field>\n\n                        <show-field\n                                class="col-lg-4 "\n                                name="driver"\n\n                                ng-if="$ctrl.form.driver"\n                                title="السائق">\n                            <view-name ng-model="$ctrl.form.driver" options="\'sales_drivers\'">\n                            </view-name>\n                        </show-field>\n                        <view-field class="col-lg-4  px-0" field-type="integer"\n                                     name="receive_no" ng-model="$ctrl.form.receive_no"\n                                   ng-if="$ctrl.form.receive_no"\n                                     title="رقم طلب الدخول يدوي"\n                                    ></view-field>\n                        <view-field class="col-lg-4  px-0" field-type="integer"\n                                     name="carNo" ng-model="$ctrl.form.carNo"\n                                     ng-show="$ctrl.form.selectedType==\'customer\' "\n                                      ng-if="$ctrl.form.carNo"\n                                     title="رقم السيارة"\n                                     ></view-field>\n                        <view-field\n                                class="col-lg-4 px-0"\n                                name="driver"\n                                ng-model="$ctrl.form.export_id"\n                                      ng-if="$ctrl.form.export_id"\n                                ng-show="$ctrl.form.export_id && $ctrl.form.selectedType==\'driver\'"\n                                title="رقم اذن الخروج"></view-field>\n                        <view-field\n                                class="col-lg-4 px-0"\n                                name="driver"\n                                ng-model="$ctrl.form.export_no"\n                                \n                                ng-show="$ctrl.form.export_no && $ctrl.form.selectedType==\'driver\'"\n                                title="رقم اذن الخروج يدوي"></view-field>\n\n\n                        <span class="h4  m-0 col-lg-12 ezz-expand-label" ng-if="$ctrl.form.selectedType==\'customer\'">\n                                        <label class="py-1  label bg-100 bg-cyan-100 bold">\n                                      <toggle-show class="py-1 " default="false" hide="$ctrl.data.showItemsList"\n                                                   small="true"></toggle-show>\n\n                                    قائمة المنتجات :\n                                    </label>\n                                </span>\n                        <div class="col-lg-12 ezz-expand  px-0 border-cyan-100 bg-white" \n                             ng-hide="$ctrl.data.showItemsList" ng-if="$ctrl.form.selectedType==\'customer\'"\n                             style="background-color: #8bc34a1c;">\n\n\n                            <items-view ng-model="$ctrl.form.items_list" \n                                      view-price="0"></items-view>\n                        </div>\n\n                        <span class="h4  m-0 col-lg-12 ezz-expand-label" ng-if="$ctrl.form.selectedType==\'driver\'">\n                                        <label class="py-1 mt-2 label bg-300 bg-grey-300 bold"\n                                              >\n                                      <toggle-show class="py-1 " default="false" hide="$ctrl.data.showExportItemsList"\n                                                   small="true"></toggle-show>\n\n                                    قائمة اذن الخروج :\n                                    </label>\n                       </span>\n                        <div class="col-lg-12   px-0 border-gray-100 bg-white ezz-expand"\n                             ng-hide="$ctrl.data.showExportItemsList"\n                             ng-if="$ctrl.form.selectedType==\'driver\'">\n\n\n                            <items-for\n                                    ng-if="$ctrl.form.export_id"\n                                    ng-model="$ctrl.form.export_id"\n                                    no-total="true"\n                                    type="\'exports\'" view-price="0"></items-for>\n                        </div>\n                        <span class="h4  m-0 col-lg-12 ezz-expand-label" ng-if="$ctrl.form.selectedType==\'driver\'">\n                                        <label class="py-1 mt-2 label bg-100 bg-cyan-100 bold"\n                                             >\n                                            <toggle-show class="py-1 " default="false" hide="$ctrl.data.showInvoices"\n                                                         small="true">\n                                            </toggle-show>\n                                             العملاء :\n                                         </label>\n                                </span>\n\n                        <div class="col-lg-12 m-0  row   px-0 border-cyan-100 ezz-expand bg-white"\n                        ng-hide="$ctrl.data.showInvoices"\n                             ng-if="$ctrl.form.selectedType==\'driver\'" style="background-color: #8bc34a1c;">\n\n                        \n                            <div class="col-lg-12 res-px-0  mb-2 no-f-lp no-i-lp " ng-hide="$ctrl.data.showInvoices">\n\n                                <div class="card   px-0 mx-0 mb-2"\n                                     ng-repeat="(key, row) in $ctrl.form.invoices | orderBy:undefined:true">\n                                   \n                                    <div class="card-body  px-0 mx-0 p-2 row" ng-hide="row.hide">\n                                    \n                                        <div class="row col-lg-12 m-0 p-0">\n                                            <show-field\n                                                    class="col-lg-4 px-0 "\n                                                    title="العميل">\n                                                <view-name ng-model="row.forUser"\n                                                           options="\'sales_customers\'"></view-name>\n                                            </show-field>\n                                            <show-field\n                                                    class="col-lg-3 px-0 "\n                                                    title="فاتورة البيع">\n                                                {{row.bill_id}}\n                                            </show-field>\n                                            <show-field\n                                                    class="col-lg-2 px-0 "\n                                                    title="نوع البيع">{{$root.dashboardData.saleTypes[row.saleType].name}}\n                                            </show-field>\n                                            <show-field\n                                                    class="col-lg-3 px-0 "\n                                                    title="ملاحظات">\n                                                {{row.note}}\n                                            </show-field>\n                                        </div>\n\n                                        \x3c!--                                <input-field--\x3e\n                                        \x3c!--                                        class="col-lg-4 px-0 "--\x3e\n                                        \x3c!--                                        field-type="integer"--\x3e\n                                        \x3c!--                                        name="cachAmount"--\x3e\n                                        \x3c!--                                        ng-model="row.cachAmount" ng-show="row.saleType==\'2\'"--\x3e\n                                        \x3c!--                                        title="المبلغ المدفوع"></input-field>--\x3e\n                                        <div class="col-lg-12 mt-2 px-0">\n                                            <row-invoice-view\n                                                    ng-model="row.items"\n                                                  ></row-invoice-view>\n                                        </div>\n\n                                    </div>\n                           \n\n                                </div>\n                               \n                            </div>\n\n                        </div>\n                        <span class="h4  m-0 col-lg-12 ezz-expand-label" ng-show="$ctrl.form.items_back.length"\n                              ng-if="$ctrl.form.selectedType==\'driver\'">\n                                        <label class="py-1 mt-2 label bg-100 bg-red-100 bold"\n                                              >\n                                      <toggle-show class="py-1 " default="false" hide="$ctrl.data.showItemsBack"\n                                                   small="true"></toggle-show>\n                                    المرتجع :\n                                    </label>\n                           </span>\n                        <div class="col-lg-12   px-0 border-red-100 ezz-expand bg-white"\n                        ng-show="$ctrl.form.items_back.length"\n                             ng-hide="$ctrl.data.showItemsBack"\n                             ng-if="$ctrl.form.selectedType==\'driver\'"\n                             style="background-color: #e91e6308;">\n <items-view ng-model="$ctrl.form.items_back" view-price="0"></items-view>\n\n                        </div>\n\n                      \n\n    </div>\n\n        '}),$index=function(){var e=1060;return{next:function(){return e++},active:function(){return!0}}}(),ezzParser.$inject=["$parse"],angular.module("OraSchool").factory("ezzParser",ezzParser),angular.module("OraSchool").directive("ezzOptions",ezzOptions),angular.module("OraSchool").directive("ezzRepeat",ezzRepeat),angular.module("OraSchool").directive("ezzParser",ezzOptions),angular.module("OraSchool").run(["$templateCache",function(e){"use strict";e.put("assets/templates/accountSettings.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">اعدادات الحساب</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row"> <div class="col-md-3 no-print"> <div class="card"> <div class="card-block"> <div class="list-group"> <a class="list-group-item active" href="admin#/account/password" ng-show="$root.can(\'AccountSettings.chgPassword\')">تغيير كلمة السر</a> </div> </div> </div> </div> <div class="col-md-9"> <div class="card"> <div class="card-block"> <section class="content" ng-show=" $root.can(\'AccountSettings.chgPassword\')"> <div class="box col-xs-12"> <div class="box-header"> <h3 class="box-title">تغيير كلمة السر</h3> </div> <div class="box-body table-responsive"> <form class="form-horizontal" method="post" name="editpassword" ng-submit="savePassword()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': editpassword.password.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label">كلمة السر القديمة </label> <div class="col-sm-9"> <input class="form-control" name="password" ng-model="form.password" placeholder="كلمة السر القديمة " required type="password"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': editpassword.newPassword.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label">كلمة السر الجديدة </label> <div class="col-sm-9"> <input class="form-control" name="newPassword" ng-model="form.newPassword" placeholder="كلمة السر الجديدة " required type="password"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': editpassword.repassword.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label">اعادة كلمة السر الجديدة </label> <div class="col-sm-9"> <input class="form-control" name="repassword" ng-match="newPassword" ng-model="form.repassword" placeholder="اعادة كلمة السر الجديدة " required type="password"> </div> </div> <div class="form-group m-b-0"> <div class="offset-sm-3 col-sm-9"> <button class="btn btn-info waves-effect waves-light" ng-disabled="editpassword.$invalid" type="submit">تغيير كلمة السر </button> </div> </div> </form> </div> </div> </section> </div> </div> </div> </div>'),e.put("assets/templates/dbexports.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">{{phrase.dbExport}}</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row" ng-show="$root.can(\'dbExport.dbExport\')"> <div class="col-md-3 no-print"> <div class="card"> <div class="card-block"> <div class="list-group"> <a aria-controls="export" class="list-group-item active" data-toggle="tab" href="#export" role="tab" showtab="">{{phrase.exportDB}}</a> <a aria-controls="import" class="list-group-item" data-toggle="tab" href="#import" role="tab" showtab="">{{phrase.importDB}}</a> </div> </div> </div> </div> <div class="col-md-9"> <div class="card"> <div class="card-block"> <div class="tab-content"> <div class="tab-pane active" id="export" role="tabpanel"> <h3>{{phrase.exportDB}}</h3> <br> <div class="form-group row" ng-class="{\'has-error\': editSettings.siteTitle.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label">{{phrase.exportDB}} * </label> <div class="col-sm-9 control-label"> <a href="backup" target="_BLANK">{{phrase.exportClick}}</a> </div> </div> </div> <div class="tab-pane" id="import" role="tabpanel"> <h3>{{phrase.importDB}}</h3> <br> <div class="form-group row" ng-class="{\'has-error\': editSettings.siteTitle.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label">{{phrase.importDB}} * </label> <div class="col-sm-9"> {{phrase.importClick}} </div> </div> </div> </div> </div> </div> </div> </div>'),e.put("assets/templates/dirPagination.html",'<div class="dataTables_wrapper" ng-if="1 < pages.length"> <div class="dataTables_paginate paging_simple_numbers"> <a class="paginate_button previous disabled" ng-class="{ disabled : pagination.current == 1 }" ng-click="setCurrent(1)" ng-if="boundaryLinks"><i class="fa fa-greater-than"></i><i class="fa fa-greater-than"></i></a> <a class="paginate_button previous disabled" ng-class="{ disabled : pagination.current == 1 }" ng-click="setCurrent(pagination.current - 1)" ng-if="directionLinks"><i class="fa fa-greater-than"></i></a> <span> <a class="paginate_button" ng-class="{ current : pagination.current == pageNumber, disabled : pageNumber == \'...\' }" ng-click="setCurrent(pageNumber)" ng-repeat="pageNumber in pages track by $index">{{ pageNumber }}</a> </span> <a class="paginate_button next" ng-class="{ disabled : pagination.current == pagination.last }" ng-click="setCurrent(pagination.current + 1)" ng-if="directionLinks"><i class="fa fa-less-than"></i></a> <a class="paginate_button previous disabled" ng-class="{ disabled : pagination.current == pagination.last }" ng-click="setCurrent(pagination.last)" ng-if="boundaryLinks"><i class="fa fa-less-than"></i><i class="fa fa-less-than"></i></a> </div> </div>'),e.put("assets/templates/employees.html",'<div class="row pt-2"> </div> <div class="row" ng-show="views.list"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show="$root.can(\'Administrators.addAdministrator\')">{{phrase.addAdministrator}} </button> <div class="pull-left card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <span class="input-group-addon"><i class="fa fa-search"></i></span> <input class="form-control" name="table_search" ng-model="searchText" placeholder="{{phrase.Search}}" type="text"> </div> </div> <h4 class="card-title">{{phrase.listAdministrators}}</h4> <div class=""> <table class="ezztable table table-bordered table-hover titleLabel style2" ezz-responsive-table=""> <thead> <tr> <th class="bg-light-info">{{phrase.name}}</th> <th class="bg-light-info">{{phrase.username}}</th> <th class="bg-light-info">نوع المستخدم</th> <th class="bg-light-info">الصلاحية</th> <th class="bg-light-info" ng-show="$root.can(\'Administrators.editAdministrator\') || $root.can(\'Administrators.delAdministrator\')"> {{phrase.Operations}} </th> </tr> </thead> <tbody> <tr ng-repeat="admin in admins |  object2Array | filter:searchText"> <td> <img alt="{{admin.fullName}}" class="user-image img-circle" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width:35px; height:35px"> {{admin.fullName}} <i class="fa fa-lightbulb-o" ng-class="{\'color_red\':admin.account_active==0,\'color_green\':admin.account_active==1}"></i> <small class="ng-binding" ng-show="admin.account_active==0" style="color:red;cursor:pointer"> معطل </small><small class="ng-binding" ng-show="admin.account_active==1" style="color:green;cursor:pointer"> مفعل </small> </td> <td> {{admin.username}} </td> <td>{{admin.job_type}}</td> <td>{{admin.role}}</td> <td class="text-center no-title"> <button class="btn btn-danger btn-sm" ng-click="$root.openAccountReport(admin.id,\'e\',admin.fullName)" ng-show="$root.can(\'sales_customers.journalList\')">كشف حساب <i class="fa fa-dollar-sign"></i> </button> <button class="btn btn-warning" ng-click="account_status(admin.id,$index)" ng-show="admin.account_active==0 && $root.can(\'Administrators.editAdministrator\')" title="{{phrase.toggleStatus}}" tooltip type="button"> تفعيل <i class="fa fa-lightbulb-o"></i></button> <button class="btn btn-warning" ng-click="account_status(admin.id,$index)" ng-show="admin.account_active==1 && $root.can(\'Administrators.editAdministrator\')" title="{{phrase.toggleStatus}}" tooltip type="button"> تعطيل <i class="fa fa-lightbulb-o"></i></button> <button class="btn btn-info" ng-click="edit(admin.id)" ng-show="$root.can(\'Administrators.editAdministrator\')" title="{{phrase.Edit}}" tooltip type="button"> {{phrase.Edit}} <i class="fa fa-pencil"></i> </button> <button class="btn btn-danger" ng-click="remove(admin,$index)" ng-show="$root.can(\'Administrators.delAdministrator\')" title="{{phrase.Remove}}" tooltip type="button"> {{phrase.Remove}} <i class="fa fa-trash-o"></i></button> </td> </tr> <tr ng-show="!admins.length"> <td class="noTableData" colspan="5">{{phrase.noAdministrators}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="row" ng-show="views.add"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button> <h4 class="card-title">{{phrase.addAdministrator}}</h4> <div class=""> <form class="row" name="addAdmin" ng-submit="saveAdd(form)" novalidate role="form"> <input-field class="col-lg-12" field-type="text" name="fullName" ng-model="form.fullName" required title="الاسم الكامل"></input-field> <input-field class="col-lg-6" field-type="text" name="username" ng-model="form.username" required title="اسم المستخدم"></input-field> <input-field class="col-lg-12" field-type="password" name="password" ng-model="form.password" required title="كلمة السر"></input-field> <div class="form-group row mt-2 col-lg-12" ng-class="{\'has-error\': addAdmin.role_perm.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.Permissions}}</label> <div class="col-sm-8"> <select class="form-control custom-select" name="role_perm" ng-model="form.role_perm" required> <option ng-repeat="role in roles" value="{{role.id}}">{{role.role_title}}</option> </select> </div> </div> <div class="form-group m-b-0 col-lg-12"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="addAdmin.$invalid" type="submit">{{phrase.addAdministrator}} </button> </div> </div> </form> </div> </div> </div> </div> </div> <div class="row" ng-show="views.edit"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelEdit}} </button> <h4 class="card-title">{{phrase.editAdministrator}}</h4> <div class=""> <form class="form-horizontal" name="editAdmin" ng-submit="saveEdit(form)" novalidate role="form"> <div class="row"> <input-field class="col-lg-12" field-type="text" name="fullName" ng-model="form.fullName" required title="الاسم الكامل"></input-field> x <input-field class="col-lg-12" field-type="password" name="password" ng-model="form.password" title="كلمة السر"></input-field> </div> <div class="form-group mt-2 row" ng-class="{\'has-error\': addAdmin.role_perm.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.Permissions}}</label> <div class="col-sm-10"> <select class="form-control custom-select" name="role_perm" ng-model="form.role_perm" required> <option ng-repeat="role in roles" ng-selected="form.role_perm==role.id" value="{{role.id}}">{{role.role_title}} </option> </select> </div> </div> <div class="m-2 row" ng-if="$root.can(\'Administrators.Roles\')"> <div class="form-group row" ng-class="{\'has-danger\': addForm.roletype.$invalid}"> <label class="col-sm-3 control-label">نوع صلاحيات المستخدم* </label> <div class="form-check col-sm-9"> <label class="custom-control custom-radio"> <input class="custom-control-input" name="roletype" ng-model="form.roletype" type="radio" value="ALL"> <span class="custom-control-indicator"></span> <span class="custom-control-description"> كل الصلاحيات الخاصة بة</span> </label> <label class="custom-control custom-radio"> <input class="custom-control-input" name="roletype" ng-model="form.roletype" type="radio" value="CUSTOM"> <span class="custom-control-indicator"></span> <span class="custom-control-description"> تحديد صلاحيات مخصصة</span> </label> </div> </div> <div class="row" ng-if="form.roletype==\'CUSTOM\'"> <label class="col-sm-2 control-label">حدد الصلاحيات* </label> <div class="col-sm-10"> <table class="table table-bordered table-hover"> <tbody> <tr ng-repeat="(key,inner_perms) in form.all_perms"> <td>{{phrase[key] || key }}</td> <td> <div class="row"> <div class="form-check col-sm-3" ng-repeat="perm in inner_perms"> <label class="custom-control custom-checkbox"> <input checklist-model="form.perms" checklist-value="key + \'.\' + perm" class="custom-control-input labelinput" type="checkbox" type="checkbox"> <span class="custom-control-indicator"></span> <span class="custom-control-description">{{phrase[perm] || perm}}</span> </label> </div> </div> </td> </tr> </tbody> </table> </div> </div> </div> <div class="form-group m-b-0"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="editAdmin.$invalid" type="submit">{{phrase.editAdministrator}} </button> </div> </div> </form> </div> </div> </div> </div> </div>'),e.put("assets/templates/feeGroup.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">{{phrase.FeeGroups}}</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row" ng-show="views.list"> <div class="col-12"> <div class="card"> <div class="card-block"> <div class="pull-left card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <input class="form-control" name="table_search" ng-model="searchText" placeholder="{{phrase.Search}}" type="text"> <span class="input-group-addon"><i class="fa fa-search"></i></span> </div> </div> <h4 class="card-title">{{phrase.listFeeGroups}}</h4> <div class="table-responsive"> <table class="table table-bordered table-hover"> <tbody> <tr> <th>رقم المدرسة</th> <th>اسم المدرسة</th> <th>المستخدم</th> <th>المنطقة</th> <th style="width:160px">النوع</th> <th>عمليات</th> </tr> <tr ng-repeat="invoice in feeGroups |  object2Array | filter:searchText"> <td> {{invoice.id}} <small style="color:green;cursor:pointer"> <br>{{invoice.schoolUser}} </small> </td> <td>{{invoice.name}} </td> <td> <a href="" ng-click="userProfile( invoice.userId )">{{invoice.fullName}}</a> </td> <td>{{invoice.district_zone}}</td> <td>{{invoice.supervisor}}</td> <td> <button class="btn btn-info" ng-click="activeKey(invoice)" ng-if="invoice.canDownload == \'0\'" title="{{phrase.collInvoice}}" tooltip type="button"><i class="fa fa-check"></i> موافقة </button> </td> </tr> <tr ng-show="!feeGroups.length"> <td class="noTableData" colspan="4">{{phrade.noGroups}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>'),e.put("assets/templates/feeType.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">{{phrase.FeeTypes}}</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row" ng-show="views.list"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show="$root.can(\'FeeTypes.addFeeType\')">{{phrase.addFeeType}} </button> <div class="pull-left card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <input class="form-control" name="table_search" ng-model="searchText" placeholder="{{phrase.Search}}" type="text"> <span class="input-group-addon"><i class="fa fa-search"></i></span> </div> </div> <h4 class="card-title">{{phrase.listFeeType}}</h4> <div class="table-responsive"> <table class="table table-bordered table-hover"> <tbody> <tr> <th>{{phrase.FeeType}}</th> <th>{{phrase.feeCode}}</th> <th>{{phrase.feeDescription}}</th> <th>{{phrase.groupTitle}}</th> <th ng-show="$root.can(\'FeeTypes.editFeeType\') || $root.can(\'FeeTypes.delFeeType\')"> {{phrase.Operations}} </th> </tr> <tr ng-repeat="type in feeTypes |  object2Array | filter:searchText"> <td>{{type.feeTitle}}</td> <td>{{type.feeCode}}</td> <td>{{type.feeDescription}}</td> <td>{{type.group_title}}</td> <td ng-show="$root.can(\'FeeTypes.editFeeType\') || $root.can(\'FeeTypes.delFeeType\')"> <button class="btn btn-info" ng-click="edit(type.id)" ng-show="$root.can(\'FeeTypes.editFeeType\')" title="{{phrase.Edit}}" tooltip type="button"> تعديل <i class="fa fa-pencil"></i></button> <button class="btn btn-danger" ng-click="remove(type,$index)" ng-show="$root.can(\'FeeTypes.delFeeType\')" title="{{phrase.Remove}}" tooltip type="button"> حذف <i class="fa fa-trash-o"></i></button> </td> </tr> <tr ng-show="!feeTypes.length"> <td class="noTableData" colspan="4">{{phrase.noFeeTypesAv}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="row" ng-show="views.add"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button> <h4 class="card-title">{{phrase.addFeeType}}</h4> <div class="table-responsive"> <form class="form-horizontal" name="addGrade" ng-submit="saveAdd()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': addGrade.feeTitle.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.feeTypeTitle}} * </label> <div class="col-sm-10"> <input class="form-control" name="feeTitle" ng-model="form.feeTitle" placeholder="{{phrase.feeTypeTitle}}" required type="text"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': addGrade.feeGroup.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.groupTitle}} * </label> <div class="col-sm-10"> <select class="form-control" name="feeGroup" ng-model="form.feeGroup" required> <option ng-repeat="group in feeGroups" value="{{group.id}}">{{group.group_title}} </option> </select> </div> </div> <div class="form-group row"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.feeCode}}</label> <div class="col-sm-10"> <input class="form-control" name="feeCode" ng-model="form.feeCode" placeholder="{{phrase.feeCode}}" type="text"> </div> </div> <div class="form-group row"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.feeDescription}}</label> <div class="col-sm-10"> <textarea class="form-control" name="feeDescription" ng-model="form.feeDescription" placeholder="{{phrase.feeDescription}}"></textarea> </div> </div> <input class="form-control" name="feeAmount" ng-model="form.feeAmount" type="hidden" value="0"> <div class="form-group m-b-0"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="addGrade.$invalid" type="submit">{{phrase.addFeeType}} </button> </div> </div> </form> </div> </div> </div> </div> </div> <div class="row" ng-show="views.edit"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelEdit}} </button> <h4 class="card-title">{{phrase.editFeeType}}</h4> <div class="table-responsive"> <form class="form-horizontal" name="editGrade" ng-submit="saveEdit()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': editGrade.feeTitle.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.feeTypeTitle}} * </label> <div class="col-sm-10"> <input class="form-control" name="feeTitle" ng-model="form.feeTitle" placeholder="{{phrase.feeTypeTitle}}" required type="text"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': editGrade.feeGroup.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.groupTitle}} * </label> <div class="col-sm-10"> <select class="form-control" name="feeGroup" ng-model="form.feeGroup" required> <option ng-repeat="group in feeGroups" value="{{group.id}}">{{group.group_title}} </option> </select> </div> </div> <div class="form-group row"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.feeCode}}</label> <div class="col-sm-10"> <input class="form-control" name="feeCode" ng-model="form.feeCode" placeholder="{{phrase.feeCode}}" type="text"> </div> </div> <div class="form-group row"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.feeDescription}}</label> <div class="col-sm-10"> <textarea class="form-control" name="feeDescription" ng-model="form.feeDescription" placeholder="{{phrase.feeDescription}}"></textarea> </div> </div> <input class="form-control" name="feeAmount" ng-model="form.feeAmount" type="hidden" value="0"> <div class="form-group m-b-0"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="editGrade.$invalid" type="submit">{{phrase.editFeeType}} </button> </div> </div> </form> </div> </div> </div> </div> </div>'),e.put("assets/templates/home.html",'<section class="htc__store__area ptb--50 bg__white"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="section__title section__title--2 text-center"> <h3 class="title__line">إعــلان فتح باب الترشيح للتنافس على المقاعد المجانية في كليات المجتمع والمعاهد التقنية والمهنية الحكومية والأهلية للعام 2019/ 2020م </h3> <h4>تُعلن وزارة التعليم الفني والتدريب المهني لأبنائها الطلاب والطالبات الحاصلين على شهادة الثانوية العامة او شهادة الثانوية المهنية أوشهادة التعليم الأساسية عن فتح باب الترشيح للمقاعد الدراسية المجانية التنافسية المُخصصة للوزارة في كليات المجتمع والمعاهد التقنية والمهنية الحكومية والأهلية والخاصة للعام الدراسي 2019/ 2020م ، وبحسب الشروط المحددة لكل فئة من فئات المجتمع المستهدفة. فعلى الطلاب والطالبات الراغبين في الترشح للحصول على مقعد دراسي مجاني وينطبق عليهم شروط الترشيح التقدم للتسجيل خلال الفترة من 27/ 11/ 2019م وحتى تاريخ 6 /12/ 2019م. وعلى جميع المتقدمين إتباع التعليمات التالية الواردة في دليل إجراءات وشروط الترشيح والتقبد بجميع الضوابط والشروط العامة بكل فئه, وفقاً للقرار الوزاري رقم (114) لسنة 2017 م بشأن توزيع المقاعدالدراسية المجانية. </h4> </div> <div class="store__btn bg"> <a class="bg__cat--4" href="#/conditions">دليل واجرائات الترشيح</a> </div> <div class="store__btn bg"> <a class="bg__cat--4" href="#/req">نسق الان</a> </div> <div class="store__btn bg"> <a class="bg__cat--4" href="#/req">تسديد</a> </div> </div> </div> </div> </section> <section class="htc__choose__us__ares bg__white" style="box-shadow: 0 3px 13px rgba(0, 0, 0, 0.1), 0 2px 20px rgba(0, 0, 0, 0.1)"> <div class=""> <div class="row"> <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12"> <div class="bg__cat--4" style="padding:20px"> <div class="text-center"> <h2 class="video__trigger video-popup"> الفئات </h2> </div> <div class="row mt--20"> <div class="col-md-4" ng-repeat="f in $root.dashboardData.feeGroupsAll"> <div> <div class="card box ng-binding"> <div class="choose__us" style="margin-top: 5px;margin-bottom: 5px"> <div class="choose__icon" style="margin-right: 0px;  margin-left: 20px"> <div class="round align-self-center round-success"><i class="fa fa-users"></i></div> </div> <div class="choose__details"> <h5 class="m-b-0">فئة {{f.group_title}}</h5> <span class="text-muted m-b-0"> {{f.group_description}}</span> </div> </div> </div> </div> </div> <div class="store__btn bg"> <a class="bg__white" href="#/req">نسق الان</a> </div> </div> </div> </div> </div> </div> </section>'),e.put("assets/templates/home2.html",'<div class="row no-print p-0 m-0"> </div> <div class="row p-0 m-0"> <div class="row m-1 col-12"> <div class="col-lg-2 col-md-4" ng-if="!reports.cards" ng-repeat="xxx in [] | ezzrange3:12:0"> <a> <div class="mb-1 cardd bg-c-blue" style="margin-bottom: .5rem!important"> <div class="card-block p-2"> <h4 class="m-0"><span class="content-placeholder" style="width:70%">&nbsp;</span> <span style="width:27%" class="pull-left content-placeholder">&nbsp;</span></h4> </div> </div> </a> </div> <div class="col-lg-2 col-md-4" ng-if="card.type==\'public\'" ng-repeat="card in reports.cards"> <a href="{{card.url}}"> <div class="card mb-1" ng-class="card.class" style="margin-bottom: .5rem!important"> <div class="card-block p-2"> <h4 class="text-white card-title m-0"> {{card.title}} <strong class="pull-left"> {{card.count}}</strong></h4> </div> </div> </a> </div> </div> </div> <div class="row p-0 m-0" ng-repeat="rep in reports.cardsMulti"> <h4 class=""><i class="fa fa-link"></i> {{rep.title}}</h4> <div class="row m-2"> <div class="col-md-3" ng-repeat="c in rep.cards" style="margin-bottom: 10px"> <a href="{{c.url}}"> <span class="text-white btn btn-block" ng-class="c.class">{{c.title}} ({{c.count}}) </span> </a> </div> </div> </div> <div class="row no-print m-1 p-1"> <div class="col-sm-4"> <div class="card"> <div class="card-block pb-0"> <div class="d-flex flex-row"> <div class=""><img alt="user" class="img-circle" height="100" ng-src="index.php/dashboard/profileImage/1" width="100"></div> <div class="p-l-20"> <h3 class="font-medium">{{dashboardData.baseUser.fullName}}</h3> <h6>اسم المستخدم: {{dashboardData.baseUser.username}}</h6> \x3c!-- <h6>النوع : {{dashboardData.role | uppercase}}</h6> --\x3e </div> </div> </div> <div class="card-block pt-0"> <button class="btn btn-block btn-primary waves-effect waves-light" onclick="location.href=\'admin#/account\'" type="button"><span class="pull-left"><i class="ti-settings"></i> اعدادات الحساب</span></button> <button class="btn btn-block btn-primary waves-effect waves-light" onclick="location.href=\'admin#/messages\'" type="button"><span class="pull-left"><i class="mdi mdi-message-text-outline"></i>الرسائل</span></button> <button class="btn btn-block btn-primary waves-effect waves-light" onclick="location.href=\'logout\'" type="button"><span class="pull-left"><i class="fa fa-power-off"></i> تسجيل الخروج</span> </button> </div> </div> </div> <div class="col-sm-8 res-w-100 row p-0 m-0"> \x3c!--        <h4 class="pl-2 pr-2 mb-0"><i class="fa fa-link"></i> اخر المستجدات </h4>--\x3e <div class="row m-0" style="width:100%"> \x3c!--            <account-items  class="col-sm-12 pl-2 pr-2" item-id="1" type="\'fi\'" title="\'اسطوانات المصنع [عهد]\'"></account-items>--\x3e \x3c!--            <account-items  class="col-sm-12 pl-2 pr-2 mt-2" item-id="1" type="\'f\'" title="\'اسطوانات العملاء [تعبئة]\'"></account-items>--\x3e \x3c!--            <account-items change="true" class="col-sm-12 pl-2 pr-2 mt-2" item-id="5" type="\'c\'" title="\'اسطوانات العميل\'"></account-items>--\x3e <div class="col-sm-4 pl-0" ng-if="!reports.cards" ng-repeat="xxx in [] | ezzrange3:8:0"> <div class="card mb-2 carddd info"> <div class="card-block p-2"> <h4 class="text-white card-title m-1"><span class="content-placeholder" style="width:100%">&nbsp;</span> </h4> <h3 class="text-white mt-2 font-light text-right"><i class="ti-files"></i> <span class="content-placeholder" style="width:100%">&nbsp;</span></h3> </div> </div> </div> <div class="col-sm-4 pl-0" ng-if="cardday.type==\'day\'" ng-repeat="cardday in reports.cards"> <div class="card mb-2" ng-class="cardday.class"> <div class="card-block p-2"> <h4 class="text-white card-title m-1"> {{cardday.title}}</h4> <h3 class="text-white mt-2 font-light text-right"><i class="ti-files"></i> {{cardday.count}} </h3> </div> </div> </div> </div> </div> <div class="col-md-6" ng-if="shooow"> <div class="cardd bg-c-gray"> <div class="cardd bg-c-gray"> <h4 class="card-title"><i class="mdi mdi-message-text-outline"></i> الرسائل</h4> <div class="message-box" height="300px" id="megs" scroll-box> <div class="message-widget message-scroll"> \x3c!-- Message --\x3e <a href="admin#messages/{{message.id}}" ng-repeat="message in messages"> <div class="user-img"><img alt="{{message.fullName}}" class="img-circle" height="45" ng-src="index.php/dashboard/profileImage/1" width="45"></div> <div class="mail-contnet" ng-show="message.messageStatus==\'1\'"> <h5>{{message.fullName}}</h5> <span class="important" style="color:pink">{{message.lastMessage}}</span> <span class="time" style="color:#b65252d6"><p>{{message.lastMessageDate}}</p></span> </div> <div class="mail-contnet" ng-show="message.messageStatus==\'0\'"> <h5>{{message.fullName}}</h5> <span class="important" style="color:#605b64">{{message.lastMessage}}</span> <span class="time" style="color:#b65252d6"><p>{{message.lastMessageDate}}</p></span> </div> </a> </div> </div> </div> </div> </div> </div>'),e.put("assets/templates/messages.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">الرسائل</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row" ng-show="views.list"> <div class="col-lg-12"> <div class="card"> <div class="row"> <div class="col-xlg-2 col-lg-4 col-md-4"> <div class="card-block inbox-panel"> <button class="btn btn-danger m-b-20 p-10 btn-block waves-effect waves-light" ng-click="changeView(\'create\')"> رسالة جديدة </button> </div> </div> <div class="col-xlg-2 col-lg-4 col-md-4"> <div class="card-block inbox-panel" ng-if="$root.dashboardData.role==\'admin\' && $root.dashboardData.baseUser.username!=\'testadmin\n\'"><a class="btn btn-info m-b-20 p-10 btn-block waves-effect waves-light" href="admin#/support"> الانتقال الى رسائل الدعم الفني </a></div> </div> <div class="col-xlg-10 col-lg-8 col-md-8"> <div class="card-block"> <div aria-label="Button group with nested dropdown" class="btn-group m-b-10 m-r-10" role="group"> <button class="btn btn-secondary font-18 text-dark" ng-click="checkAll()" type="button"><i class="mdi mdi-check"></i>تحديد الكل </button> </div> <div aria-label="Button group with nested dropdown" class="btn-group m-b-10 m-r-10" ng-if="totalcheck > 0 " role="group"> <button class="btn btn-secondary font-18 text-dark" ng-click="markRead()" title="مقروءة" tooltip type="button"><i class="mdi mdi-eye"></i>مقروءة </button> <button class="btn btn-secondary font-18 text-dark" ng-click="markUnRead()" title="غير مقروءة" tooltip type="button"><i class="mdi mdi-eye-off">غير مقروءة</i></button> <button class="btn btn-secondary font-18 text-dark" ng-click="markDelete()" title="حذف" tooltip type="button"><i class="mdi mdi-delete">حذف</i> </button> </div> <div class="pull-right card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <span class="input-group-addon"><i class="fa fa-search"></i></span> <input class="form-control" name="table_search" ng-model="searchText" placeholder="بحث" type="text"> </div> </div> </div> </div> </div> <div class="row"> <div class="col-xlg-12 col-lg-12 col-md-12"> <div class="card-block p-t-0"> <div class="card b-all shadow-none"> <div class="inbox-center b-all table-responsive"> {{messages.length}} <table class="table table-hover no-wrap" style="margin-bottom:0px !important"> <tbody> <tr dir-paginate="message in messages  | itemsPerPage:20" ng-class="{\'unread\': message.messageStatus == \'1\'}" total-items="totalItems"> <td style="width:40px"> <div class="checkbox"> <input id="checkbox{{message.id}}" name="checked" ng-click="checkone(message.selected)" ng-model="message.selected" type="checkbox"> <label for="checkbox{{message.id}}"></label> </div> </td> <td class="hidden-xs-down"> <a href="admin#messages/{{message.id}}"> <img alt="{{message.fullName}}" class="user-image img-circle" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width:40px; height:40px"> {{message.fullName}} </a> </td> <td class="max-texts" ng-show="message.messageStatus==\'1\'"> <a class="important" href="admin#messages/{{message.id}}" style="color:pink"> {{message.lastMessage}}...</a></td> <td class="max-texts" ng-show="message.messageStatus==\'0\'"><a href="admin#messages/{{message.id}}"> {{message.lastMessage}}...</a> </td> <td class="text-right"> {{message.lastMessageDate}}</td> </tr> <tr ng-show="!messages.length"> <td class="noTableData" colspan="4">لايوجد رسائل</td> </tr> </tbody> </table> <dir-pagination-controls class="pull-right" on-page-change="pageChanged(newPageNumber)" template-url="assets/templates/dirPagination.html"></dir-pagination-controls> </div> </div> </div> </div> </div> </div> </div> </div> <div class="card" ng-show="views.read"> <div class="card-block"> <a class="col-sm-2 btn btn-danger btn-flat pull-left card-block-input-item" href="admin#/messages">{{phrase.Return}}</a> <h4 class="card-title">{{messageDet.fullName}}</h4> <div class="chat-box"> \x3c!--chat Row --\x3e <ul chat-box class="chat-list" id="chat-box"> <p class="text-muted well well-sm no-shadow text-center" id="loadOld" ng-click="loadOld()"> {{phrase.loadOldMessages}}</p> \x3c!--chat Row --\x3e <li ng-class="{\'reverse\': messageOne.userId == $root.dashboardData.baseUser.id}" ng-repeat="messageOne in message"> <div ng-show="messageOne.userId == $root.dashboardData.baseUser.id"> <div class="chat-content"> <h5>{{messageOne.fullName}}</h5> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type==\'0\'"> <a class="btn default btn-outline" colorbox="{transition:\'elastic\'}" href="{{messageOne.image}}" ng-if="messageOne.image!=\'\'" title="ff1"> <img alt="Paris" class="imgthump" ng-if="messageOne.image!=\'\'" ng-src="{{messageOne.image}}"> <img alt="Paris" class="imgthump" ng-if="messageOne.image==\'\'" src="assets/images/photo.png"> </a> {{messageOne.messageText}} </div> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type!=\'0\'"> {{messageOne.messageText}} </div> </div> <div class="chat-img"><img alt="{{messageOne.fullName}}" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width: 45px;height: 45px"> </div> <div style="clear: both"></div> <div class="chat-time pull-right">{{messageOne.dateSentH}}</div> </div> <div ng-show="messageOne.userId != $root.dashboardData.baseUser.id"> <div class="chat-img"><img alt="{{messageOne.fullName}}" ng-src="{{\'index.php/dashboard/profileImage/1\'}}"></div> <div class="chat-content"> <h5>{{messageOne.fullName}}</h5> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type==\'0\'"> <a class="btn default btn-outline" colorbox="{transition:\'elastic\'}" href="{{messageOne.image}}" ng-if="messageOne.image!=\'\'" title="ff1"> <img alt="Paris" class="imgthump" ng-if="messageOne.image!=\'\'" ng-src="{{messageOne.image}}"> <img alt="Paris" class="imgthump" ng-if="messageOne.image==\'\'" src="assets/images/photo.png"> </a> {{messageOne.messageText}} </div> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type!=\'0\'"> {{messageOne.messageText}} </div> </div> <div class="chat-time">{{messageOne.dateSentH}}</div> </div> </li> </ul> </div> </div> <div class="card-block b-t"> <div class="row"> <div class="col-8"> <textarea class="form-control b-0" ng-disabled="form.disable" ng-enter="replyMessage()" ng-model="form.reply" placeholder="اكتب رسالة.."></textarea> </div> <div class="col-8"> <input file-model="form.url" name="url" type="file"> </div> <div class="col-4 text-right"> <button class="btn btn-info btn-circle btn-lg" ng-click="replyMessage()" type="button"><i class="fa fa-paper-plane-o"></i></button> </div> </div> </div> </div> <div class="row" ng-show="views.create"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="col-sm-2 btn pull-left btn-danger card-block-input-item" ng-click="changeView(\'list\')"> عودة </button> <h4 class="card-title">ارسال رسالة</h4> <div class="form"> <form class="form-horizontal" name="sendMessage" ng-submit="sendMessageNow()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': sendMessage.toId.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">ارسال الى * </label> <div class="col-sm-10 row"> <div class="col-sm-10"> <a class="message-user" href="javascript:void(0)" ng-repeat="user in form.toId"><img alt="user" class="img-circle" src="index.php/dashboard/profileImage/1" style="width:35px;height: 35px"> {{user.name}}</a> </div> <div class="col-sm-2"> <button class="btn btn-warning btn-flat" ng-click="linkUser()" type="button">تحديد المستلم </button> </div> </div> </div> <div class="form-group row" ng-class="{\'has-error\': sendMessage.messageText.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">الرسالة *</label> <div class="col-sm-10"> <textarea class="form-control" name="messageText" ng-model="form.messageText" placeholder="{{phrase.message}}" style="height:250px"></textarea> </div> </div> <div class="form-group m-b-0 row"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="sendMessage.$invalid" type="submit">ارسال </button> </div> </div> </form> </div> </div> </div> </div> </div> <modal visible> <div class="row"> <div class="col-md-8"> <input class="form-control" id="searchKeyword" placeholder="اكتب اسم المستلم" type="text"> </div> <div class="col-md-3"> <button class="btn btn-danger btn-flat" ng-click="searchUserButton()" type="button">بحث</button> </div> </div> <div class="row m-2"> <div class="col-md-8"> <button class="btn btn-info btn-flat" ng-click="searchUserButtonFor(\'support@system.com\')" type="button"> الدعم الفني للاقتراحات والمشاكل </button> </div> </div> <div class="row"> <div class="col-md-12" style="padding-top:10px"> <div class="box-body table-responsive"> <table class="table table-bordered"> <tbody> <tr ng-repeat="user in searchResults"> <td>{{user.name}}</td> <td class="no-print"> <button class="btn btn-success btn-flat" ng-click="linkStudentFinish(user)" type="button"> تحديد </button> </td> </tr> </tbody> </table> </div> </div> </div> </modal>'),e.put("assets/templates/reports.html",'<div class="row pt-2"> </div> <reports-page panel="$panel"></reports-page> <clients-accounting panel="$panel"></clients-accounting> <purchases-accounting panel="$panel"></purchases-accounting> <banks-accounting panel="$panel"></banks-accounting> <employees-accounting panel="$panel"></employees-accounting> <panel ng-if="0" class="row col-lg-12 p-0 m-0" closed="2" border="" header="bg-teal-100 mb-1"> <panel-title>التقارير المالية </panel-title> <panel-body class="col-lg-12 row p-0 m-0"> \x3c!--        <accounts-report  group="def"  class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e <accounts-report group="def" version="2" class="col-lg-12 row p-0 m-0"></accounts-report> \x3c!--        <accounts-report  group="def" type="\'range\'" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e \x3c!--        <accounts-report  group="def" type="\'daily\'" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e \x3c!--        <accounts-report group="def" type="\'account\'" forid="3" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e \x3c!--        <accounts-report group="def" type="\'accountMonthly\'" forid="3" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e </panel-body> </panel> <panel ng-if="0" class="row col-lg-12 p-0 m-0" default border="" header="bg-brown-200 mb-1"> <panel-title>تقارير الاسطوانات </panel-title> <panel-body class="col-lg-12 row p-0 m-0"> <accounts-report group="items" class="col-lg-12 row p-0 m-0"></accounts-report> \x3c!--        <accounts-report group="items" type="\'range\'"   class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e \x3c!--        <accounts-report group="items" type="\'daily\'" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e \x3c!--        <accounts-report group="items" type="\'account\'" forid="3" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e \x3c!--        <accounts-report group="items" type="\'accountMonthly\'" forid="3" class="col-lg-12 row p-0 m-0"></accounts-report>--\x3e </panel-body> </panel>'),e.put("assets/templates/roles.html",'<div class="row pt-2"> </div> <div class="row" ng-show="views.list"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show="$root.can(\'roles.add_role\')">{{phrase.add_role}} </button> <div class="pull-left card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <input class="form-control input-sm" name="table_search" ng-model="searchText" placeholder="{{phrase.Search}}" type="text"> <span class="input-group-addon"><i class="fa fa-search"></i></span> </div> </div> <h4 class="card-title">{{phrase.list_roles}}</h4> <div class="table-responsive"> <table class="ezztable table table-bordered table-hover"> <thead> <tr> <th class="bg-light-info">{{phrase.role_title}}</th> <th class="bg-light-info">{{phrase.role_desc}}</th> <th class="bg-light-info">نوع الصلاحية</th> <th class="bg-light-info" ng-show="$root.can(\'roles.modify_role\') || $root.can(\'roles.delete_role\')" style="width:160px">{{phrase.Operations}} </th> </tr> </thead> <tbody> <tr ng-repeat="roles_one in roles |  object2Array | filter:searchText"> <td>{{roles_one.role_title}}</td> <td>{{roles_one.role_description}}</td> <td>{{roles_one.def_for}}</td> <td ng-show="$root.can(\'roles.modify_role\') || $root.can(\'roles.delete_role\')"> <button class="btn btn-info" ng-click="edit(roles_one.id)" ng-show="$root.can(\'roles.modify_role\')" title="{{phrase.Edit}}" tooltip type="button"> تعديل <i class="fa fa-pencil"></i></button> <button class="btn btn-danger" ng-click="remove(roles_one,$index)" ng-show="$root.can(\'roles.delete_role\')" title="{{phrase.Remove}}" tooltip type="button"> حذف <i class="fa fa-trash-o"></i></button> </td> </tr> <tr ng-show="!roles.length"> <td class="noTableData" colspan="3">{{phrase.noDataAvailable}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="row" ng-show="views.add"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button> <h4 class="card-title">{{phrase.add_role}}</h4> <div class="table-responsive"> <form class="form-horizontal" name="roles_add_form" ng-submit="saveAdd()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': roles_add_form.role_title.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.role_title}} * </label> <div class="col-sm-10"> <input class="form-control" name="role_title" ng-model="form.role_title" placeholder="{{phrase.role_title}}" required type="text"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': roles_add_form.role_description.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.role_desc}} * </label> <div class="col-sm-10"> <textarea class="form-control" name="role_description" ng-model="form.role_description" placeholder="{{phrase.role_desc}}"></textarea> </div> </div> <div class="form-group row" ng-class="{\'has-error\': roles_add_form.def_for.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">نوع الصلاحية</label> <div class="col-sm-10"> <select class="form-control" name="def_for" ng-model="form.def_for" required> <option ng-repeat="role in perms_types" value="{{role.id}}">{{role.name}}</option> </select> </div> </div> <div class="form-group row" ng-class="{\'text-danger\': roles_add_form.role_permissions.$invalid}"> <div class="col-sm-12"> <table class="table table-bordered table-hover"> <tbody> <tr ng-repeat="(key,inner_perms) in roles_perms"> <td style="width: 15%" ng-hide="inner_perms[\'root\']"> {{phrase[key] || roles_titles[key] || key }}</td> <td ng-show="inner_perms[\'root\']"> <label class="custom-control custom-checkbox"> <input checklist-model="form.role_permissions" checklist-value="key + \'.root\'" class="custom-control-input labelinput" type="checkbox"> <span class="custom-control-indicator"></span> <span class="custom-control-description"> {{phrase[key] || roles_titles[key] || key }}</span> </label> </td> <td> <div ng-show="checkRoot(inner_perms,key)" class="row"> <div class="form-check col-sm-3" ng-repeat="perm in inner_perms" ng-hide="perm ==\'root\'"> <label class="custom-control custom-checkbox"> <input checklist-model="form.role_permissions" checklist-value="key + \'.\' + perm" class="custom-control-input labelinput" type="checkbox"> <span class="custom-control-indicator"></span> <span class="custom-control-description">{{phrase[perm] || roles_titles[perm] || perm}}</span> </label> </div> </div> </td> </tr> </tbody> </table> </div> </div> <div class="form-group m-b-0"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="roles_add_form.$invalid" type="submit">{{phrase.add_role}} </button> </div> </div> <div class="ezzbtn"> <button class="btn btn-info waves-effect waves-light" ng-disabled="roles_add_form.$invalid" ng-if="views.add" type="submit">اضافة </button> <a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a> </div> </form> </div> </div> </div> </div> </div> <div class="row" ng-show="views.edit"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelEdit}} </button> <h4 class="card-title">{{phrase.modify_role}}</h4> <div class="table-responsive"> <form class="form-horizontal" name="roles_edit_form" ng-submit="saveEdit()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': roles_edit_form.role_title.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.role_title}} * </label> <div class="col-sm-10"> <input class="form-control" name="role_title" ng-model="form.role_title" placeholder="{{phrase.role_title}}" required type="text"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': roles_edit_form.role_description.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">{{phrase.role_desc}} * </label> <div class="col-sm-10"> <textarea class="form-control" name="role_description" ng-model="form.role_description" placeholder="{{phrase.role_desc}}"></textarea> </div> </div> <div class="form-group row" ng-class="{\'has-error\': roles_edit_form.def_for.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">نوع الصلاحية</label> <div class="col-sm-10"> <select class="form-control" name="def_for" ng-model="form.def_for" required> <option ng-repeat="role in perms_types" value="{{role.id}}">{{role.name}}</option> </select> </div> </div> <div class="form-group row" ng-class="{\'has-error\': roles_edit_form.role_permissions.$invalid}"> <div class="col-sm-12"> <table class="table table-bordered table-hover"> <tbody> <tr ng-repeat="(key,inner_perms) in roles_perms"> <td style="width: 15%" ng-hide="inner_perms[\'root\']"> {{phrase[key] || roles_titles[key] || key }}</td> <td ng-show="inner_perms[\'root\']"> <label class="custom-control custom-checkbox"> <input checklist-model="form.role_permissions" checklist-value="key + \'.root\'" class="custom-control-input labelinput" type="checkbox"> <span class="custom-control-indicator"></span> <span class="custom-control-description"> {{phrase[key] || roles_titles[key] || key }}</span> </label> </td> <td> <div ng-show="checkRoot(inner_perms,key)" class="row"> <div class="form-check col-sm-3" ng-repeat="perm in inner_perms" ng-hide="perm ==\'root\'"> <label class="custom-control custom-checkbox"> <input checklist-model="form.role_permissions" checklist-value="key + \'.\' + perm" class="custom-control-input labelinput" type="checkbox"> <span class="custom-control-indicator"></span> <span class="custom-control-description">{{phrase[perm] || roles_titles[perm] || perm}}</span> </label> </div> </div> </td> </tr> </tbody> </table> </div> </div> <div class="form-group m-b-0"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="roles_edit_form.$invalid" type="submit">{{phrase.modify_role}} </button> </div> </div> <div class="ezzbtn"> <button class="btn btn-success waves-effect waves-light" ng-disabled="roles_edit_form.$invalid" ng-if="views.edit" type="submit"> تعديل </button> <a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a> </div> </form> </div> </div> </div> </div> </div>'),e.put("assets/templates/settings.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">اعدادات عامة</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row" ng-show="views.settings"> <div class="col-md-3 no-print"> <div class="card"> <div class="card-block"> <div class="list-group" tabheads> <a aria-controls="payments" class="list-group-item" data-toggle="tab" href="#payments" ng-show="$root.can(\'adminTasks.paymentsSettings\')" role="tab" showtab="">طرق الدفع</a> <a aria-controls="global" class="list-group-item" data-toggle="tab" href="#global" ng-show="$root.can(\'adminTasks.globalSettings\')" role="tab" showtab="">اعدادات عامة</a> <a aria-controls="sms" class="list-group-item" data-toggle="tab" href="#sms" ng-show="$root.can(\'adminTasks.mailSmsSettings\')" role="tab" showtab="">اعدادات البريد الالكتروني</a> <a aria-controls="sms" class="list-group-item" data-toggle="tab" href="#rainstatus" ng-show="$root.can(\'adminTasks.rainstatus\')" role="tab" showtab="">حالة 1</a> <a aria-controls="sms" class="list-group-item" data-toggle="tab" href="#exceptionalcase" ng-show="$root.can(\'adminTasks.exceptionalcase\')" role="tab" showtab="">حالة 2</a> <a aria-controls="sms" class="list-group-item" data-toggle="tab" href="#stopreceivingrequests" ng-show="$root.can(\'adminTasks.stopreceivingrequests\')" role="tab" showtab="">ايقاف 3</a> </div> </div> </div> </div> <div class="col-md-9"> <div class="card"> <div class="card-block"> <form class="form-horizontal" name="editTerms" ng-submit="saveEdit()" novalidate role="form"> <div class="tab-content" tabcontent> <div class="tab-pane" id="rainstatus" ng-show="$root.can(\'adminTasks.rainstatus\')" role="tabpanel"> <h3>حالة 1</h3> <br> <div class="form-group row" ng-class="{\'has-error\': editSettings.rainstatusmessage.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label"> الرسالة</label> <div class="col-sm-9"> <input class="form-control" name="rainstatusmessage" ng-model="form.rainstatusmessage" placeholder="الرسالة" type="text"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': editSettings.extrapricerain.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label"> الاضافي</label> <div class="col-sm-9"> <input class="form-control" name="extrapricerain" ng-model="form.extrapricerain" placeholder=" الاضافي" type="text"> </div> </div> <div class="form-group row"> <div class="col-sm-9"> <div class="checkbox"> <input id="check1" ng-disabled="editSettings.$invalid" ng-model="form.rainstatus" type="checkbox"> <label for="check1">تفعيل / تعطيل</label> </div> </div> </div> </div> <div class="tab-pane" id="exceptionalcase" ng-show="$root.can(\'adminTasks.exceptionalcase\')" role="tabpanel"> <h3>حالة استثنائية</h3> <br> <div class="form-group row" ng-class="{\'has-error\': editSettings.exceptionalcase.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label"> الرسالة</label> <div class="col-sm-9"> <input class="form-control" name="messageexceptionalcase" ng-model="form.messageexceptionalcase" placeholder="الرسالة" type="text"> </div> </div> <div class="form-group row" ng-class="{\'has-error\': editSettings.extrapriceexceptional.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label"> الاضافي </label> <div class="col-sm-9"> <input class="form-control" name="extrapriceexceptional" ng-model="form.extrapriceexceptional" placeholder=" الاضافي" type="text"> </div> </div> <div class="form-group row"> <div class="col-sm-9"> <div class="checkbox"> <input id="check2" ng-disabled="editSettings.$invalid" ng-model="form.exceptionalcase" type="checkbox"> <label for="check2">تفعيل / تعطيل</label> </div> </div> </div> </div> <div class="tab-pane" id="stopreceivingrequests" ng-show="$root.can(\'adminTasks.stopreceivingrequests\')" role="tabpanel"> <h3>ايقاف 2 </h3> <br> <div class="form-group row" ng-class="{\'has-error\': editSettings.stopreceivingrequests.$invalid}"> <label class="col-sm-3 text-right control-label col-form-label"> الرسالة</label> <div class="col-sm-9"> <input class="form-control" name="messagestopreceivingrequests" ng-model="form.messagestopreceivingrequests" placeholder="الرسالة" type="text"> </div> </div> <div class="form-group row"> <div class="col-sm-9"> <div class="checkbox"> <input id="check3" ng-disabled="editSettings.$invalid" ng-model="form.stopreceivingrequests" type="checkbox"> <label for="check3">تفعيل / تعطيل</label> <input name="stopreceivingrequests" ng-model="form.stopreceivingrequests" type="hidden"> </div> </div> </div> </div> <div class="form-group m-b-0" style="padding-bottom:10px"> <div class="offset-sm-2 col-sm-9"> <button class="btn btn-info waves-effect waves-light" ng-disabled="editSettings.$invalid" type="submit">تعديل الاعدادات </button> </div> </div> </div> </form> </div> </div> </div> </div>'),e.put("assets/templates/support.html",'<div class="row page-titles"> <div class="col-md-6 col-8 align-self-center"> <h3 class="text-themecolor m-b-0 m-t-0">رسائل الدعم الفني</h3> </div> <div class="col-md-6 col-4 align-self-center"> </div> </div> <div class="row" ng-show="views.list"> <div class="col-lg-12"> <div class="card"> <div class="row"> <div class="col-xlg-2 col-lg-4 col-md-4"> <div class="card-block inbox-panel"> <button class="btn btn-danger m-b-20 p-10 btn-block waves-effect waves-light" ng-click="changeView(\'create\')"> رسالة جديدة </button> </div> </div> <div class="col-xlg-2 col-lg-4 col-md-4"> <div class="card-block inbox-panel" ng-if="$root.dashboardData.role==\'admin\' && $root.dashboardData.baseUser.username!=\'testadmin\n\'"><a class="btn btn-info m-b-20 p-10 btn-block waves-effect waves-light" href="admin#/messages"> االانتقال الى الرسائل </a></div> </div> <div class="col-xlg-10 col-lg-8 col-md-8"> <div class="card-block"> <div aria-label="Button group with nested dropdown" class="btn-group m-b-10 m-r-10" role="group"> <button class="btn btn-secondary font-18 text-dark" ng-click="checkAll()" type="button"><i class="mdi mdi-check"></i>تحديد الكل </button> </div> <div aria-label="Button group with nested dropdown" class="btn-group m-b-10 m-r-10" ng-if="totalcheck > 0 " role="group"> <button class="btn btn-secondary font-18 text-dark" ng-click="markRead()" title="مقروءة" tooltip type="button"><i class="mdi mdi-eye"></i>مقروءة </button> <button class="btn btn-secondary font-18 text-dark" ng-click="markUnRead()" title="غير مقروءة" tooltip type="button"><i class="mdi mdi-eye-off">غير مقروءة</i></button> <button class="btn btn-secondary font-18 text-dark" ng-click="markDelete()" title="حذف" tooltip type="button"><i class="mdi mdi-delete">حذف</i> </button> </div> <div class="pull-right card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <span class="input-group-addon"><i class="fa fa-search"></i></span> <input class="form-control" name="table_search" ng-model="searchText" placeholder="بحث" type="text"> </div> </div> </div> </div> </div> <div class="row"> <div class="col-xlg-12 col-lg-12 col-md-12"> <div class="card-block p-t-0"> <div class="card b-all shadow-none"> <div class="inbox-center b-all table-responsive"> <table class="table table-hover no-wrap" style="margin-bottom:0px !important"> <tbody> <tr dir-paginate="message in supportmessages | filter:searchText | itemsPerPage:20" ng-class="{\'unread\': message.messageStatus == \'1\'}" total-items="totalItems"> <td style="width:40px"> <div class="checkbox"> <input id="checkbox{{message.id}}" name="checked" ng-click="checkone(message.selected)" ng-model="message.selected" type="checkbox"> <label for="checkbox{{message.id}}"></label> </div> </td> <td class="hidden-xs-down"> <a href="admin#support/{{message.id}}"> <img alt="{{message.fullName}}" class="user-image img-circle" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width:40px; height:40px"> {{message.fullName}} </a> </td> <td class="max-texts" ng-show="message.messageStatus==\'1\'"> <a class="important" href="admin#support/{{message.id}}" style="color:pink"> {{message.lastMessage}}...</a></td> <td class="max-texts" ng-show="message.messageStatus==\'0\'"><a href="admin#support/{{message.id}}"> {{message.lastMessage}}...</a></td> <td class="text-right"> {{message.lastMessageDate}}</td> </tr> <tr ng-show="!supportmessages.length"> <td class="noTableData" colspan="4">لايوجد رسائل</td> </tr> </tbody> </table> <dir-pagination-controls class="pull-right" on-page-change="pageChanged(newPageNumber)" template-url="assets/templates/dirPagination.html"></dir-pagination-controls> </div> </div> </div> </div> </div> </div> </div> </div> <div class="card" ng-show="views.read"> <div class="card-block"> <a class="col-sm-2 btn btn-danger btn-flat pull-left card-block-input-item" href="admin#/support">{{phrase.Return}}</a> <h4 class="card-title">{{messageDet.fullName}}</h4> <div class="chat-box"> \x3c!--chat Row --\x3e <ul chat-box class="chat-list" id="chat-box"> <p class="text-muted well well-sm no-shadow text-center" id="loadOld" ng-click="loadOld()"> {{phrase.loadOldMessages}}</p> \x3c!--chat Row --\x3e <li ng-class="{\'reverse\': messageOne.userId == $root.dashboardData.baseUser.id}" ng-repeat="messageOne in message"> <div ng-show="messageOne.userId == $root.dashboardData.baseUser.id"> <div class="chat-content"> <h5>{{messageOne.fullName}}</h5> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type==\'0\'"> <a class="btn default btn-outline" colorbox="{transition:\'elastic\'}" href="{{messageOne.image}}" ng-if="messageOne.image!=\'\'" title="ff1"> <img alt="Paris" class="imgthump" ng-if="messageOne.image!=\'\'" ng-src="{{\'messageOne.image\'}}"> <img alt="Paris" class="imgthump" ng-if="messageOne.image==\'\'" src="assets/images/photo.png"> </a> {{messageOne.messageText}} </div> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type!=\'0\'"> {{messageOne.messageText}} </div> </div> <div class="chat-img"><img alt="{{messageOne.fullName}}" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width: 45px;height: 45px"> </div> <div style="clear: both"></div> <div class="chat-time pull-right">{{messageOne.dateSentH}}</div> </div> <div ng-show="messageOne.userId != $root.dashboardData.baseUser.id"> <div class="chat-img"><img alt="{{messageOne.fullName}}" ng-src="{{\'index.php/dashboard/profileImage/1\'}}"></div> <div class="chat-content"> <h5>{{messageOne.fullName}}</h5> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type==\'0\'"> <a class="btn default btn-outline" colorbox="{transition:\'elastic\'}" href="{{messageOne.image}}" ng-if="messageOne.image!=\'\'" title="ff1"> <img alt="Paris" class="imgthump" ng-if="messageOne.image!=\'\'" ng-src="{{\'messageOne.image\'}}"> <img alt="Paris" class="imgthump" ng-if="messageOne.image==\'\'" src="assets/images/photo.png"> </a> {{messageOne.messageText}} </div> <div class="box" ng-class="{\'bg-light-inverse\': messageOne.userId == $root.dashboardData.baseUser.id,\'bg-light-info\': messageOne.userId != $root.dashboardData.baseUser.id}" ng-show="messageOne.type!=\'0\'"> {{messageOne.messageText}} </div> </div> <div class="chat-time">{{messageOne.dateSentH}}</div> </div> </li> </ul> </div> </div> <div class="card-block b-t"> <div class="row"> <div class="col-8"> <textarea class="form-control b-0" ng-disabled="form.disable" ng-enter="replyMessage()" ng-model="form.reply" placeholder="اكتب رسالة"></textarea> </div> <div class="col-4 text-right"> <button class="btn btn-info btn-circle btn-lg" ng-click="replyMessage()" type="button"><i class="fa fa-paper-plane-o"></i></button> </div> </div> </div> </div> <div class="row" ng-show="views.create"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="col-sm-2 btn pull-left btn-danger card-block-input-item" ng-click="changeView(\'list\')"> عودة </button> <h4 class="card-title">ارسال رسالة</h4> <div class="form"> <form class="form-horizontal" name="sendMessage" ng-submit="sendMessageNow()" novalidate role="form"> <div class="form-group row" ng-class="{\'has-error\': sendMessage.toId.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">ارسال الى * </label> <div class="col-sm-10 row"> <div class="col-sm-10"> <a class="message-user" href="javascript:void(0)" ng-repeat="user in form.toId"><img alt="user" class="img-circle" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width:35px;height: 35px"> {{user.name}}</a> </div> <div class="col-sm-2"> <button class="btn btn-warning btn-flat" ng-click="linkUser()" type="button">تحديد المستلم </button> </div> </div> </div> <div class="form-group row" ng-class="{\'has-error\': sendMessage.messageText.$invalid}"> <label class="col-sm-2 text-right control-label col-form-label">الرسالة *</label> <div class="col-sm-10"> <textarea class="form-control" name="messageText" ng-model="form.messageText" placeholder="{{phrase.message}}" style="height:250px"></textarea> </div> </div> <div ng-init="hasFile(\'url\')"></div> <input file-model="form.url" name="url" type="file"> <div class="form-group m-b-0 row"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="sendMessage.$invalid" type="submit">ارسال </button> </div> </div> </form> </div> </div> </div> </div> </div> <modal visible> <div class="row"> <div class="col-md-8"> <input class="form-control" id="searchKeyword" placeholder="اكتب اسم المستلم" type="text"> </div> <div class="col-md-3"> <button class="btn btn-danger btn-flat" ng-click="searchUserButton()" type="button">بحث</button> </div> </div> <div class="row"> <div class="col-md-12" style="padding-top:10px"> <div class="box-body table-responsive"> <table class="table table-bordered"> <tbody> <tr ng-repeat="user in searchResults"> <td>{{user.name}} - {{user.role}}</td> <td>{{user.email}}</td> <td class="no-print"> <button class="btn btn-success btn-flat" ng-click="linkStudentFinish(user)" type="button"> تحديد </button> </td> </tr> </tbody> </table> </div> </div> </div> </modal>'),e.put("assets/templates/users.html",'<div class="row pt-2"> </div> <div class="row" ng-show="views.list"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show="$root.can(\'Users.addUser\')">اضافة موظف جديد </button> <div class="pull-left card-block-input-group card-block-input-item"> <div class="input-group input-group-sm"> <span class="input-group-addon"><i class="fa fa-search"></i></span> <input class="form-control" name="table_search" ng-model="searchText" placeholder="{{phrase.Search}}" type="text"> </div> </div> <h4 class="card-title">قائمة الموظفين </h4> <div class=""> <table class="ezztable table table-bordered table-hover titleLabel style2" ezz-responsive-table=""> <thead> <tr> <th class="bg-light-info">اسم الموظف</th> <th ng-if="0" class="bg-light-info">نوع الموظف</th> <th class="bg-light-info" ng-show="$root.can(\'Users.editUser\') || $root.can(\'Users.editUser\')"> {{phrase.Operations}} </th> </tr> </thead> <tbody> <tr ng-repeat="admin in admins |  object2Array | filter:searchText"> <td> <img alt="{{admin.fullName}}" class="user-image img-circle" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width:35px; height:35px"> {{admin.fullName}} <i class="fa fa-lightbulb-o" ng-class="{\'color_red\':admin.active==0,\'color_green\':admin.active==1}"></i> <small class="ng-binding" ng-show="admin.active==0" style="color:red;cursor:pointer"> معطل </small><small class="ng-binding" ng-show="admin.active==1" style="color:green;cursor:pointer"> مفعل </small> </td> <td ng-if="0"> <img alt="{{admin.fullName}}" class="user-image img-circle" ng-src="{{\'index.php/dashboard/profileImage/1\'}}" style="width:35px; height:35px"> {{admin.fullName}} <i class="fa fa-lightbulb-o" ng-class="{\'color_red\':admin.active==0,\'color_green\':admin.active==1}"></i> </td> <td ng-if="0"> <button class="btn btn-warning" ng-click="account_status(admin.id,$index)" ng-show="admin.active==0 && $root.can(\'Users.editUser\')" title="{{phrase.toggleStatus}}" tooltip type="button"> تفعيل <i class="fa fa-lightbulb-o"></i></button> <button class="btn btn-danger" ng-click="account_status(admin.id,$index)" ng-show="admin.active==1 && $root.can(\'Users.editUser\')" title="{{phrase.toggleStatus}}" tooltip type="button"> تعطيل <i class="fa fa-lightbulb-o"></i></button> </td> <td class="text-center no-title"> <button class="btn btn-danger btn-sm" ng-click="$root.openAccountReport(admin.id,\'e\',admin.fullName)" ng-show="$root.can(\'sales_customers.journalList\')">كشف حساب <i class="fa fa-dollar-sign"></i> </button> <button class="btn btn-info" ng-click="edit(admin.id)" ng-show="$root.can(\'Users.editUser\')" title="{{phrase.Edit}}" tooltip type="button"> {{phrase.Edit}} <i class="fa fa-pencil"></i> </button> <button class="btn btn-danger" ng-click="remove(admin,$index)" ng-show="$root.can(\'Users.delUser\')" title="{{phrase.Remove}}" tooltip type="button"> {{phrase.Remove}} <i class="fa fa-trash-o"></i></button> </td> </tr> <tr ng-show="!admins.length"> <td class="noTableData" colspan="5">لايوجد موظفين</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="row" ng-show="views.add"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button> <h4 class="card-title">اضافة موظف جديد</h4> <div class=""> <form class="row" name="addAdmin" ng-submit="saveAdd(form)" novalidate role="form"> <input-field class="col-lg-12" field-type="text" name="fullName" ng-model="form.fullName" required title="الاسم الكامل"></input-field> <div class="form-group m-b-0 col-lg-12"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="addAdmin.$invalid" type="submit">اضافة </button> </div> </div> </form> </div> </div> </div> </div> </div> <div class="row" ng-show="views.edit"> <div class="col-12"> <div class="card"> <div class="card-block"> <button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelEdit}} </button> <h4 class="card-title">تعديل الموظف</h4> <div class=""> <form class="form-horizontal" name="editAdmin" ng-submit="saveEdit(form)" novalidate role="form"> <div class="row"> <input-field class="col-lg-12" field-type="text" name="fullName" ng-model="form.fullName" required title="الاسم الكامل"></input-field> </div> <div class="form-group m-b-0"> <div class="offset-sm-2 col-sm-10"> <button class="btn btn-info waves-effect waves-light" ng-disabled="editAdmin.$invalid" type="submit">تعديل </button> </div> </div> </form> </div> </div> </div> </div> </div>'),e.put("assets/templates/wind.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\" uib-modal-transclude> </div>"),e.put("assets/views/app_settings.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="card card-outline-danger m-0 col-12" style="background-color: #ffffff;border: 1px solid #2e323b"><div class="card-block pt-0 pb-2 px-0 col-12"><form class="col-lg-12 px-0 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row col-12"><input-field class="col-lg-2 px-0" ng-model="searchInput.text" placeholder="----" ng-change="searchChange" title="بحث" field-type="text" name="text"></input-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.type" placeholder=" ------------ " title="النوع" options="\'settingsTypes\'" on-change="searchChange" name="type"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.filter" placeholder=" ------------ " title="filter" options="\'statics\'" on-change="searchChange" name="filter"></select-ezz-field><div class="form-group col-auto m-0 p-0 mt-2"><div class="input-sm2"><button class="card-block-input-item btn btn-info" style="height: 30px" type="submit">بحث <i class="fa fa-search"></i></button><a class="card-block-input-item btn btn-danger" style="height: 30px" ng-click="clearSearch();"> X</a><a class="btn btn-danger card-block-input-item" style="height: 30px" ng-click="hideSearch()">اخفاء البحث </a></div></div></div></form></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'app_settings.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'app_settings.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input ng-model="searchPageText" class="form-control" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.app_settings || \'app_settings\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">group</th><th class="bg-light-info">النوع</th><th class="bg-light-info">fieldName</th><th class="bg-light-info">fieldValue</th><th class="bg-light-info">العنوان</th><th class="bg-light-info">details</th><th class="bg-light-info">الحالة</th><th class="bg-light-info">الترتيب</th><th class="bg-light-info">filter</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.group }}</td><td>{{invoice.type }}</td><td>{{invoice.fieldName }}</td><td>{{invoice.fieldValue }}</td><td>{{invoice.title }}</td><td>{{invoice.details }}</td><td>{{invoice.status }}</td><td>{{invoice.sort }}</td><td>{{invoice.filter }}</td><td><button ng-show=" $root.can(\'app_settings.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'app_settings.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'app_settings.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.app_settings || \'app_settings\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.app_settings || \'app_settings\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-6" ng-model="form.group" title="group" field-type="text" name="group"></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.type" title="النوع" options="\'settingsTypes\'" name="type" required></select-ezz-field><input-field class="col-lg-6" ng-model="form.fieldName" title="fieldName" field-type="text" name="fieldName"></input-field><input-field class="col-lg-6" ng-model="form.fieldValue" title="fieldValue" field-type="text" name="fieldValue"></input-field><input-field class="col-lg-6" ng-model="form.title" title="العنوان" field-type="text" name="title" required></input-field><input-field class="col-lg-6" ng-model="form.details" title="details" field-type="text" name="details"></input-field><input-field class="col-lg-6" ng-model="form.status" title="الحالة" field-type="text" name="status"></input-field><input-field class="col-lg-6" ng-model="form.sort" title="الترتيب" field-type="text" name="sort"></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.filter" title="filter" options="\'statics\'" name="filter"></select-ezz-field><textarea-field class="col-lg-6" ng-model="form.data" title="data" name="data"></textarea-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' app_settings.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/dynTypes.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(methodName+\'.Add\')" title="اضافة" tooltip>اضافة </button><h3 class="card-title mb-2">{{phrase[methodName] || \'الانواع \'}} ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all table table-hover table-bordered" ezz-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">الكود</th><th class="bg-light-info">الوصف</th><th class="bg-light-info">الترتيب</th><th class="bg-light-info">الحالة</th><th ng-show="$root.canActive(methodName)" class="bg-light-info">تفعيل</th><th class="bg-light-info">النوع</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="viewDetailsDialog(invoice.id)" total-items="totalItems"><td data-title="الرقم">{{invoice.id }}</td><td data-title="الاسم">{{invoice.name }}</td><td data-title="الكود">{{invoice.code }}</td><td data-title="الوصف">{{invoice.description }}</td><td data-title="الترتيب">{{invoice.sort }}</td><td data-title="الحالة">{{invoice.status }}</td><td ng-show="$root.canActive(methodName)" data-title="تفعيل"><change-status item-id="invoice.id" ng-model="invoice.active" url="getMethodNameUrl()" table="methodName"></change-status></td><td data-title="النوع">{{invoice.type }}</td><td data-title="عمليات"><div><button class="btn btn-sm btn-info" ng-click="startEdit(invoice.id)" ng-show=" $root.can(methodName+\'.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(methodName+\'.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(methodName+\'.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></div></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase[\'methodName\'] || \'انواع \'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase[methodName] || \'انواع \'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-autosize-field class="col-lg-12" field-type="text" name="name" ng-model="form.name" required title="الاسم"></input-autosize-field><input-autosize-field class="col-lg-12" field-type="text" name="description" ng-model="form.description" title="الوصف"></input-autosize-field><input-field class="col-lg-6" field-type="integer" name="code" ng-model="form.code" title="الكود"></input-field><input-field class="col-lg-6" field-type="integer" name="sort" ng-model="form.sort" title="الترتيب"></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/filters.html",'<div class="row page-titles no-print"><div class="col-md-6 col-8 align-self-center"><h3 class="text-themecolor m-b-0 m-t-0">الفلاتر</h3></div><div class="col-md-6 col-4 align-self-center"></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الجدول</label><select class="form-control custom-select input-sm" name="searchInput[\'model\']" ng-model="searchInput.model"><option></option><option ng-repeat="class in filters.table_models" value="{{class.id}}"> {{class.name}} </option></select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>تفعيل/تعطيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'enabled\']" ng-model="searchInput.enabled" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'enabled\']" ng-model="searchInput.enabled" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>search_req</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'search_req\']" ng-model="searchInput.search_req" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'search_req\']" ng-model="searchInput.search_req" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الجدول</label><select class="form-control custom-select input-sm" name="searchInput[\'model\']" ng-model="searchInput.model"><option></option><option ng-repeat="class in filters.table_models" value="{{class.id}}"> {{class.name}} </option></select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>تفعيل/تعطيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'enabled\']" ng-model="searchInput.enabled" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'enabled\']" ng-model="searchInput.enabled" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>search_req</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'search_req\']" ng-model="searchInput.search_req" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'search_req\']" ng-model="searchInput.search_req" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'filters.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'filters.Import\')" title="استيراد" tooltip>استيراد </button><h4 class="card-title">قائمة الفلاتر ({{totalItems}})</h4><div class="table-responsive"><table class="table table-hover table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الجدول</th><th class="bg-light-info">العنوان</th><th class="bg-light-info">الرابط</th><th class="bg-light-info">تفعيل/تعطيل</th><th class="bg-light-info">حقل البحث</th><th class="bg-light-info">اكثر عدد عناصر</th><th class="bg-light-info">اقل احرف للبحث</th><th class="bg-light-info">search_req</th><th class="bg-light-info">static</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:20" total-items="totalItems"><td>{{invoice.model }}</td><td>{{invoice.title }}</td><td>{{invoice.url }}</td><td>{{invoice.enabled }}</td><td>{{invoice.search }}</td><td>{{invoice.limit }}</td><td>{{invoice.txtlimit }}</td><td>{{invoice.search_req }}</td><td>{{invoice.static }}</td><td><button class="btn btn-circle btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'filters.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-success" ng-click="viewDetails(invoice.id)" ng-show=" $root.can(\'filters.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'filters.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة الفلاتر </h4><h4 class="card-title" ng-if="views.edit">تعديل الفلاتر </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.model.$invalid}"><label class="control-label">الجدول* </label><select class="form-control custom-select" name="model" ng-model="form.model" required><option></option><option ng-repeat="oBJ in filters.table_models" ng-selected="oBJ.id==form.model" value="{{oBJ.id}}">{{oBJ.name}} </option></select></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.title.$invalid}"><label class="control-label">العنوان* </label><input class="form-control" name="title" ng-model="form.title" placeholder="العنوان" required type="text"></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.url.$invalid}"><label class="control-label">الرابط* </label><input class="form-control" name="url" ng-model="form.url" placeholder="الرابط" required type="text"></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.value.$invalid}"><label class="control-label">القيمة* </label><input class="form-control" name="value" ng-model="form.value" placeholder="القيمة" required type="text"></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.text.$invalid}"><label class="control-label">النص* </label><input class="form-control" name="text" ng-model="form.text" placeholder="النص" required type="text"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">تفعيل/تعطيل </label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="enabled" ng-model="form.enabled" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="enabled" ng-model="form.enabled" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">حقل البحث </label><input class="form-control" name="search" ng-model="form.search" placeholder="حقل البحث" type="text"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">اكثر عدد عناصر </label><input class="form-control" name="limit" ng-model="form.limit" placeholder="اكثر عدد عناصر" type="text"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">اقل احرف للبحث </label><input class="form-control" name="txtlimit" ng-model="form.txtlimit" placeholder="اقل احرف للبحث" type="text"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">search_req </label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="search_req" ng-model="form.search_req" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="search_req" ng-model="form.search_req" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">static </label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="static" ng-model="form.static" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="static" ng-model="form.static" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div></div><div class="col-lg-12 form-group m-b-0"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' filters.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_account_handlers.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="card card-outline-danger m-0 col-12" style="background-color: #ffffff;border: 1px solid #2e323b"><div class="card-block pt-0 pb-2 px-0 col-12"><form class="col-lg-12 px-0 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row col-12"><input-field class="col-lg-2 px-0" ng-model="searchInput.text" placeholder="----" ng-change="searchChange" title="بحث" field-type="text" name="text"></input-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.type" placeholder=" ------------ " title="النوع" options="\'account_handlers\'" on-change="searchChange" name="type"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.account_type" placeholder=" ------------ " title="نوع الحساب" options="\'ifrs_account_types\'" on-change="searchChange" name="account_type"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.default_account" placeholder=" ------------ " title="الحساب الافتراضي" options="\'ifrs_accounts\'" on-change="searchChange" name="default_account"></select-ezz-field><div class="form-group col-auto m-0 p-0 mt-2"><div class="input-sm2"><button class="card-block-input-item btn btn-info" style="height: 30px" type="submit">بحث <i class="fa fa-search"></i></button><a class="card-block-input-item btn btn-danger" style="height: 30px" ng-click="clearSearch();"> X</a><a class="btn btn-danger card-block-input-item" style="height: 30px" ng-click="hideSearch()">اخفاء البحث </a></div></div></div></form></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_account_handlers.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_account_handlers.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input ng-model="searchPageText" class="form-control" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.ifrs_account_handlers || \'محدد الحسابات\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">النوع</th><th class="bg-light-info">نوع الحساب</th><th class="bg-light-info">تحديد حساب افتراضي</th><th class="bg-light-info">الحساب الافتراضي</th><th class="bg-light-info">code</th><th class="bg-light-info">كل الحسابات</th><th class="bg-light-info">تفعيل</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.type }}</td><td>{{invoice.account_type }}</td><td>{{invoice.use_default }}</td><td>{{invoice.default_account }}</td><td>{{invoice.handler_code }}</td><td>{{invoice.can_all }}</td><td><change-status ng-model="invoice.active" item-id="invoice.id" table="methodName"></change-status></td><td><button ng-show=" $root.can(\'ifrs_account_handlers.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_account_handlers.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_account_handlers.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_account_handlers || \'محدد الحسابات\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_account_handlers || \'محدد الحسابات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-12" ng-model="form.name" title="الاسم" field-type="text" name="name" required></input-field><select-ezz-field add-model="editAddItem" class="col-lg-12" ng-model="form.type" title="النوع" options="\'account_handlers\'" name="type" required></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.account_type" title="نوع الحساب" options="\'ifrs_account_types\'" name="account_type"></select-ezz-field><div class="col-lg-6 mt-2"><div class="col-lg-12 row"><label class="col-auto control-label">تحديد حساب افتراضي </label><label class="col form-check-label"><input type="checkbox" class="form-check-input" name="use_default" ng-model="form.use_default" value="1"> تفعيل </label></div></div><select-ezz-field add-model="editAddItem" class="col-lg-12" ng-model="form.default_account" title="الحساب الافتراضي" options="\'ifrs_accounts\'" name="default_account"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-12" ng-model="form.types_array" title="الانواع" options="\'ifrs_account_types\'" name="types_array"></select-ezz-field><input-field class="col-lg-12" ng-model="form.handler_code" title="code" field-type="text" name="handler_code" required></input-field><div class="col-lg-6 mt-2"><div class="col-lg-12 row"><label class="col-auto control-label">كل الحسابات </label><label class="col form-check-label"><input type="checkbox" class="form-check-input" name="can_all" ng-model="form.can_all" value="1"> تفعيل </label></div></div><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_account_handlers.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_account_types.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_account_types.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_account_types.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><h3 class="card-title mb-2">{{phrase.ifrs_account_types || \'انواع الحسابات (التصنيفات الرئيسية)\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم المفرد</th><th class="bg-light-info">الاسم الجمع</th><th class="bg-light-info">الاسم المفرد en</th><th class="bg-light-info">الاسم الجمع en</th><th class="bg-light-info">الكود</th><th class="bg-light-info">من رقم حساب</th><th class="bg-light-info">الى رقم حساب</th><th class="bg-light-info">تفعيل</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.sum_name }}</td><td>{{invoice.en_name }}</td><td>{{invoice.sum_en_name }}</td><td>{{invoice.code }}</td><td>{{invoice.from_id }}</td><td>{{invoice.to_id }}</td><td><change-status ng-model="invoice.active" item-id="invoice.id" table="methodName"></change-status></td><td><button ng-show=" $root.can(\'ifrs_account_types.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_account_types.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_account_types.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_account_types || \'انواع الحسابات (التصنيفات الرئيسية)\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_account_types || \'انواع الحسابات (التصنيفات الرئيسية)\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-6" ng-model="form.name" title="الاسم المفرد" field-type="text" name="name" required></input-field><input-field class="col-lg-6" ng-model="form.sum_name" title="الاسم الجمع" field-type="text" name="sum_name" required></input-field><input-field class="col-lg-6" ng-model="form.en_name" title="الاسم المفرد en" field-type="text" name="en_name" required></input-field><input-field class="col-lg-6" ng-model="form.sum_en_name" title="الاسم الجمع en" field-type="text" name="sum_en_name" required></input-field><input-field class="col-lg-6" ng-model="form.from_id" title="من رقم حساب" field-type="text" name="from_id" required></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_account_types.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_accounts.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="col-12" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>entity</label><sc-select name="searchInput[\'entity_id\']" ng-model="searchInput.entity_id" placeholder="entity" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'ifrs_entities\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>العملة</label><sc-select name="searchInput[\'currency_id\']" ng-model="searchInput.currency_id" placeholder="العملة" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'ifrs_currencies\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>نوع الحساب</label><sc-select name="searchInput[\'account_type\']" ng-model="searchInput.account_type" placeholder="نوع الحساب" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'ifrs_account_types\', searchText, page)"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label ng-if=""><input name="searchInput[\'export\']" ng-if="$root.can(\' ifrs_accounts.Import\')" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>entity</label><sc-select name="searchInput[\'entity_id\']" ng-model="searchInput.entity_id" placeholder="entity" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'ifrs_entities\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>العملة</label><sc-select name="searchInput[\'currency_id\']" ng-model="searchInput.currency_id" placeholder="العملة" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'ifrs_currencies\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>نوع الحساب</label><sc-select name="searchInput[\'account_type\']" ng-model="searchInput.account_type" placeholder="نوع الحساب" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'ifrs_account_types\', searchText, page)"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="startAdd(\'add\')" ng-show=" $root.can(\'ifrs_accounts.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'ifrs_accounts.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.ifrs_accounts || \'شجرة الحسابات\'}} ({{totalItems}})</h3><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">العملة</th><th class="bg-light-info">رقم الحساب</th><th class="bg-light-info">نوع الحساب</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.currency_id }}</td><td>{{invoice.code }}</td><td>{{invoice.account_type }}</td><td><button class="btn btn-circle btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'ifrs_accounts.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'ifrs_accounts.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'ifrs_accounts.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.ifrs_accounts || \'شجرة الحسابات\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.ifrs_accounts || \'شجرة الحسابات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-12" field-type="text" name="name" ng-model="form.name" required title="الاسم"></input-field><input-field class="col-lg-6" field-type="text" name="description" ng-model="form.description" title="الوصف"></input-field><select-ezz-field add-model="editAddItem" class="col-lg-12" name="account_type" ng-if="views.add" ng-model="form.account_type" options="\'ifrs_account_types\'" required title="نوع الحساب"></select-ezz-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label class="col-auto form-check-label mx-2" ng-if="views.add" ng-show="formSettings.dont_close"><input class="form-check-input" ng-model="formSettings.dont_clear" type="checkbox" value="1"> ابقاء البيانات </label><label class="col-auto form-check-label" ng-if="views.add"><input class="form-check-input" ng-model="formSettings.dont_close" type="checkbox" value="1"> عدم الخروج </label><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-if="$root.can(\' ifrs_accounts.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_actions.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="card card-outline-danger m-0 col-12" style="background-color: #ffffff;border: 1px solid #2e323b"><div class="card-block pt-0 pb-2 px-0 col-12"><form class="col-lg-12 px-0 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row col-12"><input-field class="col-lg-2 px-0" ng-model="searchInput.text" placeholder="----" ng-change="searchChange" title="بحث" field-type="text" name="text"></input-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.type" placeholder=" ------------ " title="النوع" options="\'ifrs_action_types\'" on-change="searchChange" name="type"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.transaction_model" placeholder=" ------------ " title="نوع القيد المحاسبي" options="\'transactionsTypes\'" on-change="searchChange" name="transaction_model"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.main_handler" placeholder=" ------------ " title="عمليات" options="\'mainHandlersTypes\'" on-change="searchChange" name="main_handler"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.main_account_handler" placeholder=" ------------ " title="محدد الحساب الرئيسي" options="\'ifrs_account_handlers\'" on-change="searchChange" name="main_account_handler"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.line_account_handler" placeholder=" ------------ " title="محدد الحساب الثانوي" options="\'ifrs_account_handlers\'" on-change="searchChange" name="line_account_handler"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.main_account_type" placeholder=" ------------ " title="نوع الحساب الرئيسي" options="\'ifrs_account_types\'" on-change="searchChange" name="main_account_type"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.line_account_type" placeholder=" ------------ " title="نوع الحساب الثانوي" options="\'ifrs_account_types\'" on-change="searchChange" name="line_account_type"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.def_main_account" placeholder=" ------------ " title="الحساب الرئيسي الافتراضي" options="\'ifrs_accounts\'" on-change="searchChange" name="def_main_account"></select-ezz-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.def_line_account" placeholder=" ------------ " title="الحساب الثانوي الافتراضي" options="\'ifrs_accounts\'" on-change="searchChange" name="def_line_account"></select-ezz-field><div class="form-group col-auto m-0 p-0 mt-2"><div class="input-sm2"><button class="card-block-input-item btn btn-info" style="height: 30px" type="submit">بحث <i class="fa fa-search"></i></button><a class="card-block-input-item btn btn-danger" style="height: 30px" ng-click="clearSearch();"> X</a><a class="btn btn-danger card-block-input-item" style="height: 30px" ng-click="hideSearch()">اخفاء البحث </a></div></div></div></form></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_actions.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_actions.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input ng-model="searchPageText" class="form-control" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.ifrs_actions || \'عمليات الحسابات\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">النوع</th><th class="bg-light-info">نوع الحركة</th><th class="bg-light-info">نوع القيد المحاسبي</th><th class="bg-light-info">كود العملية</th><th class="bg-light-info">محدد الحساب الرئيسي</th><th class="bg-light-info">محدد الحساب الثانوي</th><th class="bg-light-info">نوع الحساب الرئيسي</th><th class="bg-light-info">نوع الحساب الثانوي</th><th class="bg-light-info">credited</th><th class="bg-light-info">تفعيل</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.type }}</td><td>{{invoice.action_type }}</td><td>{{invoice.transaction_model }}</td><td>{{invoice.action_code }}</td><td>{{invoice.main_account_handler }}</td><td>{{invoice.line_account_handler }}</td><td>{{invoice.main_account_type }}</td><td>{{invoice.line_account_type }}</td><td>{{invoice.is_credited }}</td><td><change-status ng-model="invoice.active" item-id="invoice.id" table="methodName"></change-status></td><td><button ng-show=" $root.can(\'ifrs_actions.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_actions.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_actions.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_actions || \'عمليات الحسابات\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_actions || \'عمليات الحسابات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-6" ng-model="form.name" title="الاسم" field-type="text" name="name" required></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.type" title="النوع" options="\'ifrs_action_types\'" name="type" required></select-ezz-field><input-field class="col-lg-6" ng-model="form.action_type" title="نوع الحركة" field-type="text" name="action_type" required></input-field><input-field class="col-lg-6" ng-model="form.check_type" title="check_type" field-type="text" name="check_type"></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.transaction_model" title="نوع القيد المحاسبي" options="\'transactionsTypes\'" name="transaction_model"></select-ezz-field><input-field class="col-lg-6" ng-model="form.action_code" title="كود العملية" field-type="text" name="action_code" required></input-field><input-field class="col-lg-6" ng-model="form.action_group" title="مجموعة العملية" field-type="text" name="action_group"></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.main_handler" title="عمليات" options="\'mainHandlersTypes\'" name="main_handler"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.main_account_handler" title="محدد الحساب الرئيسي" options="\'ifrs_account_handlers\'" name="main_account_handler"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.line_account_handler" title="محدد الحساب الثانوي" options="\'ifrs_account_handlers\'" name="line_account_handler"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.main_account_type" title="نوع الحساب الرئيسي" options="\'ifrs_account_types\'" name="main_account_type"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.line_account_type" title="نوع الحساب الثانوي" options="\'ifrs_account_types\'" name="line_account_type"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.def_main_account" title="الحساب الرئيسي الافتراضي" options="\'ifrs_accounts\'" name="def_main_account"></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.def_line_account" title="الحساب الثانوي الافتراضي" options="\'ifrs_accounts\'" name="def_line_account"></select-ezz-field><div class="col-lg-6 mt-2"><div class="col-lg-12 row"><label class="col-auto control-label">عكس العملية(الغاء) </label><label class="col form-check-label"><input type="checkbox" class="form-check-input" name="can_back" ng-model="form.can_back" value="1"> تفعيل </label></div></div><div class="col-lg-6 mt-2"><div class="col-lg-12 row"><label class="col-auto control-label">غير قابل للتعديل </label><label class="col form-check-label"><input type="checkbox" class="form-check-input" name="is_static" ng-model="form.is_static" value="1"> تفعيل </label></div></div><div class="col-lg-6 mt-2"><div class="col-lg-12 row"><label class="col-auto control-label">credited </label><label class="col form-check-label"><input type="checkbox" class="form-check-input" name="is_credited" ng-model="form.is_credited" value="1"> تفعيل </label></div></div><input-field class="col-lg-6" ng-model="form.roles" title="الصلاحيات" field-type="text" name="roles"></input-field><input-field class="col-lg-6" ng-model="form.attrs" title="القيم الاظافية" field-type="text" name="attrs"></input-field><input-field class="col-lg-6" ng-model="form.fields" title="الحقول الاظافية" field-type="text" name="fields"></input-field><textarea-field class="col-lg-12" ng-model="form.narration" title="البيان" name="narration" required></textarea-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_actions.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_categories.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_categories.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_categories.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><h3 class="card-title mb-2">{{phrase.ifrs_categories || \'التصنيفات الرئيسية للحسابات\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">نوع الحسابات</th><th class="bg-light-info">destroyed_at</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.category_type }}</td><td>{{invoice.destroyed_at }}</td><td><button ng-show=" $root.can(\'ifrs_categories.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_categories.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_categories.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_categories || \'التصنيفات الرئيسية للحسابات\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_categories || \'التصنيفات الرئيسية للحسابات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-12" ng-model="form.name" title="الاسم" field-type="text" name="name" required></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.entity_id" title="entity" options="\'ifrs_entities\'" name="entity_id" required></select-ezz-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.category_type" title="نوع الحسابات" options="\'ifrs_account_types\'" name="category_type" required></select-ezz-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_categories.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_currencies.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_currencies.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_currencies.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><h3 class="card-title mb-2">{{phrase.ifrs_currencies || \'العملات\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">اسم العملة</th><th class="bg-light-info">رمز العملة</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.currency_code }}</td><td><button ng-show=" $root.can(\'ifrs_currencies.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_currencies.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_currencies.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_currencies || \'العملات\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_currencies || \'العملات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-6" ng-model="form.name" title="اسم العملة" field-type="text" name="name" required></input-field><input-field class="col-lg-6" ng-model="form.currency_code" title="رمز العملة" field-type="text" name="currency_code" required></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.entity_id" title="entity" options="\'ifrs_entities\'" name="entity_id" required></select-ezz-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_currencies.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_entities.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="card card-outline-danger m-0 col-12" style="background-color: #ffffff;border: 1px solid #2e323b"><div class="card-block pt-0 pb-2 px-0 col-12"><form class="col-lg-12 px-0 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row col-12"><input-field class="col-lg-2 px-0" ng-model="searchInput.text" placeholder="----" ng-change="searchChange" title="بحث" field-type="text" name="text"></input-field><div class="form-group col-auto m-0 p-0 mt-2"><div class="input-sm2"><button class="card-block-input-item btn btn-info" style="height: 30px" type="submit">بحث <i class="fa fa-search"></i></button><a class="card-block-input-item btn btn-danger" style="height: 30px" ng-click="clearSearch();"> X</a><a class="btn btn-danger card-block-input-item" style="height: 30px" ng-click="hideSearch()">اخفاء البحث </a></div></div></div></form></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_entities.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_entities.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input ng-model="searchPageText" class="form-control" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.ifrs_entities || \'entities\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">العملة</th><th class="bg-light-info">الاب</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">عملات متعددة</th><th class="bg-light-info">رصيد نصف سنوي</th><th class="bg-light-info">بداية السنة</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.currency_id }}</td><td>{{invoice.parent_id }}</td><td>{{invoice.name }}</td><td>{{invoice.multi_currency }}</td><td>{{invoice.mid_year_balances }}</td><td>{{invoice.year_start }}</td><td><button ng-show=" $root.can(\'ifrs_entities.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_entities.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_entities.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_entities || \'entities\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_entities || \'entities\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_entities.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/ifrs_groups.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="card card-outline-danger m-0 col-12" style="background-color: #ffffff;border: 1px solid #2e323b"><div class="card-block pt-0 pb-2 px-0 col-12"><form class="col-lg-12 px-0 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row col-12"><input-field class="col-lg-2 px-0" ng-model="searchInput.text" placeholder="----" ng-change="searchChange" title="بحث" field-type="text" name="text"></input-field><select-ezz-field class="col-auto px-0" ng-model="searchInput.group_type" placeholder=" ------------ " title="نوع الحسابات" options="\'ifrs_account_types\'" on-change="searchChange" name="group_type"></select-ezz-field><div class="form-group col-auto m-0 p-0 mt-2"><div class="input-sm2"><button class="card-block-input-item btn btn-info" style="height: 30px" type="submit">بحث <i class="fa fa-search"></i></button><a class="card-block-input-item btn btn-danger" style="height: 30px" ng-click="clearSearch();"> X</a><a class="btn btn-danger card-block-input-item" style="height: 30px" ng-click="hideSearch()">اخفاء البحث </a></div></div></div></form></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'ifrs_groups.Add\')" ng-click="startAdd(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'ifrs_groups.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input ng-model="searchPageText" class="form-control" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.ifrs_groups || \'مجموعات الحسابات\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">نوع الحسابات</th><th class="bg-light-info">رقم المجموعة</th><th class="bg-light-info">كود المجموعة</th><th class="bg-light-info">تفعيل</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.group_type }}</td><td>{{invoice.group_id }}</td><td>{{invoice.group_code }}</td><td><change-status ng-model="invoice.active" item-id="invoice.id" table="methodName"></change-status></td><td><button ng-show=" $root.can(\'ifrs_groups.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-sm btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'ifrs_groups.View\')" ng-click="viewDetailsDialog(invoice.id)" class="btn btn-circle btn-sm btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'ifrs_groups.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-sm btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة {{phrase.ifrs_groups || \'مجموعات الحسابات\'}} </h4><h4 ng-if="views.edit" class="card-title">تعديل {{phrase.ifrs_groups || \'مجموعات الحسابات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><input-field class="col-lg-12" ng-model="form.name" title="الاسم" field-type="text" name="name" required></input-field><select-ezz-field add-model="editAddItem" class="col-lg-6" ng-model="form.group_type" title="نوع الحسابات" options="\'ifrs_account_types\'" name="group_type" required></select-ezz-field><input-field class="col-lg-6" ng-model="form.group_id" title="رقم المجموعة" field-type="text" name="group_id" required></input-field><input-field class="col-lg-6" ng-model="form.group_code" title="كود المجموعة" field-type="text" name="group_code" required></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label ng-if="views.add" ng-show="formSettings.dont_close" class="col-auto form-check-label mx-2"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_clear" value="1"> ابقاء البيانات </label><label ng-if="views.add" class="col-auto form-check-label"><input type="checkbox" class="form-check-input" ng-model="formSettings.dont_close" value="1"> عدم الخروج </label><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-if="$root.can(\' ifrs_groups.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view item-view="itemView" change-view="hideView"></my-view></modal-ezz-small><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/item.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'comes_items.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option> عدد العناصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h4 class="card-title">قائمة المنتجات ({{totalItems}})</h4><div class=""><table class="ezztable table table-hover table-striped table-bordered" ezz-responsive-table=""><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">العنوان</th><th class="bg-light-info">السعر</th><th class="bg-light-info">الصنف</th><th class="bg-light-info">حالة المنتج</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td>{{invoice.title }}</td><td>{{invoice.price }}</td><td>{{invoice.category }}</td><td><change-status hide-title="true" item-id="invoice.id" ng-model="invoice.active" table="methodName"></change-status></td><td class="no-print"><button class="btn btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'item.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-sm btn-success" ng-click="viewDetails(invoice.id)" ng-show=" $root.can(\'item.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة المنتجات </h4><h4 class="card-title" ng-if="views.edit">تعديل المنتجات </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-12 p-0" field-type="text" ng-model="form.name" required title="الاسم"></input-field><input-field class="col-lg-6 p-0" field-type="integer" ng-model="form.price" required title="السعر"></input-field><select-sync-field2 class="col-lg-6 p-0" ng-model="form.item_type" options="\'sales_item_types\'" title="النوع"></select-sync-field2><select-sync-field2 class="col-lg-6 p-0" ng-model="form.item_size" options="\'sales_item_sizes\'" title="الحجم"></select-sync-field2><textarea-field class="col-lg-12 p-0" field-type="text" ng-model="form.details" title="التفاصيل"></textarea-field><div class="col-lg-12 form-group m-b-0"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/logins.html",'<div class="row page-titles no-print"><div class="col-md-6 col-8 align-self-center"><h3 class="text-themecolor m-b-0 m-t-0">تسجيلات الدخول</h3></div><div class="col-md-6 col-4 align-self-center"></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"></div></div></div></div></form></div></div></div><div class="col-12 listContent"><div class="card"><div class="card-block"><h4 class="card-title">قائمة تسجيلات الدخول ({{totalItems}})</h4><div class="table-responsive"><table class="table table-hover table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">المستخدم</th><th class="bg-light-info">الوقت</th><th class="bg-light-info">نوع المستخدم</th><th class="bg-light-info">لــ</th><th class="bg-light-info">نوع تسجيل الدخول</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:20" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.fullName }}</td><td>{{invoice.at|dateFormat2 }}</td><td>{{invoice.role_perm }}</td><td>{{invoice.for }}</td><td>{{invoice.type }}</td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/logs.html",'<div class="row page-titles no-print"><div class="col-md-6 col-8 align-self-center"><h3 class="text-themecolor m-b-0 m-t-0">سجل العمليات</h3></div><div class="col-md-6 col-4 align-self-center"></div></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>نوع العنصر</label><select class="form-control custom-select input-sm" name="searchInput[\'subject_type\']" ng-model="searchInput.subject_type"><option></option><option ng-repeat="class in filters.tables" value="{{class.id}}"> {{class.name}} </option></select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label> المستخدم</label><sc-select name="searchInput[\'causer_id\']" ng-model="searchInput.causer_id" placeholder="المستخدم" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>النوع</label><sc-select name="searchInput[\'type\']" ng-model="searchInput.type" placeholder="النوع" sc-options="item.id as item.name for item in filters.logs_types"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'logs.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'logs.Import\')" title="استيراد" tooltip>استيراد </button><h4 class="card-title">قائمة سجل العمليات ({{totalItems}})</h4><div class="table-responsive"><table class="table table-hover table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">العنوان</th><th class="bg-light-info">الوصف</th><th class="bg-light-info">نوع العنصر</th><th class="bg-light-info">رقم العنصر</th><th class="bg-light-info">المستخدم/نوع المستخدم</th><th class="bg-light-info">الوقت</th><th class="bg-light-info">النوع</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:20" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.log_name }}</td><td>{{invoice.description }}</td><td>{{invoice.subject_type }}</td><td>{{invoice.subject_id }}</td><td>{{invoice.fullName }} <small class="label label-info">{{invoice.role }}</small></td><td><small class="label label-danger">{{invoice.timestamps }}</small><small class="label label-success"> {{agoDate(invoice.timestamps)}}</small></td><td>{{invoice.type }}</td><td><button class="btn btn-circle btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'logs.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-success" ng-click="viewDetails(invoice.id)" ng-show=" $root.can(\'logs.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'logs.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/purchases.html",'<div class="row pt-2"></div><div class="row m-0 mb-1 bg-white" ng-if="showAdd" ng-show="views.list"><div class="col-12 listContent"><div class="card mb-1 input-border-dark" style="background-color: #2c4a2dfc !important; border-color: #f4433673 !important"><div class="card-block pb-1"><add-purchase on-add="onAddDone" on-cancel="cancelAdd"></add-purchase></div></div></div></div><div class="row m-0 mb-1" ng-if="showSearch" ng-show="views.list"><purchases-search class="col-12 listContent" on-clear="clearSearch" on-hide="hideSearch" on-search="runSearch" form="searchInput"></purchases-search></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-info card-block-input-item" ng-click="showAdd=1" ng-show="!showAdd && $root.can(\'purchases.Add\')">اضافة مشتريات </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'purchases.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1"><select class="form-control custom-select input-sm" name="sortBy" ng-change="getResultsPage(1)" ng-model="listParams.sortBy" style="width: 100%"><option value="">-- فرز حسب --</option><option value="id desc">فرز حسب الاحدث</option><option value="id">فرز حسب الاقدم</option><option value="status">فرز حسب الحالة</option><option value="add_at">فرز حسب تاريخ المشتريات</option><option value="add_at_desc">فرز حسب تاريخ المشتريات تصاعدي</option><option value="sale_add_at">فرز حسب تاريخ المبيعات</option><option value="export_no">فرز طلب الخروج </option><option value="receive_no">فرز طلب الدخول </option><option value="bill_id">فرز الفاتورة </option></select></div><div ng-if="0" class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><div class="pull-left ml-1"><input default group="methodName" ng-model="listParams.withCount" store-value="withCount" type="hidden"><check-field name="fullColor" ng-model="listParams.withCount">عدد الاسطوانات </check-field></div><h3 class="card-title mb-2">{{phrase.purchases || \'المشتريات\'}} ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all table table-hover table-striped table-bordered"><thead><tr class="hidden-sm-down"><th class="bg-light-danger">الرقم</th><th class="bg-light-danger">المصنع/المورد</th><th class="bg-light-danger">السائق</th><th class="bg-light-danger">طلب الخروج</th><th class="bg-light-danger">فاتورة الشراء </th><th class="bg-light-danger" ng-show="listParams.withCount != 0">عدد الاسطوانات</th><th class="bg-light-danger">طلب الدخول</th><th class="bg-light-danger">المبيعات</th><th class="bg-light-danger">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="$root.openModelViewer(\'viewPurchase\',invoice.id,\'تفاصيل المشتريات/المبيعات\')" total-items="totalItems"><td class="hidden-sm-down">{{invoice.id }} \x3c!-- > {{$root.dashboardData.exportTypes[invoice.selectedType].name}}</span>--\x3e</td><td class="hidden-sm-down"><span ng-show="invoice.supplier" class="label bold label-rounded label-default" ng-class="(3|priorityColor:100)"> {{invoice.supplierName}}</span><span class="label bold label-rounded" ng-class="(invoice.add_at|daysColor:200)" ng-show="invoice.add_at"> {{invoice.add_at|dateSmall}} </span></td><td class="hidden-sm-down"> {{invoice.driverName}} </td><td class="hidden-sm-down"> {{invoice.export_no}} </td><td class="p-0"><span ng-show="invoice.saleType" class="label bold label-rounded label-default" ng-class="(invoice.saleType|priorityColor:100)"> {{$root.dashboardData.saleTypes[invoice.saleType].name}} </span> {{invoice.bill_id}} </td><td class="hidden-sm-down" ng-show="listParams.withCount != 0 "><div class="row p-0 m-0"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div></td><td class="hidden-sm-down"> {{invoice.receive_no}} </td><td class="hidden-sm-down"><table ng-show="invoice.status==2" border="2" style="border-collapse: collapse; width: 100%"><tr ng-repeat="(iKey,invOne) in invoice.invs" class="p-0"><td class="p-0" style="width: 7%"> {{iKey+1}} </td><td class="p-0"><table style="border-collapse: collapse; width: 100%"><tbody><tr><td colspan="2"><small>{{invOne.name}}</small></td><td style="width: 25%"><span ng-if="0" class="label bold label-rounded label-default px-1 m-0" ng-class="(invOne.saleType|priorityColor:100)"> {{$root.dashboardData.saleTypes[invOne.saleType].name}} ({{invOne.bill_id }}) </span><small> {{$root.dashboardData.saleTypes[invOne.saleType].name}} ({{invOne.bill_id }}) </small></td><td style="width: 5%"><small>استلام</small></td></tr><tr ng-repeat="invItem in invOne.items"><td><small>{{$root.dashboardData.items[invItem.itemId].name}} <small class="text-danger" ng-if="invItem.itemsFor==1">(خاص بالعميل)</small><small class="text-blue" ng-if="invItem.itemsFor==2">(خاص بالشركة)</small></small></td><td><small>{{invItem.count}} </small></td><td><small>{{invItem.price}}ر.ي</small></td><td><small>{{invItem.countReceipt}}</small></td></tr><tr ng-show="0"><td><br></td><td colspan="2"><br></td></tr></tbody></table></td></tr></table><button ng-if="$root.can(\'sales.Add\') && invoice.status==0" ng-show="invoice.status==0" class="btn btn-danger" ng-click="openAddModelFull(\'addSaleModel\',invoice)" style="margin:3px;width:90%">اضافة مبيعات <i class="fa fa-plus"></i></button></td><td class="m-0 p-0 text-center"><div class="col-lg-auto m-0 p-0 text-center"><div class="btn-group text-center"><button class="w-100 btn btn-info btn-sm dropdown-toggle" data-toggle="dropdown" ng-class="{\'btn-warning\':invoice.status==\'PLACED\' && invoice.status_id ==\'0\'}" type="button"> خيارات <span class="caret"></span></button><div class="dropdown-menu text-center" role="menu">\x3c!-- >--\x3e<button class="btn btn-success" ng-click="viewDetailsDialog(invoice.id)" style="margin:3px;width:90%">عرض <i class="fa fa-eye"></i></button><a class="btn btn-danger ng-scope" href="admin/report/invoice/{{invoice.uuid}}" ng-show="invoice.selectedType!=\'driver\' && $root.can(\'purchases.View\')" style="margin:3px;width:90%" target="_blank">فاتورة البيع <i class="fa fa-file-invoice"></i></a><a class="btn btn-danger ng-scope" href="admin/report/purchases/{{invoice.uuid}}" ng-show=" $root.can(\'purchases.View\')" style="margin:3px;width:90%" target="_blank">اذن الخروج <i class="fa fa-file-invoice"></i></a><button ng-if="$root.can(\'sales.Add\') && invoice.selectedType==\'driver\' && invoice.status==0" ng-show="invoice.status==0" class="btn btn-info" ng-click="openAddModelFull(\'addSaleModel\',invoice)" style="margin:3px;width:90%">اضافة مبيعات <i class="fa fa-plus"></i></button><button class="btn btn-info" ng-click="openEditCheckModel(\'itemsBackModel\',invoice.id,invoice)" style="margin:3px;width:90%">مرتجع مشتريات <i class="fa fa-sort-amount-up"></i></button><button class="btn btn-info" ng-show="$root.can(\'purchases.addPriority\')" ng-click="openSelectModel(invoice,\'priority\',\'sales_priority_types\',\'الاولوية\')" style="margin:3px;width:90%">تغيير الاولوية <i class="fa fa-sort-amount-up"></i></button><button ng-if="$root.dashboardData.isSuper" ng-show="invoice.id" class="btn btn-success btn-sm" ng-click="$root.openAddModel(\'editPurchase\',invoice.id)">تعديل المشتريات <i class="fa fa-plus"></i></button><button class="btn btn-danger" ng-if="invoice.forUser" ng-click="openTransferJournal(invoice.forUser,invoice.id,\'MSCC\')" style="margin:3px;width:90%">سند قبض <i class="fa fa-money-bill-alt"></i></button><button class="btn btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'purchases.Delete\')" style="margin:3px;width:90%"> حذف <i class="fa fa-trash-o"></i></button></div></div></div></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div>'),e.put("assets/views/rolesgroups.html",'<div class="row page-titles no-print"><div class="col-md-6 col-8 align-self-center"><h3 class="text-themecolor m-b-0 m-t-0">انواع الصلاحيات</h3></div><div class="col-md-6 col-4 align-self-center"></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>استخدام الحقل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'use_filed\']" ng-model="searchInput.use_filed" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'use_filed\']" ng-model="searchInput.use_filed" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>استخدام الحقل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'use_filed\']" ng-model="searchInput.use_filed" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'use_filed\']" ng-model="searchInput.use_filed" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'rolesgroups.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'rolesgroups.Import\')" title="استيراد" tooltip>استيراد </button><h4 class="card-title">قائمة انواع الصلاحيات ({{totalItems}})</h4><div class="table-responsive"><table class="table table-hover table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الاسم</th><th class="bg-light-info">العنوان</th><th class="bg-light-info">الحقل</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">المستوى</th><th class="bg-light-info">subtitle</th><th class="bg-light-info">استخدام الحقل</th><th class="bg-light-info">group</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:20" total-items="totalItems"><td>{{invoice.name }}</td><td>{{invoice.title }}</td><td>{{invoice.filed }}</td><td>{{invoice.id }}</td><td>{{invoice.level }}</td><td>{{invoice.subtitle }}</td><td>{{invoice.use_filed }}</td><td>{{invoice.group }}</td><td><button class="btn btn-circle btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'rolesgroups.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-success" ng-click="viewDetails(invoice.id)" ng-show=" $root.can(\'rolesgroups.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'rolesgroups.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة انواع الصلاحيات </h4><h4 class="card-title" ng-if="views.edit">تعديل انواع الصلاحيات </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.name.$invalid}"><label class="control-label">الاسم* </label><input class="form-control" name="name" ng-model="form.name" placeholder="الاسم" required type="text"></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.title.$invalid}"><label class="control-label">العنوان* </label><input class="form-control" name="title" ng-model="form.title" placeholder="العنوان" required type="text"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">الحقل </label><select class="form-control custom-select" multiple name="filed" ng-model="form.filed"><option></option><option multipale ng-repeat="oBJ in filters.user_coloms" value="{{oBJ.id}}"> {{oBJ.name}} </option></select></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.level.$invalid}"><label class="control-label">المستوى* </label><input class="form-control" name="level" ng-model="form.level" placeholder="المستوى" required type="text"></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.subtitle.$invalid}"><label class="control-label">subtitle* </label><input class="form-control" name="subtitle" ng-model="form.subtitle" placeholder="subtitle" required type="text"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">استخدام الحقل </label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="use_filed" ng-model="form.use_filed" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="use_filed" ng-model="form.use_filed" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div></div><div class="col-md-6"><div class="form-group" ng-class="{\'has-danger\': addForm.group.$invalid}"><label class="control-label">group* </label><input class="form-control" name="group" ng-model="form.group" placeholder="group" required type="text"></div></div><div class="col-lg-12 form-group m-b-0"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div>'),e.put("assets/views/sales.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>العميل</label><sc-select name="searchInput[\'forUser\']" ng-model="searchInput.forUser" placeholder="العميل" sc-options="item.id as item.name for item in filters.sales_customers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>السائق</label><sc-select name="searchInput[\'driver\']" ng-model="searchInput.driver" placeholder="السائق" sc-options="item.id as item.name for item in filters.sales_drivers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canPriority(methodName)"><label>الاولوية</label><sc-select name="searchInput[\'priority\']" ng-model="searchInput.priority" placeholder="الاولوية" sc-options="item.id as item.name for item in filters.sales_priority_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الحالة</label><select class="form-control custom-select" name="searchInput[\'status\']" ng-model="searchInput.status"><option value=""> -- اختر الحالة --</option><option value="0">جديد</option><option value="1">تم خروج السائق</option><option value="2">تم الخروج</option></select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canActive(methodName)"><label>تفعيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>العميل</label><sc-select name="searchInput[\'forUser\']" ng-model="searchInput.forUser" placeholder="العميل" sc-options="item.id as item.name for item in filters.sales_customers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>السائق</label><sc-select name="searchInput[\'driver\']" ng-model="searchInput.driver" placeholder="السائق" sc-options="item.id as item.name for item in filters.sales_drivers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canPriority(methodName)"><label>الاولوية</label><sc-select name="searchInput[\'priority\']" ng-model="searchInput.priority" placeholder="الاولوية" sc-options="item.id as item.name for item in filters.sales_priority_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الحالة</label><select class="form-control custom-select" name="searchInput[\'status\']" ng-model="searchInput.status"><option value=""> -- اختر الحالة --</option><option value="0">جديد</option><option value="1">تم خروج السائق</option><option value="2">تم الخروج</option></select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canActive(methodName)"><label>تفعيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="openAddModelFull(\'addSaleModel\')" ng-show="$root.can(\'sales.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-0"><select class="form-control custom-select input-sm" name="sortBy" ng-change="getResultsPage(1)" ng-model="listParams.sortBy" style="width: 100%"><option value="">-- فرز حسب --</option><option value="id desc">فرز حسب الاحدث</option><option value="id">فرز حسب الاقدم</option><option value="status">فرز حسب الحالة</option><option value="add_at">فرز حسب تاريخ المبيعات</option><option value="add_at_desc">فرز حسب تاريخ المبيعات تصاعدي</option><option value="receive_no">فرز طلب الدخول </option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><div class="pull-left ml-1"><input default group="methodName" ng-model="listParams.withCount" store-value="withCount" type="hidden"><check-field name="fullColor" ng-model="listParams.withCount">عدد الاسطوانات </check-field></div><h3 class="card-title mb-2">{{phrase.sales || \'المبيعات\'}} ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all table table-hover table-striped table-bordered"><thead><tr class="hidden-sm-down"><th class="bg-light-info">الرقم</th><th class="bg-light-info">العميل</th><th class="bg-light-info">السائق</th><th class="bg-light-info">الحالة</th><th class="bg-light-info" ng-show="listParams.withCount != 0">عدد الاسطوانات</th><th class="bg-light-info" ng-show="$root.canActive(methodName)">تفعيل</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="viewDetailsDialog(invoice.id)" total-items="totalItems"><td class="hidden-sm-down">{{invoice.id }} <span ng-show="$root.canPriority(methodName)" class="label bold label-rounded label-default" ng-class="(invoice.priority|priorityColor:600)"> {{$root.dashboardData.priorities[invoice.priority].name}}</span></td><td class="hidden-sm-down"><span ng-show="invoice.customerType" class="label bold label-rounded label-default" ng-class="(invoice.customerType|priorityColor:100)"> {{$root.dashboardData.customerTypes[invoice.customerType].name}}</span> {{invoice.customerName }} <span ng-show="invoice.selectedType==\'driver\' && !invoice.customerType" class="label bold label-rounded label-default" ng-class="(3|priorityColor:100)"> شاحنة المصنع</span><span ng-show="invoice.selectedType==\'driver\'"> {{invoice.driverCarName}} </span><span class="label bold label-rounded" ng-class="(invoice.created_at|daysColor:200)" ng-show="invoice.created_at"> {{agoDate(invoice.created_at)}} </span></td><td class="hidden-sm-down">{{invoice.driverName }}</td><td class="hidden-sm-down"><span ng-show="invoice.status==2" class="label bold label-rounded label-default" ng-class="(invoice.status|typeColor:100)"> تم الخروج </span><span ng-show="invoice.status==1" class="label bold label-rounded label-default" ng-class="(invoice.status|typeColor:100)"> تم توزيع الكمية</span><span ng-show="invoice.status==0" class="label bold label-rounded label-default" ng-class="(invoice.status|typeColor:100)"> جديد</span></td><td class="hidden-sm-down" ng-show="listParams.withCount != 0 "><div class="row p-0 m-0"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div><div class="row p-0 m-0"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.invoiceCount" size="5" title="كبير"> {{invoice.invoiceCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.invoiceCountSmall" size="5" title="صغير"> {{invoice.invoiceCountSmall}} </label-value></div></td><td class="hidden-sm-down" ng-show="$root.canActive(methodName)"><change-status hide-title="1" item-id="invoice.id" ng-model="invoice.active" table="methodName"></change-status></td><td class="m-0 p-0"><div class="hidden-md-up col row m-0 p-0"><label-value class="col-lg-auto p-0" color="blue" full="true" ng-show="invoice.id" size="5" title="الرقم"> {{invoice.id}} </label-value><label-value class="col-lg-3 p-0" color="red" full="true" ng-show="invoice.customerName" size="5" title="{{$root.dashboardData.customerTypes[invoice.customerType].name}}"> {{invoice.customerName}} </label-value><label-value class="col-lg-3 p-0" color="green" full="true" ng-show="invoice.selectedType==\'driver\'" size="5" title="شاحنة المصنع"> {{invoice.driverCarName}} </label-value><label-value class="col-lg-2 p-0" color="teal" full="true" ng-show="invoice.driverName" size="5" title="السائق"> {{invoice.driverName}} </label-value><div class="col-lg-2 row p-0 m-0" ng-show="invoice.itemsCount || invoice.itemsCountSmall"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div><label-value color="deep-orange" ng-show="invoice.created_at" size="6" title="الوقت"> {{agoDate(invoice.created_at)}} </label-value><label-value color="red" ng-show="invoice.saleType" size="6" title="البيع"> {{$root.dashboardData.saleTypes[invoice.saleType].name}} </label-value><label-value color="red" size="6" title="الحالة"><span ng-show="invoice.status==2"> تم الخروج </span><span ng-show="invoice.status==1"> تم توزيع الكمية</span><span ng-show="invoice.status==0"> جديد</span></label-value></div><div class="col-lg-auto m-0 p-0"><div class="btn-group"><button class="w-100 btn btn-info dropdown-toggle" data-toggle="dropdown" ng-class="{\'btn-warning\':invoice.status==\'PLACED\' && invoice.status_id ==\'0\'}" type="button"> خيارات <span class="caret"></span></button><div class="dropdown-menu text-center" role="menu">\x3c!-- >--\x3e<button class="btn btn-success" ng-click="viewDetailsDialog(invoice.id)" style="margin:3px;width:90%">عرض <i class="fa fa-eye"></i></button><a class="btn btn-danger ng-scope" href="admin/report/invoiceDriver/{{invoice.uuid}}" ng-show="invoice.selectedType==\'driver\' && $root.can(\'sales.View\')" style="margin:3px;width:90%" target="_blank">فواتير البيع <i class="fa fa-file-invoice"></i></a><a class="btn btn-danger ng-scope" href="admin/report/sale/{{invoice.uuid}}" ng-show=" $root.can(\'sales.View\')" style="margin:3px;width:90%" target="_blank">طلب الدخول <i class="fa fa-file-invoice"></i></a><button class="btn btn-info" ng-if="$root.can(\'sales.addPriority\')" ng-click="openSelectModel(invoice,\'priority\',\'sales_priority_types\',\'الاولوية\')" style="margin:3px;width:90%">تغيير الاولوية <i class="fa fa-sort-amount-up"></i></button><a class="btn btn-success ng-scope" href="admin/accounting/itemsBalance/d/{{invoice.driver}}" ng-show=" $root.can(\'sales_customers.View\')" style="margin:3px;width:90%" target="_blank">رصيد الاسطوانات <i class="fa fa-battery-empty"></i></a><button class="btn btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales.Delete\')" style="margin:3px;width:90%"> حذف <i class="fa fa-trash-o"></i></button></div></div></div></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div>'),e.put("assets/views/sales_customers.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المحافظة</label><sc-select name="searchInput[\'city\']" ng-model="searchInput.city" placeholder="المحافظة" sc-options="item.id as item.name for item in filters.cities"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>النوع</label><sc-select name="searchInput[\'type\']" ng-model="searchInput.type" placeholder="النوع" sc-options="item.id as item.name for item in filters.sales_customer_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canPriority(methodName)"><label>الاولوية</label><sc-select name="searchInput[\'priority\']" ng-model="searchInput.priority" placeholder="الاولوية" sc-options="item.id as item.name for item in filters.sales_priority_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>تفعيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المحافظة</label><sc-select name="searchInput[\'city\']" ng-model="searchInput.city" placeholder="المحافظة" sc-options="item.id as item.name for item in filters.cities"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>النوع</label><sc-select name="searchInput[\'type\']" ng-model="searchInput.type" placeholder="النوع" sc-options="item.id as item.name for item in filters.sales_customer_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canPriority(methodName)"><label>الاولوية</label><sc-select name="searchInput[\'priority\']" ng-model="searchInput.priority" placeholder="الاولوية" sc-options="item.id as item.name for item in filters.sales_priority_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1" ng-show="$root.canActive(methodName)"><label>تفعيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="openAddModel(\'addCustomer\')" ng-show=" $root.can(\'sales_customers.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_customers.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><div class="btn pull-left btn-success card-block-input-item" ng-click="$root.printTable(\'.sales_customers_table\');">طباعة </div><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left ml-1"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><div class="pull-left ml-1"><input default group="methodName" ng-model="listParams.withCount" store-value="withCount" type="hidden"><check-field name="fullColor" ng-model="listParams.withCount">الارصدة </check-field></div><h3 class="card-title mb-2">{{phrase.sales_customers || \'العملاء / الموزعين\'}} ({{totalItems}})</h3><div class=""><table dir="rtl" class="sales_customers_table ezztable ezz-border-all table table-hover table-striped table-bordered" ezz-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info" ng-show="listParams.withCount != 0">الرصيد</th><th class="bg-light-info" ng-show="listParams.withCount != 0">عدد مبيعات</th><th class="bg-light-info" ng-show="listParams.withCount != 0">اجمالي مبيعات</th><th class="bg-light-info" ng-show="listParams.withCount != 0">مرتجع</th><th class="bg-light-info" ng-show="listParams.withCount != 0">اجمالي مرتجع</th><th class="bg-light-info no-print" ng-show="$root.canPriority(methodName)">الاولوية</th><th ng-show="$root.canActive(methodName)" class="bg-light-info no-print">تفعيل</th><th class="bg-light-info no-print">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" total-items="totalItems"><td>{{invoice.id }}</td><td><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.id,\'c\')"> {{invoice.name }} </a><span class="no-print" ng-if="$root.dashboardData.isSuper"> ({{invoice.user }})</span></td><td ng-show="listParams.withCount != 0"><span class="h5"><span style="white-space: nowrap" ng-show="invoice.balance" class="label bold label-rounded label-default" ng-class="(invoice.balance|balanceColor:200)"> {{invoice.balance|balanceNumber}}</span></span></td><td ng-show="listParams.withCount != 0">{{invoice.invItems|number }}</td><td ng-show="listParams.withCount != 0">{{invoice.invAmount|number }}</td><td ng-show="listParams.withCount != 0"><a href class="pointer" ng-click="$root.openWindowFull(\'admin/ifrs/action/statement/5\',{\'id\':invoice.id,\'t\':\'c\'})">{{invoice.backItems|number }}</a></td><td ng-show="listParams.withCount != 0">{{invoice.backAmount|number }}</td><td class="no-print" ng-show="$root.canPriority(methodName)"><span class="label bold label-rounded label-default" ng-class="(invoice.priority|priorityColor:600)"> {{$root.dashboardData.priorities[invoice.priority].name}}</span></td><td class="no-print" ng-show="$root.canActive(methodName)"><change-status item-id="invoice.id" ng-model="invoice.active" table="methodName" hide-title="1"></change-status></td><td class="no-print"><button class="btn btn-danger btn-sm" ng-click="$root.openAccountReport(invoice.id,\'customer\')" ng-show="$root.can(\'sales_customers.journalList\')">كشف حساب <i class="fa fa-dollar-sign"></i></button><div class="btn-group"><button style="margin:3px;width:90%" class="btn btn-info dropdown-toggle" data-toggle="dropdown" ng-class="{\'btn-warning\':invoice.status==\'PLACED\' && invoice.status_id ==\'0\'}" type="button"> خيارات <span class="caret"></span></button><div class="dropdown-menu text-center" role="menu"><button class="btn btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_customers.Edit\')" style="margin:3px;width:90%" title="تعديل" tooltip> تعديل <i class="fa fa-pencil"></i></button><button class="btn btn-success" ng-click="viewDetailsDialog(invoice.id)" style="margin:3px;width:90%">عرض <i class="fa fa-eye"></i></button><button class="btn btn-danger" ng-if=" 0&& $root.can(\'sales_customers.transferItemsBalance\')" ng-click="openTransferModel(invoice.id)" style="margin:3px;width:90%">تحويل اسطوانات <i class="fa fa-share"></i></button><button class="btn btn-info" ng-if="$root.can(\'sales_customers.addPriority\')" ng-click="openSelectModel(invoice,\'priority\',\'sales_priority_types\',\'الاولوية\')" style="margin:3px;width:90%">تغيير الاولوية <i class="fa fa-sort-amount-up"></i></button><button class="btn btn-info" ng-click="$root.openAccountReport(invoice.id,\'customer\')" ng-show=" $root.can(\'sales_customers.journalList\')" style="margin:3px;width:90%">كشف حساب Pdf <i class="fa fa-dollar-sign"></i></button><button class="btn btn-info" ng-click="$root.openInvoicesReport(invoice.id)" ng-show=" $root.can(\'sales_customers.journalList\')" style="margin:3px;width:90%">كشف الفواتير Pdf <i class="fa fa-dollar-sign"></i></button><a class="btn btn-success" href="admin/accounting/itemsBalance/c/{{invoice.id}}" ng-show=" 0&& $root.can(\'sales_customers.itemsBalance\')" style="margin:3px;width:90%" target="_blank">رصيد الاسطوانات <i class="fa fa-battery-empty"></i></a><a class="btn btn-primary ng-scope" href="admin/accounting/journalList/c/{{invoice.id}}" ng-show=" 0&& $root.can(\'sales_customers.journalList\')" style="margin:3px;width:90%" target="_blank">كشف الحساب Page <i class="fa fa-dollar-sign"></i></a><button class="btn btn-primary" ng-click="$root.openModelForItem(\'actionModel\',4)" style="margin:3px;width:90%">سند قبض <i class="fa fa-money-bill-alt"></i></button><button class="btn btn-danger" ng-click="$root.openModelForItem(\'actionModel\',17)" style="margin:3px;width:90%">سند صرف <i class="fa fa-money-bill-alt"></i></button><button class="btn btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_customers.Delete\')" style="margin:3px;width:90%"> حذف <i class="fa fa-trash-o"></i></button></div></div></td></tr><tr><th class="bg-light-info">-</th><th class="bg-light-info"><span class="no-print" ng-if="$root.dashboardData.isSuper"> ({{items|sum:\'user\'|number}})</span></th><th class="bg-light-info" ng-show="listParams.withCount != 0">{{items|sum:\'balance\'|number}}</th><th class="bg-light-info" ng-show="listParams.withCount != 0">{{items|sum:\'invItems\'|number}}</th><th class="bg-light-info" ng-show="listParams.withCount != 0">{{items|sum:\'invAmount\'|number}}</th><th class="bg-light-info" ng-show="listParams.withCount != 0">{{items|sum:\'backItems\'|number}}</th><th class="bg-light-info" ng-show="listParams.withCount != 0">{{items|sum:\'backAmount\'|number}}</th><th class="bg-light-info no-print" ng-show="$root.canPriority(methodName)">-</th><th ng-show="$root.canActive(methodName)" class="bg-light-info no-print">-</th><th class="bg-light-info no-print"></th></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_customers || \'العملاء / الموزعين\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_customers || \'العملاء / الموزعين\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-12" field-type="text" name="name" ng-model="form.name" required title="الاسم"></input-field><input-field class="col-lg-12" field-type="text" name="company" ng-model="form.company" title="المركز/الشركة"></input-field><input-field class="col-lg-6" field-type="text" name="mobile" ng-model="form.mobile" title="الموبايل"></input-field><input-field class="col-lg-6" field-type="text" name="phone" ng-model="form.phone" title="الهاتف"></input-field><input-field class="col-lg-6" field-type="text" name="address" ng-model="form.address" title="العنوان"></input-field><input-field class="col-lg-6" field-type="text" name="user" ng-model="form.user" title="العهدة السابقة"></input-field><select-ezz-field class="col-lg-6" name="city" ng-model="form.city" options="\'cities\'" title="المحافظة"></select-ezz-field><radios-field class="col-lg-6" name="type" ng-model="form.type" api="sales_customer_types" title="النوع"></radios-field><input-field class="col-lg-6" field-type="text" name="note" ng-model="form.note" title="ملاحظات"></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div>'),e.put("assets/views/sales_drivers.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الخاص بـ</label><sc-select name="searchInput[\'forId\']" ng-model="searchInput.forId" placeholder="الخاص بـ" sc-options="item.id as item.name for item in filters.sales_customers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>النوع</label><sc-select name="searchInput[\'type\']" ng-model="searchInput.type" placeholder="النوع" sc-options="item.id as item.name for item in filters.sales_transporter_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>تفعيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الخاص بـ</label><sc-select name="searchInput[\'forId\']" ng-model="searchInput.forId" placeholder="الخاص بـ" sc-options="item.id as item.name for item in filters.sales_customers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>النوع</label><sc-select name="searchInput[\'type\']" ng-model="searchInput.type" placeholder="النوع" sc-options="item.id as item.name for item in filters.sales_transporter_types"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>تفعيل</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'active\']" ng-model="searchInput.active" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="openAddModel(\'addDriver\')" ng-show=" $root.can(\'sales_drivers.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_drivers.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left ml-1"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_drivers || \'السائقين\'}} ({{totalItems}})</h3><div class="table-responsive"><table class="ezztable ezz-border-all table table-hover table-striped table-bordered responsive titleLabel style2"><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">الخاص بـ</th><th class="bg-light-info">النوع</th><th ng-show="$root.canActive(methodName)" class="bg-light-info">تفعيل</th><th class="bg-light-info">اسم السيارة</th><th class="bg-light-info">رقم السيارة</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" total-items="totalItems"><td data-title="الرقم">{{invoice.id }}</td><td data-title="الاسم"><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.id,\'d\')"> {{invoice.name }} </a></td><td data-title="الخاص بـ"><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.cId,\'c\')"> {{invoice.forId }} </a></td><td data-title="النوع">{{invoice.type }}</td><td ng-show="$root.canActive(methodName)" data-title="تفعيل"><change-status item-id="invoice.id" ng-model="invoice.active" table="methodName"></change-status></td><td data-title="اسم السيارة">{{invoice.carName }}</td><td data-title="رقم السيارة">{{invoice.carNo }} / {{invoice.carCityNo }}</td><td data-title="عمليات" class="text-center no-title"><button class="btn btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_drivers.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_drivers.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_drivers.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button><a class="btn btn-success btn-sm" href="admin/accounting/itemsBalance/d/{{invoice.id}}" ng-show=" 0&&$root.can(\'sales_drivers.itemsBalance\')" target="_blank">رصيد الاسطوانات <i class="fa fa-battery-empty"></i></a></td></tr><tr ng-show="!items.length"><td data-title=" " class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_drivers || \'السائقين\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_drivers || \'السائقين\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-12" field-type="text" name="name" ng-model="form.name" required title="الاسم"></input-field><radios-field class="col-lg-6" name="type" ng-model="form.type" api="sales_transporter_types" title="النوع"></radios-field><select-ezz-field add-model="addCustomer" can-add="$root.can(\'sales_customers.Add\')" ng-show="form.type==2" class="col-lg-6" name="forId" ng-model="form.forId" options="\'sales_customers\'" title="الخاص بـ"></select-ezz-field><input-field class="col-lg-6" field-type="text" name="carName" ng-model="form.carName" title="اسم السيارة"></input-field><number-field class="col-lg-6" field-type="integer" name="carNo" ng-model="form.carNo" title="رقم السيارة"></number-field><number-field class="col-lg-6" field-type="integer" name="carCityNo" ng-model="form.carCityNo" title="فاصله"></number-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div>'),e.put("assets/views/sales_exports.html",'<div class="row pt-2"></div><table class="ptable page-sticky w-100"><tr class="w-100"><th class="w-100 th-sticky" style="position:sticky; top: 40px; z-index:1"><div class="row m-0 mb-1 bg-white" ng-show="views.list"><div class="col-12 listContent"><div class="card mb-1"><div class="card-block pb-1"><add-sales-exports-v2 ng-if="pageType==\'cash\'" on-add="onAddDone" on-cancel="cancelAdd"></add-sales-exports-v2><add-sales-exports-v2-later ng-if="pageType==\'later\'" on-add="onAddDone" on-cancel="cancelAdd"></add-sales-exports-v2-later><add-sales-exports-empty ng-if="pageType==\'empty\'" on-add="onAddDone" on-cancel="cancelAdd"></add-sales-exports-empty></div></div></div></div></th></tr><tr><td><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="openAddModelFull(\'addSalesExports\')" ng-if="0 && $root.can(\'sales_exports.Add\')" title="اضافة" tooltip>اضافة </button><button ng-show="pageType==\'cash\'" class="btn pull-left btn-success card-block-input-item" ng-click="openAddModelFull(\'addSalesExportsV2\')" ng-if="$root.can(\'ifrs.addInvoiceCash\')" title="اضافة" tooltip>اضافة بيع نقد </button><button ng-show="pageType==\'later\'" class="btn pull-left btn-success card-block-input-item" ng-click="openAddModelFull(\'addSalesExportsV2Later\')" ng-if="$root.can(\'ifrs.addInvoiceLater\')" title="اضافة" tooltip>اضافة بيع اجل </button><button ng-show="pageType==\'empty\'" class="btn pull-left btn-success card-block-input-item" ng-click="openAddModelFull(\'addSalesExportsEmpty\')" ng-if="$root.can(\'ifrs.allowBroken\')" title="اضافة" tooltip>اضافة خروج فارغ </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_exports.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1"><select class="form-control custom-select input-sm" name="sortBy" ng-change="getResultsPage(1)" ng-model="listParams.sortBy" style="width: 100%"><option value="">-- فرز حسب --</option><option value="id desc">فرز حسب الاحدث</option><option value="id">فرز حسب الاقدم</option><option value="selectedType">فرز حسب النوع</option><option value="export_no">فرز طلب الخروج </option><option value="bill_id">فرز الفاتورة </option><option ng-if="$root.canPriority(methodName)" value="priority desc">فرز حسب الاولوية تصاعدي</option><option value="priority" ng-if="$root.canPriority(methodName)">فرز حسب الاولوية تنازلي</option><option value="active">فرز حسب التفعيل تصاعدي</option><option value="active desc">فرز حسب التفعيل تنازلي</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><div class="pull-left ml-1"><input default group="methodName" ng-model="listParams.withCount" store-value="withCount" type="hidden"><check-field name="fullColor" ng-model="listParams.withCount">عدد الاسطوانات </check-field></div><h3 ng-if="0" class="card-title mb-2">{{phrase.sales_exports || \'طلبات الخروج\'}} ({{totalItems}})</h3><h3 ng-show="pageType==\'empty\'" class="card-title mb-2">خروج فارغ ({{totalItems}})</h3><h3 ng-show="pageType==\'later\'" class="card-title mb-2">خروج/فواتير اجل ({{totalItems}})</h3><h3 ng-show="pageType==\'cash\'" class="card-title mb-2">خروج/فواتير نقد ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all table table-hover table-striped table-bordered"><thead><tr class="hidden-sm-down"><th class="bg-light-info">م</th><th class="bg-light-info">العميل</th><th class="bg-light-info">التاريخ</th><th class="bg-light-info">السائق</th><th class="bg-light-info">طلب الدخول</th><th class="bg-light-info">اذن الخروج</th><th class="bg-light-info">الفاتورة</th><th class="bg-light-info">نوع البيع</th><th class="bg-light-info" ng-show="listParams.withCount != 0">عدد الاسطوانات</th><th class="bg-light-info" ng-show="$root.canActive(methodName)">تفعيل</th><th ng-if="0" class="bg-light-info">عمليات</th><th class="bg-light-info">المستخدم</th><th class="bg-light-info">وقت وتاريخ الاضافة</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="$root.openModelViewer(\'viewExport\',invoice.id,\'تفاصيل اذن الخروج\')" total-items="totalItems"><td class="">{{$index+1+(pageMax*(cur_page-1))}} </td><td class="hidden-sm-down"><span class="label bold label-rounded label-default" ng-if="$root.canPriority(methodName)" ng-class="(invoice.priority|priorityColor:600)"> {{$root.dashboardData.priorities[invoice.priority].name}}</span>\x3c!-- > {{$root.dashboardData.exportTypes[invoice.selectedType].name}}</span>--\x3e</td><td class="hidden-sm-down"><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.forUser,\'c\')"> {{invoice.customerName }} </a></td><td class="hidden-sm-down"><span class="label bold label-rounded" ng-class="(invoice.add_at|daysColor:200)" ng-show="invoice.add_at"> {{invoice.add_at|dateSmallFormat}} </span></td><td class="hidden-sm-down"><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.driver,\'d\')"> {{invoice.driverName }} </a></td><td class="hidden-sm-down"> {{invoice.receive_no}} <small ng-if="invoice.add_type===6">(مكرر)</small></td><td class="hidden-sm-down"> {{invoice.export_no}} </td><td class="hidden-sm-down"> {{invoice.bill_id}} </td><td class="hidden-sm-down"><span ng-show="invoice.saleType" class="label bold label-rounded label-default" ng-class="(invoice.saleType|priorityColor:100)"> {{$root.dashboardData.saleTypes[invoice.saleType].name}}</span></td><td class="hidden-sm-down" ng-show="listParams.withCount != 0 "><div class="row p-0 m-0"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div></td><td class="hidden-sm-down" ng-show="$root.canActive(methodName)"><change-status hide-title="1" item-id="invoice.id" ng-model="invoice.active" table="methodName"></change-status></td><td class="hidden-md-up m-0 p-0"><div class="hidden-md-up col row m-0 p-0"><label-value class="col-lg-auto p-0" color="blue" full="true" ng-show="invoice.id" size="5" title="الرقم"> {{invoice.id}} </label-value><label-value class="col-lg-3 p-0" color="red" full="true" ng-show="invoice.customerName" size="5" title="{{$root.dashboardData.customerTypes[invoice.customerType].name}}"> {{invoice.customerName}} </label-value><label-value class="col-lg-3 p-0" color="green" full="true" ng-show="invoice.selectedType==\'driver\'" size="5" title="شاحنة المصنع"> {{invoice.driverCarName}} </label-value><label-value class="col-lg-2 p-0" color="teal" full="true" ng-show="invoice.driverName" size="5" title="السائق"> {{invoice.driverName}} </label-value><div class="col-lg-2 row p-0 m-0" ng-show="invoice.itemsCount || invoice.itemsCountSmall"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div><label-value color="deep-orange" ng-show="invoice.created_at" size="6" title="الوقت"> {{agoDate(invoice.created_at)}} </label-value><label-value color="red" ng-show="invoice.saleType" size="6" title="البيع"> {{$root.dashboardData.saleTypes[invoice.saleType].name}} </label-value><label-value color="red" size="6" title="الحالة"><span ng-show="invoice.status==2"> تم الدخول </span><span ng-show="invoice.status==1"> تم دخول العميل</span><span ng-show="invoice.status==0"> جديد</span></label-value></div><div ng-if="0" class="col-lg-auto m-0 p-0"><div class="btn-group"><button class="w-100 btn btn-info dropdown-toggle" data-toggle="dropdown" ng-class="{\'btn-warning\':invoice.status==\'PLACED\' && invoice.status_id ==\'0\'}" type="button"> خيارات <span class="caret"></span></button><div class="dropdown-menu text-center" role="menu">\x3c!-- >--\x3e<button class="btn btn-success" ng-click="$root.openModelViewer(\'viewExport\',invoice.id,\'تفاصيل اذن الخروج\')" style="margin:3px;width:90%">عرض <i class="fa fa-eye"></i></button><a class="btn btn-danger ng-scope" href="admin/report/invoice/{{invoice.uuid}}" ng-show="invoice.selectedType!=\'driver\' && $root.can(\'sales_exports.View\')" style="margin:3px;width:90%" target="_blank">فاتورة البيع <i class="fa fa-file-invoice"></i></a><a class="btn btn-danger ng-scope" href="admin/report/exports/{{invoice.uuid}}" ng-show=" $root.can(\'sales_exports.View\')" style="margin:3px;width:90%" target="_blank">اذن الخروج <i class="fa fa-file-invoice"></i></a><button ng-if="$root.can(\'sales_receives.addDriverReceive\') && invoice.selectedType==\'driver\' && invoice.status==0" ng-show="invoice.status==0" class="btn btn-info" ng-click="openAddModelFull(\'addSalesReceives\',invoice)" style="margin:3px;width:90%">اضافة طلب الدخول <i class="fa fa-plus"></i></button><button class="btn btn-info" ng-show="$root.can(\'sales_exports.exportBack\')" ng-click="openEditCheckModel(\'itemsBackModel\',invoice.id,invoice)" style="margin:3px;width:90%">مرتجع مبيعات <i class="fa fa-sort-amount-up"></i></button><button class="btn btn-info" ng-show="$root.can(\'sales_exports.addPriority\')" ng-click="openSelectModel(invoice,\'priority\',\'sales_priority_types\',\'الاولوية\')" style="margin:3px;width:90%">تغيير الاولوية <i class="fa fa-sort-amount-up"></i></button><a class="btn btn-success ng-scope" href="admin/accounting/itemsBalance/c/{{invoice.forUser}}" ng-if="invoice.forUser" ng-show="0&& $root.can(\'sales_customers.itemsBalance\')" style="margin:3px;width:90%" target="_blank">رصيد الاسطوانات <i class="fa fa-battery-empty"></i></a><button class="btn btn-danger" ng-if="invoice.forUser" ng-click="$root.openModelForItem(\'actionModel\',4)" style="margin:3px;width:90%">سند قبض <i class="fa fa-money-bill-alt"></i></button><button class="btn btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_exports.Delete\')" style="margin:3px;width:90%"> حذف <i class="fa fa-trash-o"></i></button></div></div></div><div class="hidden-md-up col bg-blue-100 my-1" style="width: 100%;height: 2px"></div></td><td><strong style="white-space: nowrap"> {{invoice.byUser}}</strong></td><td><strong style="white-space: nowrap"> {{invoice.created_at |dateTimeFormat}}</strong></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div></td></tr></table><div class="row m-0 mb-1" ng-if="showSearch" ng-show="views.list"><exports-search class="col-12 listContent" on-clear="clearSearch" on-hide="hideSearch" on-search="runSearch" form="searchInput"></exports-search></div><div class="row m-0" ng-if="views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_exports || \'طلبات الخروج\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_exports || \'طلبات الخروج\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><select-ezz-field can-add="$root.can(\'sales_customers.Add\')" class="col-lg-12" name="forUser" ng-model="form.forUser" options="\'sales_customers\'" required title="العميل"></select-ezz-field><select-ezz-field can-add="$root.can(\'sales_drivers.Add\')" class="col-lg-12" name="driver" ng-model="form.driver" options="\'sales_drivers\'" title="السائق"></select-ezz-field><input-field class="col-lg-6" field-type="integer" name="receive_id" ng-model="form.receive_id" title="رقم طلب الدخول"></input-field><input-field class="col-lg-6" field-type="integer" name="bill_id" ng-model="form.bill_id" title="رقم فاتورة البيع"></input-field><input-field class="col-lg-6" field-type="integer" name="receive_no" ng-model="form.receive_no" title="رقم طلب الدخول يدوي"></input-field><input-field class="col-lg-6" field-type="integer" name="export_no" ng-model="form.export_no" title="رقم اذن الخروج يدوي"></input-field><radios-field class="col-lg-6" name="saleType" ng-model="form.saleType" options="$root.dashboardData.saleTypes" title="نوع البيع"></radios-field><div class="col-lg-12 mt-2"><label class="col-auto control-label mb-2">قائمة المنتجات</label><strong class="label label-danger">تنبيه: يتم تحديد العدد بدون التالف (الاسطوانات المعطله)</strong><row-list ng-model="form.items_list" view-mode="true" view-price="1"></row-list></div><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div>'),e.put("assets/views/sales_filling_day.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الفترة</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'part\']" ng-model="searchInput.part" type="radio" value="AM"><span class="custom-control-indicator"></span><span class="custom-control-description"> صباحا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'part\']" ng-model="searchInput.part" type="radio" value="PM"><span class="custom-control-indicator"></span><span class="custom-control-description"> مسائا</span></label></div></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المستلم 1</label><sc-select name="searchInput[\'user\']" ng-model="searchInput.user" placeholder="المستلم 1" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المستلم 2</label><sc-select name="searchInput[\'subUser\']" ng-model="searchInput.subUser" placeholder="المستلم 2" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الفترة</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'part\']" ng-model="searchInput.part" type="radio" value="AM"><span class="custom-control-indicator"></span><span class="custom-control-description"> صباحا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'part\']" ng-model="searchInput.part" type="radio" value="PM"><span class="custom-control-indicator"></span><span class="custom-control-description"> مسائا</span></label></div></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المستلم 1</label><sc-select name="searchInput[\'user\']" ng-model="searchInput.user" placeholder="المستلم 1" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المستلم 2</label><sc-select name="searchInput[\'subUser\']" ng-model="searchInput.subUser" placeholder="المستلم 2" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'sales_filling_day.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_filling_day.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="min-width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_filling_day || \'الانتاج\'}} ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all table table-hover table-striped table-bordered" ezz-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">اليوم</th><th class="bg-light-info">الفترة</th><th class="bg-light-info">المستلم 1</th><th class="bg-light-info">المستلم 2</th><th class="bg-light-info">كبير / صغير</th><th class="bg-light-info">ملاحظات</th><th class="bg-light-info">عمليات</th><th class="bg-light-info">المستخدم</th><th class="bg-light-info">وقت وتاريخ الاضافة</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="openChildrenFor(invoice.id,\'sales_filling_networks\',\'كشف التعبئة يوم :\'+(invoice.day|dateSmallFormat))" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.day|dateSmallFormat }}</td><td><list-item-name ng-model="invoice.part" list="$root.dashboardData.timesTypes"></list-item-name></td><td>{{invoice.user}}</td><td>{{invoice.subUser }}</td><td dir="ltr"> {{invoice.itemsCountSmall}} / {{invoice.itemsCountBig}} </td><td dir="ltr"> {{invoice.note}} </td><td><button class="btn btn-success mb-1" ng-click="openChildrenFor(invoice.id,\'sales_filling_networks\',\'كشف التعبئة يوم :\'+(invoice.day|dateSmallFormat))" title="عرض القراءات " tooltip><i class="fa fa-eye"></i> كشف التعبئة </button><button class="btn btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_filling_day.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_filling_day.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button></td><td><strong style="white-space: nowrap"> {{invoice.byUser}}</strong></td><td><strong style="white-space: nowrap"> {{invoice.created_at |dateTimeFormat}}</strong></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_filling_day || \'الانتاج\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_filling_day || \'الانتاج\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><div class="col-lg-6 px-0"><ezz-date-edit title="اليوم" ng-model="form.day"></ezz-date-edit></div><radios-field class="col-lg-6" name="saleType" ng-model="form.part" required options="$root.dashboardData.timesTypes" title="الفترة"></radios-field><select-small-field class="col-lg-6" name="user" ng-model="form.user" options="\'User\'" required title="المستلم 1"></select-small-field><select-small-field class="col-lg-6" name="subUser" ng-model="form.subUser" options="\'User\'" title="المستلم 2"></select-small-field><select-small-field class="col-lg-6" name="getter" ng-model="form.getter" options="\'User\'" title="المستلم من اعمال الشبكة"></select-small-field><select-small-field class="col-lg-6" name="checker" ng-model="form.checker" options="\'User\'" title="مشرف الشبة"></select-small-field><input-field class="col-lg-6" field-type="text" name="manger" ng-model="form.manger" title="مهندس المصنع"></input-field><input-autosize-field class="col-lg-12" field-type="text" name="note" ng-model="form.note" title="ملاحظات"></input-autosize-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' sales_filling_day.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/sales_filling_items.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>العميل</label><sc-select name="searchInput[\'customer\']" ng-model="searchInput.customer" placeholder="العميل" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'sales_customers\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المصنع</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'is_factory\']" ng-model="searchInput.is_factory" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'is_factory\']" ng-model="searchInput.is_factory" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>العميل</label><sc-select name="searchInput[\'customer\']" ng-model="searchInput.customer" placeholder="العميل" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'sales_customers\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>المصنع</label><div class="form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'is_factory\']" ng-model="searchInput.is_factory" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="searchInput[\'is_factory\']" ng-model="searchInput.is_factory" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'sales_filling_items.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_filling_items.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_filling_items || \'اسطوانات الشبكة\'}} ({{totalItems}})</h3><div class="table-responsive"><table class="ezztable ezz-border-all table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">العميل</th><th class="bg-light-info">المصنع</th><th class="bg-light-info">صغير</th><th class="bg-light-info">كبير</th><th class="bg-light-info">الشبكة</th><th class="bg-light-info">ملاحظات</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.customer }}</td><td>{{invoice.is_factory }}</td><td>{{invoice.small }}</td><td>{{invoice.big }}</td><td>{{invoice.forId }}</td><td>{{invoice.note }}</td><td><button class="btn btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_filling_items.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_filling_items.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_filling_items.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_filling_items || \'اسطوانات الشبكة\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_filling_items || \'اسطوانات الشبكة\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><select-sync-field2 class="col-lg-6" name="customer" ng-model="form.customer" options="\'sales_customers\'" required title="العميل"></select-sync-field2><div class="col-lg-6 mt-2"><div class="col-lg-12 row" ng-class="{\'has-danger\': addForm.is_factory.$invalid}"><label class="col-auto control-label">المصنع* </label><div class="col form-check"><label class="custom-control custom-radio"><input class="custom-control-input" name="is_factory" ng-model="form.is_factory" type="radio" value="0"><span class="custom-control-indicator"></span><span class="custom-control-description"> لا</span></label><label class="custom-control custom-radio"><input class="custom-control-input" name="is_factory" ng-model="form.is_factory" type="radio" value="1"><span class="custom-control-indicator"></span><span class="custom-control-description"> نعم</span></label></div></div></div><input-field class="col-lg-6" field-type="text" name="small" ng-model="form.small" required title="صغير"></input-field><input-field class="col-lg-6" field-type="text" name="big" ng-model="form.big" required title="كبير"></input-field><input-field class="col-lg-6" field-type="text" name="note" ng-model="form.note" required title="ملاحظات"></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' sales_filling_items.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/sales_filling_networks.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-if="isViewListItems" class="btn pull-left btn-success card-block-input-item" ng-click="openAddModel(\'addFilling\',$ctrl.forId,$ctrl.forModel)" ng-show=" $root.can(\'sales_filling_networks.Add\')" title="" tooltip>اضافة شبكة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_filling_networks.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_filling_networks || \'الشبكة\'}} ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all table table-hover table-striped table-bordered" ezz-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">اليوم</th><th class="bg-light-info">اضيف بواسطة</th><th class="bg-light-info">من</th><th class="bg-light-info">الى</th><th class="bg-light-info">كبير/صغير</th><th class="bg-light-info">العملاء</th><th class="bg-light-info">عمليات</th><th class="bg-light-info">المستخدم</th><th class="bg-light-info">وقت وتاريخ الاضافة</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="openAddModel(\'addFilling\',invoice.forId,$ctrl.forModel,invoice.id)" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.forId }}</td><td>{{invoice.add_by }}</td><td>{{invoice.from |objToTime}}</td><td>{{invoice.to |objToTime}}</td><td dir="ltr"> {{invoice.itemsCountSmall}} / {{invoice.itemsCountBig}} </td><td><table class="table bg-danger p-0 m-0"><tbody><tr ng-repeat="row in invoice.items"><td style="border: 0; width: 60%"><div ng-if="row.is_factory">المصنع</div><div ng-if="!row.is_factory"> {{row.name}} <view-name ng-if="!row.name" ng-model="row.customer" options="\'sales_customers\'"></view-name></div><div ng-if="row.driver"><view-name ng-if="!row.driver" ng-model="row.driver" options="\'sales_drivers\'"></view-name></div></td><td style="border: 0; width: 20%"> {{row.count}} </td><td style="border: 0;width: 20%"> {{$root.dashboardData.itemsSmall[row.itemId].name}} </td></tr></tbody></table></td><td><button class="btn btn-info" ng-click="openAddModel(\'addFilling\',invoice.forId,$ctrl.forModel,invoice.id)" ng-show=" $root.can(\'sales_filling_networks.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i> تعديل/عرض </button><button class="btn btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_filling_networks.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_filling_networks.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td><td><strong style="white-space: nowrap"> {{invoice.byUser}}</strong></td><td><strong style="white-space: nowrap"> {{invoice.created_at |dateTimeFormat}}</strong></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_filling_networks || \'الشبكة\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_filling_networks || \'الشبكة\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-6" field-type="text" name="forId" ng-model="form.forId" required title="اليوم"></input-field><input-field class="col-lg-6" field-type="text" name="add_at" ng-model="form.add_at" required title="تاريخ الاضافة"></input-field><input-field class="col-lg-6" field-type="text" name="add_by" ng-model="form.add_by" required title="اضيف بواسطة"></input-field><input-field class="col-lg-6" field-type="text" name="from" ng-model="form.from" required title="من"></input-field><input-field class="col-lg-6" field-type="text" name="fromAt" ng-model="form.fromAt" required title="fromAt"></input-field><input-field class="col-lg-6" field-type="text" name="to" ng-model="form.to" required title="الى"></input-field><input-field class="col-lg-6" field-type="text" name="toAt" ng-model="form.toAt" required title="toAt"></input-field><input-field class="col-lg-6" field-type="text" name="type" ng-model="form.type" required title="النوع"></input-field><input-field class="col-lg-6" field-type="text" name="note" ng-model="form.note" required title="ملاحظات"></input-field><input-field class="col-lg-6" field-type="text" name="status" ng-model="form.status" required title="الحالة"></input-field><input-field class="col-lg-6" field-type="text" name="byUser" ng-model="form.byUser" required title="المستخدم"></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' sales_filling_networks.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div>'),e.put("assets/views/sales_invoices.html",'<div class="row pt-2"></div><div class="row m-0 mb-1" ng-if="showSearch" ng-show="views.list"><receives-search class="col-12 listContent" on-clear="clearSearch" on-hide="hideSearch" on-search="runSearch" form="searchInput"></receives-search></div><div class="row" ng-show="views.list" arrow-selector><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-primary card-block-input-item" ng-click="openAddModelFull(\'addSalesInvoice\')" ng-show=" $root.can(\'sales_invoices.addOldInvoice\') && $root.config(\'old_invoices\')" title="اضافة" tooltip>اضافة الفواتير القديمة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_invoices.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button>\x3c!-- >closePanel--\x3e<button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item no-print" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="no-print pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1"><select class="no-print form-control custom-select input-sm" name="sortBy" ng-change="getResultsPage(1)" ng-model="listParams.sortBy" style="width: 100%"><option value="">-- فرز حسب --</option><option value="add_at desc">فرز حسب الاحدث</option><option value="add_at">فرز حسب الاقدم</option><option value="saleType">فرز حسب النوع</option><option value="saleType desc">فرز حسب النوع تنازلي</option><option value="bill_id">فرز حسب رقم الفاتورة</option><option value="bill_id desc">فرز حسب رقم الفاتورة تنازلي</option></select></div><div class="no-print pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_invoices || \'الفواتير\'}} ({{totalItems}})</h3><div class="table-responsive"><table class="ezztable ezz-border-all table table-hover table-striped table-bordered"><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">العميل</th><th class="bg-light-info">الطلب</th><th class="bg-light-info">نوع البيع</th><th class="bg-light-info">رقم الفاتورة</th><th class="bg-light-info">التاريخ</th><th class="bg-light-info">كبير \\ صغير</th><th class="bg-light-info">الاجمالي</th><th class="bg-light-info">المستخدم</th><th class="bg-light-info no-print">عمليات</th></tr></thead><tbody><tr></tr><tr ng-class="{\'selected-info\':selectedRow==$index}" dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-click="selectRow($index)" ng-dblclick="viewDetailsDialog(invoice.id)" total-items="totalItems"><td>{{$index+1}}</td><td>{{invoice.id }}</td><td>{{invoice.forUser }}</td><td>{{invoice.forId }}</td><td>{{invoice.saleType }}</td><td class="" ng-class="{\'bg-danger\':((invoice.bill_id-1)!=items[$index-1].bill_id) && listParams.sortBy==\'bill_id\'}"> {{invoice.bill_id }} <span ng-show="(invoice.bill_id|isStartBook)"> ({{invoice.bill_id|isStartBook}})</span></td><td>{{invoice.add_at|dateSmall}}</td><td><div class="row p-0 m-0"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div></td><td>{{invoice.amount|number}}</td><td>{{invoice.byUser }}</td><td class="no-print"><button class="btn btn-circle btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_invoices.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_invoices.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_invoices.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="10">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_invoices || \'الفواتير\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_invoices || \'الفواتير\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><select-ezz-field ng-if="!form.transaction||$root.dashboardData.isSuper" add-model="addCustomer" can-add="$root.can(\'sales_customers.Add\')" ng-model="form.forUser" class="col-lg-4" view-mode="true" options="\'sales_customers\'" title="العميل"></select-ezz-field><input-field ng-if="!form.transaction||$root.dashboardData.isSuper" class="col-lg-3" field-type="integer" name="bill_id" ng-model="form.bill_id" required title="رقم الفاتورة"></input-field><show-field class="col-lg-2 col-sm-4" title="نوع البيع">{{$root.dashboardData.saleTypes[form.saleType].name}} </show-field><div class="col-lg-3 px-0" ng-if="!form.transaction||$root.dashboardData.isSuper"><ezz-date-edit title="تاريخ الفاتورة" ng-model="form.add_at"></ezz-date-edit></div><input-autosize-field ng-if="!form.transaction||$root.dashboardData.isSuper" class="col-lg-7" field-type="text" name="note" ng-model="form.note" title="ملاحظات"></input-autosize-field><div ng-if="(!form.transaction && !form.forId)||$root.dashboardData.isSuper" class="col-lg-12 mt-2 px-0"><row-list-invoice ng-model="form.items" view-price="true"></row-list-invoice>\x3c!-- ></edit-invoice-list>--\x3e<row-list can-add="false" auto="false" ng-if="$root.dashboardData.isFact" ng-model="form.items" view-price="true"></row-list></div><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div><panel ng-if="$root.dashboardData.isFact&&form.forId" default class="mt-2 row col-12 p-0 m-0" header="bg-blue-100" border=""><panel-title> التفاصيل: </panel-title><panel-body class="col-lg-12 p-0 m-0"><view-receive item="form.forId" by-export="true"></view-receive></panel-body></panel></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' sales_invoices.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/sales_reader_items.html",'<div class="row pt-2"></div><div class="row m-0" ng-if="showSearch" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الطرمبة</label><sc-select name="searchInput[\'forId\']" ng-model="searchInput.forId" placeholder="الطرمبة" sc-options="item.id as item.name for item in filters.sales_readers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بواسطه</label><sc-select name="searchInput[\'read_by\']" ng-model="searchInput.read_by" placeholder="بواسطه" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الفتره</label><sc-select name="searchInput[\'dateRange\']" ng-model="searchInput.dateRange" placeholder="الفتره" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'dateRange\')"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الطرمبة</label><sc-select name="searchInput[\'forId\']" ng-model="searchInput.forId" placeholder="الطرمبة" sc-options="item.id as item.name for item in filters.sales_readers"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بواسطه</label><sc-select name="searchInput[\'read_by\']" ng-model="searchInput.read_by" placeholder="بواسطه" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'User\', searchText, page)"></sc-select></div><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>الفتره</label><sc-select name="searchInput[\'dateRange\']" ng-model="searchInput.dateRange" placeholder="الفتره" sc-options="item.id as item.name for item in EzzFilter.searchAsync(\'dateRange\')"></sc-select></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'sales_reader_items.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_reader_items.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_reader_items || \'قرائات الطرمبة\'}} ({{totalItems}})</h3><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered titleLabel style2" ezz-responsive-table><thead><tr><th class="bg-light-info">الطرمبة</th><th class="bg-light-info">القراءة</th><th class="bg-light-info"> التاريخ</th><th class="bg-light-info">بواسطه</th><th class="bg-light-info">ملاحظات</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" total-items="totalItems"><td><small>{{invoice.forId }}</small></td><td><div class="row p-0 m-0" ng-if="invoice.type==0"><label-value class="col-lg-12 p-0" color="teal" full="true" size="5" title="القرائة"> {{invoice.last_read|number:2}} </label-value></div><div class="row p-0 m-0" ng-if="invoice.type==1 ||invoice.type==2"><label-value class="col-lg-6 p-0" color="teal" full="true" size="5" title="من"> {{invoice.last_read|number:2}} </label-value><label-value class="col-lg-6 p-0" color="blue" full="true" size="5" title="الى"> {{invoice.new_read|number:2}} </label-value><label-value class="col-lg-12 p-0" color="red" full="true" size="5" title="الاستهلاك "> {{invoice.used|number:2}} </label-value></div></td><td><div class="row p-0 m-0" ng-if="invoice.type==2 ||invoice.type==0"><label-value class="col-lg-12 p-0" color="yellow" full="true" size="5" title="التاريخ"> {{invoice.read_at|dateFormat}} </label-value></div><div class="row p-0 m-0" ng-if="invoice.type==1"><label-value class="col-6 p-0" color="teal" full="true" size="5" title="من "> {{invoice.last_read_at|dateFormat}} </label-value><label-value class="col-6 p-0" color="blue" full="true" size="5" title="الى "> {{invoice.read_at|dateFormat}} </label-value><label-value class="col-lg-12 p-0" color="red" full="true" size="6" title="فارق التاريخ"> {{invoice.read_at|dateDif:invoice.last_read_at}} </label-value></div></td><td><small>{{invoice.read_by }}</small></td><td><small>{{invoice.note }}</small></td><td><button class="btn btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_reader_items.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_reader_items.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_reader_items.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_reader_items || \'قرائات الطرمبة\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_reader_items || \'قرائات الطرمبة\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><select-sync-field2 class="col-lg-12" name="forId" ng-model="form.forId" options="\'sales_readers\'" required title="الطرمبة"></select-sync-field2><input-field class="col-lg-6" field-type="datetime" name="last_read" ng-model="form.last_read" required title="من قرائة"></input-field><input-field class="col-lg-6" field-type="datetime" name="new_read" ng-model="form.new_read" required title="الى قراءة"></input-field><input-field class="col-lg-6" field-type="text" name="used" ng-model="form.used" required title="الاستهلاك"></input-field><input-field class="col-lg-6" field-type="datetime" name="last_read_at" ng-model="form.last_read_at" required title="من تاريخ"></input-field><input-field class="col-lg-6" field-type="datetime" name="read_at" ng-model="form.read_at" required title="الى تاريخ"></input-field><select-sync-field2 class="col-lg-6" name="read_by" ng-model="form.read_by" options="\'User\'" required title="بواسطه"></select-sync-field2><input-field class="col-lg-6" field-type="text" name="used_other" ng-model="form.used_other" required title="استهلاكات اخرى"></input-field><input-field class="col-lg-6" field-type="text" name="used_cars" ng-model="form.used_cars" required title="استهلاك الدينات"></input-field><input-field class="col-lg-6" field-type="text" name="other_note" ng-model="form.other_note" required title="توضيح الاستهلاكات الاخرى"></input-field><input-field class="col-lg-12" field-type="text" name="note" ng-model="form.note" title="ملاحظات"></input-field><input-field class="col-lg-6" field-type="text" name="type" ng-model="form.type" title="النوع"></input-field><input-field class="col-lg-6" field-type="text" name="status" ng-model="form.status" title="الحالة"></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' sales_reader_items.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/sales_readers.html",'<div class="row pt-2"></div><div class="row"></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'sales_readers.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_readers.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.sales_readers || \'الطرمبات\'}} ({{totalItems}})</h3><div class=""><table class="ezztable ezz-border-all ezz-border table table-hover table-striped table-bordered" ezz-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">الاسم</th><th class="bg-light-info">اخر قرائة</th><th class="bg-light-info">التاريخ</th><th class="bg-light-info">ملاحظات</th><th ng-show="$root.canActive(methodName)" class="bg-light-info">تفعيل</th><th style="width: 20%" class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" total-items="totalItems"><td>{{invoice.id }}</td><td><label-value class="col-lg-12 p-0" color="teal" full="true" size="5" title="{{invoice.id}}"> {{invoice.name}} </label-value></td><td><div class="row p-0 m-0" ng-if="invoice.type==0"><label-value class="col-lg-12 p-0" color="teal" full="true" size="5" title="القرائة"> {{invoice.last_read|number:2}} </label-value></div><div class="row p-0 m-0" ng-if="invoice.type==1 ||invoice.type==2"><label-value class="col-lg-12 p-0" color="teal" full="true" size="5" title="من قرائة"> {{invoice.last_read|number:2}} </label-value><label-value class="col-lg-12 p-0" color="blue" full="true" size="5" title="الى قرائة"> {{invoice.new_read|number:2}} </label-value><label-value class="col-lg-12 p-0" color="red" full="true" size="5" title="الاستهلاك "> {{invoice.used|number:2}} </label-value></div></td><td><div class="row p-0 m-0" ng-if="invoice.type==2 ||invoice.type==0"><label-value class="col-lg-12 p-0" color="teal" full="true" size="6" title="التاريخ"> {{invoice.read_at|dateFormat}} </label-value></div><div class="row p-0 m-0" ng-if="invoice.type==1"><label-value class="col-lg-12 p-0" color="teal" full="true" size="6" title="من تاريخ"> {{invoice.last_read_at|dateFormat}} </label-value><label-value class="col-lg-12 p-0" color="blue" full="true" size="6" title="الى تاريخ"> {{invoice.read_at|dateFormat}} </label-value><label-value class="col-lg-12 p-0" color="red" full="true" size="6" title="فارق التاريخ"> {{invoice.read_at|dateDif:invoice.last_read_at}} </label-value></div></td><td> {{invoice.note}} </td><td ng-show="$root.canActive(methodName)"><change-status item-id="invoice.id" ng-model="invoice.active" table="methodName"></change-status></td><td class="text-center no-title"><button class="btn btn-sm btn-info mb-1" ng-click="edit(invoice.id)" ng-show=" $root.can(\'sales_readers.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i> تعديل </button><button class="btn btn-sm btn-success mb-1" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'sales_readers.View\')" title="عرض" tooltip><i class="fa fa-eye"></i> عرض </button><button class="btn btn-sm btn-success mb-1" ng-click="openChildrenFor(invoice.id,\'sales_reader_items\',\'قرائات الطرمبة :\'+invoice.name)" ng-show=" $root.can(\'sales_reader_items.View\')" title="عرض القراءات " tooltip><i class="fa fa-eye"></i> عرض القراءات </button><button class="btn btn-sm btn-danger mb-1" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_readers.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i> حذف </button><button class="btn btn-sm btn-primary mb-1" ng-click="openAddModel(\'addOilRead\',invoice.id)" ng-show=" $root.can(\'sales_readers.addOilRead\')" title="اضافة" tooltip>قراءة العداد </button><button class="btn btn-sm btn-danger mb-1" ng-click="openAddModel(\'addOilReadOther\',invoice.id)" ng-show=" $root.can(\'sales_readers.addOilReadOther\')" title="استخدام خارجي" tooltip>استخدام خارجي </button></td></tr><tr ng-show="!items.length"><td data-title=" " class="noTableData" colspan="8">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_readers || \'الطرمبات\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_readers || \'الطرمبات\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-12" field-type="text" name="name" ng-model="form.name" required title="الاسم"></input-field><number-field ng-if="views.add" class="col-lg-6" field-type="number" name="new_read" ng-model="form.new_read" required title="القراءة الحاليه"></number-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' sales_readers.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/sales_receives.html",'<div class="row pt-2"></div><div class="row m-0 mb-1 bg-white" ng-if="showAdd" ng-show="views.list"><div class="col-12 listContent"><div class="card mb-1"><div class="card-block pb-1"><add-receive on-add="onAddDone" on-cancel="cancelAdd"></add-receive></div></div></div></div><div class="row m-0 mb-1" ng-if="showSearch" ng-show="views.list"><receives-search class="col-12 listContent" on-clear="clearSearch" on-hide="hideSearch" on-search="runSearch" form="searchInput"></receives-search></div><div class="row m-0" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block p-0 m-0" dir="rtl"><button class="btn pull-left btn-info card-block-input-item" ng-click="showAdd=1" ng-show=" $root.can(\'sales_receives.Add\')">اضافة طلب دخول </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'sales_receives.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><div ng-if="0" class="btn pull-left btn-success card-block-input-item" ng-click="$root.printTable(\'.sales_receives_table\');">طباعة </div><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left no-print"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-0"><select class="form-control custom-select input-sm" name="sortBy" ng-change="getResultsPage(1)" ng-model="listParams.sortBy" style="width: 100%"><option value="">-- فرز حسب --</option><option value="id desc">فرز حسب الاحدث</option><option value="id">فرز حسب الاقدم</option><option value="selectedType">فرز حسب النوع</option><option value="status">فرز حسب الحالة</option><option value="receive_no">فرز حسب طلب الدخول</option><option value="export_no">فرز حسب طلب الخروج</option><option value="bill_id">فرز حسب الفاتورة</option><option value="add_at">فرز حسب تاريخ الدخول</option><option value="add_at_desc">فرز حسب تاريخ الدخول تصاعدي</option><option value="export_add_at">فرز حسب تاريخ الخروج</option><option value="priority desc" ng-show="$root.canPriority(methodName)"> فرز حسب الاولوية تصاعدي</option><option value="priority" ng-show="$root.canPriority(methodName)"> فرز حسب الاولوية تنازلي</option><option ng-show="$root.canActive(methodName)" value="active">فرز حسب التفعيل تصاعدي</option><option ng-show="$root.canActive(methodName)" value="active desc">فرز حسب التفعيل تنازلي</option></select></div><div class="pull-left ml-1" style="width: 20%" ng-show="$root.can(\'sales_receives.searchInPage\')"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><div class="pull-left ml-1"><input default group="methodName" ng-model="listParams.withCount" store-value="withCount" type="hidden"><check-field name="fullColor" ng-model="listParams.withCount">عدد الاسطوانات </check-field></div><h3 class="card-title mb-2">{{phrase.sales_receives || \'طلبات الدخول\'}} ({{totalItems}})</h3><div class=""><table dir="rtl" class="sales_receives_table ezztable ezz-border-all table table-hover table-striped table-bordered"><thead><tr class=""><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">العميل</th><th class="bg-light-info">السائق</th><th class="bg-light-info">التاريخ</th><th class="bg-light-info">طلب الدخول</th><th ng-if="0" class="bg-light-info">فاتورة البيع</th><th class="bg-light-info" ng-show="listParams.withCount != 0">اسطوانات الدخول</th><th class="bg-light-info" ng-if="0">طلب الخروج</th><th class="bg-light-info" ng-if="0">اسطوانات الخروج</th><th class="bg-light-info" ng-show="$root.canActive(methodName)">تفعيل</th><th ng-if="0" class="bg-light-info no-print">عمليات</th><th class="bg-light-info">المستخدم</th><th class="bg-light-info">وقت وتاريخ الاضافة</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" ng-dblclick="$root.openModelViewer(\'viewReceive\',invoice.id,\'تفاصيل طلب الدخول/الخروج\')" total-items="totalItems"><td class="">{{$index+1+(pageMax*(cur_page-1))}} </td><td class="">{{invoice.id }} <span ng-show="$root.canPriority(methodName)" class="label bold label-rounded label-default" ng-class="(invoice.priority|priorityColor:600)"> {{$root.dashboardData.priorities[invoice.priority].name}}</span></td><td class=""><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.forUser,\'c\')"> {{invoice.customerName }} </a>\x3c!-- >--\x3e</td><td class=""><a href class="pointer" ng-click="$root.openModelType(\'customerCounter\',invoice.driver,\'d\')"> {{invoice.driverName }} </a></td><td><span class="label bold label-rounded" ng-class="(invoice.add_at|daysColor:200)" ng-show="invoice.add_at"> {{invoice.add_at|dateSmallFormat}} </span></td><td> {{invoice.receive_no }} </td><td ng-if="0"> {{invoice.bill_id }} <span ng-show="invoice.saleType" class="label bold label-rounded label-default" ng-class="(invoice.saleType|priorityColor:100)"> {{$root.dashboardData.saleTypes[invoice.saleType].name}}</span></td><td class="" ng-show="listParams.withCount != 0 "><div class="row p-0 m-0"><label-value class="col p-0" color="teal" full="true" ng-show="invoice.itemsCount" size="5" title="كبير"> {{invoice.itemsCount}} </label-value><label-value class="col p-0" color="green" full="true" ng-show="invoice.itemsCountSmall" size="5" title="صغير"> {{invoice.itemsCountSmall}} </label-value></div></td><td ng-if="0"> {{invoice.export_no }} </td><td ng-if="0" class=""><span ng-show="invoice.status==2&& listParams.withCount==0" class="label bold label-rounded label-default" ng-class="(invoice.status|typeColor:100)"> تم الخروج </span><div ng-show="listParams.withCount != 0 && invoice.status==2" class="row p-0 m-0"><label-value class="col p-0" color="red" full="true" ng-show="invoice.exportCount>0" size="5" title="كبير"> {{invoice.exportCount}} </label-value><label-value class="col p-0" color="green" full="true" ng-show="invoice.exportSmall>0" size="5" title="صغير"> {{invoice.exportSmall}} </label-value></div><div ng-show="listParams.withCount != 0 && invoice.status==2" class="row p-0 m-0"><label-value class="col p-0" color="blue" full="true" ng-show="invoice.countBack" size="5" title="ك.فارغ"> {{invoice.countBack}} </label-value><label-value class="col p-0" color="indigo" full="true" ng-show="invoice.countBackSmall" size="5" title="ص.فارغ"> {{invoice.countBackSmall}} </label-value></div></td><td class="" ng-show="$root.canActive(methodName)"><change-status hide-title="1" item-id="invoice.id" ng-model="invoice.active" table="methodName"></change-status></td><td ng-if="0" class="m-0 p-0 no-print"><div class="col-lg-auto m-0 p-0"><div class="btn-group"><button class="w-100 btn btn-info dropdown-toggle" data-toggle="dropdown" ng-class="{\'btn-warning\':invoice.status==\'PLACED\' && invoice.status_id ==\'0\'}" type="button"> خيارات <span class="caret"></span></button><div class="dropdown-menu text-center" role="menu">\x3c!-- >--\x3e<button ng-if="$root.can(\'sales_exports.Add\') && invoice.status==0" ng-show="invoice.status==0" class="btn btn-success btn-sm" ng-click="openAddModelFull(\'addSalesExports\',invoice)">اضافة امر الخروج <i class="fa fa-plus"></i></button><button ng-if="$root.can(\'sales_exports.Add\')" ng-show="invoice.status==0" class="btn btn-primary" ng-click="$root.openAddModel(\'editExport\',invoice.export_id)">بدون اذن خروج <i class="fa fa-close"></i></button><button class="btn btn-success" ng-click="$root.openModelViewer(\'viewReceive\',invoice.id,\'تفاصيل طلب الدخول\')" style="margin:3px;width:90%">عرض <i class="fa fa-eye"></i></button><a class="btn btn-danger ng-scope" ng-click="openWindowUrl(\'admin/report/invoice/\'+invoice.for_uuid)" style="margin:3px;width:90%" target="_blank">فاتورة البيع <i class="fa fa-file-invoice"></i></a><a class="btn btn-danger ng-scope" ng-click="openWindowUrl(\'admin/report/receive/\'+invoice.uuid)" ng-show=" $root.can(\'sales_receives.View\')" style="margin:3px;width:90%" target="_blank">طلب الدخول <i class="fa fa-file-invoice"></i></a><button class="btn btn-info" ng-if="$root.can(\'sales_receives.addPriority\')" ng-click="openSelectModel(invoice,\'priority\',\'sales_priority_types\',\'الاولوية\')" style="margin:3px;width:90%">تغيير الاولوية <i class="fa fa-sort-amount-up"></i></button><button class="btn btn-info" ng-show="$root.can(\'sales_exports.exportBack\')" ng-if="invoice.export_id" ng-click="openEditCheckModel(\'itemsBackModel\',invoice.export_id,invoice)" style="margin:3px;width:90%">مرتجع مبيعات <i class="fa fa-sort-amount-up"></i></button><a class="btn btn-success ng-scope" href="admin/accounting/itemsBalance/c/{{invoice.forUser}}" ng-click="openWindowUrl(\'admin/accounting/itemsBalance/c/\'+invoice.forUser)" ng-show="0&& $root.can(\'sales_customers.View\')" style="margin:3px;width:90%" target="_blank">رصيد الاسطوانات <i class="fa fa-battery-empty"></i></a><button class="btn btn-danger" ng-if="invoice.forUser" ng-click="$root.openModelForItem(\'actionModel\',4)" style="margin:3px;width:90%">سند قبض <i class="fa fa-money-bill-alt"></i></button><button class="btn btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'sales_receives.Delete\')" style="margin:3px;width:90%"> حذف <i class="fa fa-trash-o"></i></button><button class="btn btn-success" ng-show="invoice.export_id" ng-click="$root.openWindowUrl(\'admin/report/billInvoice/\'+invoice.export_id,$index)" style="margin:3px;width:90%"> عرض الفاتورة <i class="fa fa-file-invoice"></i></button><button class="btn btn-primary" ng-show="invoice.export_id" ng-click="postTo(\'report/billInvoicePrint/\'+invoice.export_id,$index)" style="margin:3px;width:90%"> طباعة الفاتورة <i class="fa fa-print"></i></button><button ng-if="$root.dashboardData.isSuper" class="btn btn-success btn-sm" ng-click="$root.openAddModel(\'editReceive\',invoice.id)">تعديل الدخول <i class="fa fa-plus"></i></button><button ng-if="$root.dashboardData.isSuper" ng-show="invoice.export_id" class="btn btn-success btn-sm" ng-click="$root.openAddModel(\'editExport\',invoice.export_id)">تعديل الخروج والفاتورة <i class="fa fa-plus"></i></button></div></div></div></td><td><strong style="white-space: nowrap"> {{invoice.byUser}}</strong></td><td><strong style="white-space: nowrap"> {{invoice.created_at |dateTimeFormat}}</strong></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-if="views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.sales_receives || \'طلبات الدخول\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.sales_receives || \'طلبات الدخول\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><div class="col-lg-12 mt-2"><label class="col-auto control-label mb-2">قائمة المنتجات</label><row-list ng-model="form.items_list" view-mode="true" view-price="0"></row-list></div><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div>'),e.put("assets/views/suppliers.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="col-12" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-info waves-effect waves-light" type="submit">بحث <i class="fa fa-search"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" class="col-lg-12 text-center" method="POST" name="searchForm" novalidate role="form" target="_blank"><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input class="form-control input-sm" name="searchInput[\'text\']" ng-model="searchInput.text" placeholder="بحث" title="3 احرف على الاقل" tooltip type="text"></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button class="m-1 btn btn-success waves-effect waves-light" ng-show="searchInput.export" type="submit"> تصدير <i class="fa fa-file-excel-o"></i></button><a class="m-1 btn btn-danger waves-effect waves-light" ng-click="resetSearch();"> X</a><div class="switch"><label><input name="searchInput[\'export\']" ng-model="searchInput.export" type="checkbox" value="export"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'add\')" ng-show=" $root.can(\'suppliers.Add\')" title="اضافة" tooltip>اضافة </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'suppliers.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><div class="btn pull-left btn-success card-block-input-item" ng-click="$root.printTable(\'.sales_suppliers_table\');">طباعة </div><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.suppliers || \'الموردين\'}} ({{totalItems}})</h3><div class="table-responsive"><table dir="rtl" class="sales_suppliers_table ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الرقم</th><th class="bg-light-info">اسم المصنع</th><th class="bg-light-info">الرصيد</th><th class="bg-light-info">عدد مشتريات الاسطوانات</th><th class="bg-light-info">اجمالي مشتريات الاسطوانات</th><th class="bg-light-info">مرتجع</th><th class="bg-light-info">اجمالي مرتجع</th><th class="bg-light-info">تفعيل</th><th class="bg-light-info">الترتيب</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:pageMax | object2Array | filter:searchPageText" total-items="totalItems"><td>{{invoice.id }}</td><td>{{invoice.name }}</td><td><span class="h5"><span style="white-space: nowrap" ng-show="invoice.balance" class="label bold label-rounded label-default" ng-class="(invoice.balance|balanceColor:200)"> {{invoice.balance|balanceNumber}}</span></span></td><td>{{invoice.invItems|number }}</td><td>{{invoice.invAmount|number }}</td><td><a href class="pointer" ng-click="$root.openWindowFull(\'admin/ifrs/action/statement/9\',{\'id\':invoice.id,\'t\':\'s\'})">{{invoice.backItems|number }}</a></td><td>{{invoice.backAmount|number }}</td><td><change-status item-id="invoice.id" ng-if="!invoice.sys" ng-model="invoice.active" table="methodName"></change-status></td><td>{{invoice.sort }}</td><td><button class="btn btn-danger btn-sm" ng-click="$root.openAccountReport(invoice.id,\'s\',invoice.name)" ng-show="$root.can(\'sales_customers.journalList\')">كشف حساب <i class="fa fa-dollar-sign"></i></button><button class="btn btn-circle btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'suppliers.Edit\') && !invoice.sys" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'suppliers.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-sm btn-danger" ng-click="remove(invoice,$index) && !invoice.sys" ng-show=" $root.can(\'suppliers.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr><th class="bg-light-info">-</th><th class="bg-light-info">-</th><th class="bg-light-info">{{items|sum:\'balance\'|number}}</th><th class="bg-light-info">{{items|sum:\'invItems\'|number}}</th><th class="bg-light-info">{{items|sum:\'invAmount\'|number}}</th><th class="bg-light-info">{{items|sum:\'backItems\'|number}}</th><th class="bg-light-info">{{items|sum:\'backAmount\'|number}}</th><th class="bg-light-info">-</th><th class="bg-light-info">-</th><th class="bg-light-info"></th></tr><tr ng-show="!items.length"><td class="noTableData" colspan="20">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.suppliers || \'الموردين\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.suppliers || \'الموردين\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><input-field class="col-lg-6" field-type="text" name="name" ng-model="form.name" required title="الاسم"></input-field><input-field class="col-lg-6" field-type="text" name="type" ng-model="form.type" title="النوع"></input-field><input-field class="col-lg-6" field-type="number" name="sort" ng-model="form.sort" title="الترتيب"></input-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label class="col-auto form-check-label mx-2" ng-if="views.add" ng-show="formSettings.dont_close"><input class="form-check-input" ng-model="formSettings.dont_clear" type="checkbox" value="1"> ابقاء البيانات </label><label class="col-auto form-check-label" ng-if="views.add"><input class="form-check-input" ng-model="formSettings.dont_close" type="checkbox" value="1"> عدم الخروج </label><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.Return}} </button><a class="btn btn-success btn-flat pull-left card-block-input-item" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" ng-click="$root.can(\' suppliers.Import\')" target="_blank">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" name="importData" ng-submit="saveImported(0)" novalidate role="form"><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input file-model="formImport.import" name="import" type="file"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid" type="submit">{{phrase.Import}} </button></div></div></form></div></div></div></div></div><modal-ezz-small visible><my-view change-view="hideView" item-view="itemView"></my-view></modal-ezz-small><my-view change-view="changeView" item-view="itemView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/tablesgroups.html",'<div class="row page-titles no-print"><div class="col-md-6 col-8 align-self-center"><h3 class="text-themecolor m-b-0 m-t-0">مجموعات القوائم</h3></div><div class="col-md-6 col-4 align-self-center"></div></div><div class="row m-0" ng-show="views.list"><div class="col-12 m-0 p-0" ng-show="!searchInput.export"><div class="card card-outline-danger m-0" style="background-color: #ffffff; border: 3px solid #2ecc71"><div class="card-block p-2"><form class="col-lg-12 text-center" name="searchForm" ng-submit="searchDB2(1)" role="form" novalidate><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input type="text" name="searchInput[\'text\']" ng-model="searchInput.text" class="form-control input-sm" placeholder="بحث" title="3 احرف على الاقل" tooltip></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button type="submit" class="m-1 btn btn-info waves-effect waves-light">بحث <i class="fa fa-search"></i></button><a ng-click="resetSearch();" class="m-1 btn btn-danger waves-effect waves-light"> X</a><div class="switch"><label><input type="checkbox" ng-model="searchInput.export" value="export" name="searchInput[\'export\']"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 m-0 p-0" ng-show="searchInput.export"><div class="card card-outline-danger m-0" style="border: 3px solid rgba(0,0,0,.125); background-color: #f2ffe7; border-color: #53b88e"><div class="card-block p-2"><form class="col-lg-12 text-center" target="_blank" name="searchForm" method="POST" action="{{\'index.php/admin/\'+methodName+\'List/listAll/export\'}}" role="form" novalidate><div class="row"><div class="col-lg-2 mb-0 col-md-4 form-group px-1"><label>بحث</label><input type="text" name="searchInput[\'text\']" ng-model="searchInput.text" class="form-control input-sm" placeholder="بحث" title="3 احرف على الاقل" tooltip></div><div class="form-group col-lg-2 col-md-4 m-0 p-0"><div class="input-sm2"><button type="submit" ng-show="searchInput.export" class="m-1 btn btn-success waves-effect waves-light"> تصدير <i class="fa fa-file-excel-o"></i></button><a ng-click="resetSearch();" class="m-1 btn btn-danger waves-effect waves-light"> X</a><div class="switch"><label><input type="checkbox" ng-model="searchInput.export" value="export" name="searchInput[\'export\']"><span class="lever"></span>تصدير</label></div></div></div></div></form></div></div></div><div class="col-12 listContent"><div class="card"><div class="card-block"><button ng-show=" $root.can(\'tablesgroups.Add\')" ng-click="changeView(\'add\')" class="btn pull-left btn-success card-block-input-item" title="اضافة" tooltip>اضافة </button><button ng-show=" $root.can(\'tablesgroups.Import\')" ng-click="changeView(\'import\')" class="btn pull-left btn-success card-block-input-item" title="استيراد" tooltip>استيراد </button><h4 class="card-title">قائمة مجموعات القوائم ({{totalItems}})</h4><div class="table-responsive"><table class="table table-hover table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">الاسم</th><th class="bg-light-info">العنوان</th><th class="bg-light-info">الكود</th><th class="bg-light-info">order</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">تفعيل/تعطيل</th><th class="bg-light-info">الايقونة</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr dir-paginate="invoice in items | itemsPerPage:20" total-items="totalItems"><td>{{invoice.name }}</td><td>{{invoice.title }}</td><td>{{invoice.code }}</td><td>{{invoice.order }}</td><td>{{invoice.id }}</td><td>{{invoice.enabled }}</td><td>{{invoice.icon }}</td><td><button ng-show=" $root.can(\'tablesgroups.Edit\')" ng-click="edit(invoice.id)" class="btn btn-circle btn-info" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button ng-show=" $root.can(\'tablesgroups.View\')" ng-click="viewDetails(invoice.id)" class="btn btn-circle btn-success" title="عرض" tooltip><i class="fa fa-eye"></i></button><button ng-show=" $root.can(\'tablesgroups.Delete\')" ng-click="remove(invoice,$index)" class="btn btn-circle btn-danger" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table><paging total="totalItems"></paging></div></div></div></div></div><div class="row m-0" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.cancelAdd}}</button><h4 ng-if="views.add" class="card-title">اضافة مجموعات القوائم </h4><h4 ng-if="views.edit" class="card-title">تعديل مجموعات القوائم </h4><br><div class=""><form class="form-horizontal row" name="addForm" role="form" ng-submit="save_publish()" novalidate><div class="col-lg-6 pl-0 form-group row" ng-class="{\'has-error\': addForm.name.$invalid}"><div class="col-sm-2 p-0 text-right control-label col-form-label">الاسم* </div><div class="col-sm-10 pl-0"><input type="text" name="name" ng-model="form.name" class="form-control" required placeholder="الاسم"></div></div><div class="col-lg-6 pl-0 form-group row" ng-class="{\'has-error\': addForm.title.$invalid}"><div class="col-sm-2 p-0 text-right control-label col-form-label">العنوان* </div><div class="col-sm-10 pl-0"><input type="text" name="title" ng-model="form.title" class="form-control" required placeholder="العنوان"></div></div><div class="col-lg-6 pl-0 form-group row" ng-class="{\'has-error\': addForm.code.$invalid}"><div class="col-sm-2 p-0 text-right control-label col-form-label">الكود* </div><div class="col-sm-10 pl-0"><input type="text" name="code" ng-model="form.code" class="form-control" required placeholder="الكود"></div></div><div class="col-lg-6 pl-0 form-group row" ng-class="{\'has-error\': addForm.order.$invalid}"><div class="col-sm-2 p-0 text-right control-label col-form-label">order* </div><div class="col-sm-10 pl-0"><input type="text" name="order" ng-model="form.order" class="form-control" required placeholder="order"></div></div><div class="col-lg-6 pl-0 form-group row" ng-class="{\'has-error\': addForm.enabled.$invalid}"><div class="col-sm-2 p-0 text-right control-label col-form-label">تفعيل/تعطيل* </div><div class="col-sm-10 pl-0"><div class="form-check"><label class="custom-control custom-radio"><input type="radio" name="enabled" value="0" ng-model="form.enabled" class="custom-control-input"><span class="custom-control-indicator"></span><span class="custom-control-description"> معطل</span></label><label class="custom-control custom-radio"><input type="radio" name="enabled" value="1" ng-model="form.enabled" class="custom-control-input"><span class="custom-control-indicator"></span><span class="custom-control-description"> مفعل</span></label></div></div></div><div class="col-lg-6 pl-0 form-group row" ng-class="{\'has-error\': addForm.icon.$invalid}"><div class="col-sm-2 p-0 text-right control-label col-form-label">الايقونة* </div><div class="col-sm-10 pl-0"><input type="text" name="icon" ng-model="form.icon" class="form-control" required placeholder="الايقونة"></div></div><div class="col-lg-12 form-group m-b-0"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid">تعديل</button><a type="text" ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">الغاء</a></div><button ng-if="views.add" type="submit" class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid"> اضافة</button><button ng-if="views.edit" type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid"> تعديل</button></div></div></form></div></div></div></div></div><div class="row" ng-show="views.import"><div class="col-12"><div class="card"><div class="card-block"><button ng-click="changeView(\'list\')" class="btn btn-danger btn-flat pull-left card-block-input-item">{{phrase.Return}}</button><a target="_blank" ng-click="$root.can(\' tablesgroups.Import\')" href="{{\'index.php/admin/\'+methodName+\'/import\'}}" class="btn btn-success btn-flat pull-left card-block-input-item">تحميل قالب الاستيراد <i class="fa fa-file-excel-o"></i></a><h4 class="card-title">{{phrase.Import}} </h4><div><form class="form row" ng-submit="saveImported(0)" name="importData" role="form" novalidate><div class="form-group row col-lg-12"><label class="col-sm-2 text-right control-label col-form-label">{{phrase.fileToImport}}</label><div class="col-sm-10"><input type="file" name="import" file-model="formImport.import"></div></div><div class="form-group m-b-0 col-lg-12"><div class="offset-sm-2 col-sm-10"><button type="submit" class="btn btn-info waves-effect waves-light" ng-disabled="importData.$invalid">{{phrase.Import}}</button></div></div></form></div></div></div></div></div><my-view item-view="itemView" change-view="changeView" ng-show="views.view"></my-view><modal visible><div ng-bind-html="modalContent"></div></modal>'),e.put("assets/views/working_time.html",'<div class="row pt-2"></div><div class="row" ng-if="showSearch" ng-show="views.list"><div class="card card-outline-danger m-0 col-12" style="background-color: #ffffff;border: 1px solid #2e323b"><div class="card-block pt-0 pb-2 px-0 col-12"><form class="col-lg-12 px-0 text-center" name="searchForm" ng-submit="searchDB2(1)" novalidate role="form"><div class="row col-12"><input-field class="col-lg-2 px-0" field-type="text" name="text" ng-change="searchChange" ng-model="searchInput.text" placeholder="----" title="بحث"></input-field><div class="form-group col-auto m-0 p-0 mt-2"><div class="input-sm2"><button class="card-block-input-item btn btn-info" style="height: 30px" type="submit"> بحث <i class="fa fa-search"></i></button><a class="card-block-input-item btn btn-danger" ng-click="clearSearch();" style="height: 30px"> X</a><a class="btn btn-danger card-block-input-item" ng-click="hideSearch()" style="height: 30px">اخفاء البحث </a></div></div></div></form></div></div></div><div class="row" ng-show="views.list"><div class="col-12 listContent"><div class="card"><div class="card-block"><button class="btn pull-left btn-success card-block-input-item" ng-click="openAddModel(\'addStartWorkingTime\')" ng-show=" $root.can(\'working_time.Add\')" title="اضافة" tooltip>اضافة بداية تشغيل </button><button class="btn pull-left btn-success card-block-input-item" ng-click="changeView(\'import\')" ng-show=" $root.can(\'working_time.Import\')" title="استيراد" tooltip>استيراد </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=1" ng-show="!showSearch">بحث </button><button class="btn pull-left btn-danger card-block-input-item" ng-click="showSearch=0" ng-show="showSearch">اخفاء البحث </button><button class="btn btn-outline-primary pull-left card-block-input-item" ng-click="getResultsPage()"><i class="fa fa-refresh"></i></button><div class="pull-left"><select class="form-control custom-select input-sm" name="pageMax" ng-change="setMax()" ng-model="pageMax" style="width: 100%"><option value="10">10 عنصر</option><option value="20">20 عنصر</option><option value="30">30 عنصر</option><option value="40">40 عنصر</option><option value="50">50 عنصر</option><option value="100">100 عنصر</option><option value="150">150 عنصر</option><option value="200">200 عنصر</option><option value="300">300 عنصر</option><option value="500">500 عنصر</option><option value="1000">1000 عنصر</option></select></div><div class="pull-left ml-1" style="width: 20%"><input class="form-control" ng-model="searchPageText" placeholder="البحث داخل الصفحة"></div><h3 class="card-title mb-2">{{phrase.working_time || \'التشغيل\'}} ({{totalItems}})</h3><div><div class="table-responsive"><table class="ezztable table table-hover table-striped table-bordered" wt-responsive-table><thead><tr><th class="bg-light-info">م</th><th class="bg-light-info">الرقم</th><th class="bg-light-info">وقت التشغيل</th><th class="bg-light-info">ملاحضات التشغيل</th><th class="bg-light-info">وقت ايقاف التشغيل</th><th class="bg-light-info">ملاحضات ايقاف التشغيل</th><th class="bg-light-info">مدة التشغيل</th><th class="bg-light-info">عمليات</th></tr></thead><tbody><tr></tr><tr ng-repeat="invoice in items | object2Array | filter:searchPageText" total-items="totalItems"><td>{{$index + 1}}</td><td>{{invoice.id }}</td><td>{{invoice.start_at|dateTimeFormat }}</td><td>{{invoice.start_note }}</td><td>{{invoice.end_at|dateTimeFormat }} <button class="btn btn-danger card-block-input-item" ng-click="openAddModel(\'addEndWorkingTime\',invoice.id)" ng-if="!invoice.end_at" ng-show=" $root.can(\'working_time.Add\')" title="اضافة" tooltip>اضافة ايقاف تشغيل </button></td><td>{{invoice.stop_note }}</td><td><span ng-if="invoice.end_at"> {{invoice.start_at|dateDif:invoice.end_at}}</span></td><td><button class="btn btn-circle btn-sm btn-info" ng-click="edit(invoice.id)" ng-show=" $root.can(\'working_time.Edit\')" title="تعديل" tooltip><i class="fa fa-pencil"></i></button><button class="btn btn-circle btn-sm btn-success" ng-click="viewDetailsDialog(invoice.id)" ng-show=" $root.can(\'working_time.View\')" title="عرض" tooltip><i class="fa fa-eye"></i></button><button class="btn btn-circle btn-sm btn-danger" ng-click="remove(invoice,$index)" ng-show=" $root.can(\'working_time.Delete\')" title="حذف" tooltip><i class="fa fa-trash-o"></i></button></td></tr><tr ng-show="!items.length"><td class="noTableData" colspan="7">لايوجد بيانات</td></tr></tbody></table></div><paging total="totalItems"></paging></div></div></div></div></div><div class="row" ng-show="views.add || views.edit"><div class="col-12"><div class="card"><div class="card-block"><button class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')"> {{phrase.cancelAdd}} </button><h4 class="card-title" ng-if="views.add">اضافة {{phrase.working_time || \'التشغيل\'}} </h4><h4 class="card-title" ng-if="views.edit">تعديل {{phrase.working_time || \'التشغيل\'}} </h4><br><div class=""><form class="form-horizontal row" name="addForm" ng-submit="save_publish()" novalidate role="form"><datetime-field class="col-lg-6" field-type="datetime-local" name="start_at" ng-model="form.start_at" required title="وقت التشغيل"></datetime-field><textarea-field class="col-lg-12" name="start_note" ng-model="form.start_note" title="ملاحضات التشغيل"></textarea-field><datetime-field class="col-lg-6" field-type="datetime-local" name="end_at" ng-model="form.end_at" required title="وقت ايقاف التشغيل"></datetime-field><textarea-field class="col-lg-12" name="stop_note" ng-model="form.stop_note" title="ملاحضات ايقاف التشغيل"></textarea-field><div class="col-lg-12 form-group m-b-0 mt-2"><div class="offset-sm-2 col-sm-10"><div class="ezzbtn"><label class="col-auto form-check-label mx-2" ng-if="views.add" ng-show="formSettings.dont_close"><input class="form-check-input" ng-model="formSettings.dont_clear" type="checkbox" value="1"> ابقاء البيانات </label><label class="col-auto form-check-label" ng-if="views.add"><input class="form-check-input" ng-model="formSettings.dont_close" type="checkbox" value="1"> عدم الخروج </label><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit">تعديل </button><a class="btn btn-danger btn-flat pull-left card-block-input-item" ng-click="changeView(\'list\')" type="text">الغاء</a></div><button class="btn btn-success waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.add" type="submit"> اضافة </button><button class="btn btn-info waves-effect waves-light" ng-disabled="addForm.$invalid" ng-if="views.edit" type="submit"> تعديل </button></div></div></form></div></div></div></div></div>')}]);